disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
connect(0)
connect(1)
connect(2)
Test (2B): basic agreement ...
选举超时, id=1, time=1705032489832
id=1 vote to itself, term=1, time=1705032489832
id=1 send to id=2
id=1 send to id=0
id=1 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=1, me=0, term=1, myCommit=0, time=1705032489834
heart beat handle success, leader=1, me=0, term=1, myCommit=0, time=1705032489834
heart beat handle success, leader=1, me=2, term=1, myCommit=0, time=1705032489834
heart beat handle success, leader=1, me=2, term=1, myCommit=0, time=1705032489834
leader=1 receive one log, logIndex=1
send cmd to 1, index=1
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=0
follower=0 will handle count=1, curIndex=0
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=1, myCommit=0, time=1705032490036
heart beat handle success, leader=1, me=2, term=1, myCommit=0, time=1705032490036
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[1], rf.matchIndex=[1 1 1]
follower=0 refresh commit success, put logIndex=[1]
heart beat handle success, leader=1, me=0, term=1, myCommit=1, time=1705032490138
follower=2 refresh commit success, put logIndex=[1]
heart beat handle success, leader=1, me=2, term=1, myCommit=1, time=1705032490138
对于index=1日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=2
send cmd to 1, index=2
对于index=2日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=1
follower=2 receive log, firstTerm=1, firstIndex=2, lastTerm=1, lastIndex=2
follower=0 will handle count=1, curIndex=1
follower=0 receive log, firstTerm=1, firstIndex=2, lastTerm=1, lastIndex=2
对于index=2日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[2], rf.matchIndex=[2 2 2]
follower=2 refresh commit success, put logIndex=[2]
heart beat handle success, leader=1, me=2, term=1, myCommit=2, time=1705032490340
follower=0 refresh commit success, put logIndex=[2]
heart beat handle success, leader=1, me=0, term=1, myCommit=2, time=1705032490340
对于index=2日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=3
send cmd to 1, index=3
对于index=3日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=2
follower=0 receive log, firstTerm=1, firstIndex=3, lastTerm=1, lastIndex=3
follower=2 will handle count=1, curIndex=2
follower=2 receive log, firstTerm=1, firstIndex=3, lastTerm=1, lastIndex=3
对于index=3日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[3], rf.matchIndex=[3 3 3]
follower=2 refresh commit success, put logIndex=[3]
heart beat handle success, leader=1, me=2, term=1, myCommit=3, time=1705032490544
follower=0 refresh commit success, put logIndex=[3]
heart beat handle success, leader=1, me=0, term=1, myCommit=3, time=1705032490544
对于index=3日志, 有3个节点已经达成共识, 一共有3个节点
  ... Passed --   0.9  3   20    7170    3
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
connect(0)
connect(1)
connect(2)
Test (2B): RPC byte count ...
选举超时, id=1, time=1705032490732
id=1 vote to itself, term=1, time=1705032490732
id=1 send to id=2
id=1 send to id=0
id=1 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=1, me=0, term=1, myCommit=0, time=1705032490733
heart beat handle success, leader=1, me=0, term=1, myCommit=0, time=1705032490733
heart beat handle success, leader=1, me=2, term=1, myCommit=0, time=1705032490733
heart beat handle success, leader=1, me=2, term=1, myCommit=0, time=1705032490733
leader=1 receive one log, logIndex=1
send cmd to 1, index=1
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=0
follower=0 will handle count=1, curIndex=0
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=1, myCommit=0, time=1705032490934
heart beat handle success, leader=1, me=2, term=1, myCommit=0, time=1705032490934
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[1], rf.matchIndex=[1 1 1]
follower=2 refresh commit success, put logIndex=[1]
heart beat handle success, leader=1, me=2, term=1, myCommit=1, time=1705032491035
follower=0 refresh commit success, put logIndex=[1]
heart beat handle success, leader=1, me=0, term=1, myCommit=1, time=1705032491035
心跳超时, id=0, time=1705032491045
id=0 vote to itself, term=2, time=1705032491045
id=0 send to id=2
id=0 send to id=1
心跳超时, id=2, time=1705032491065
id=2 vote to itself, term=2, time=1705032491065
id=2 send to id=1
id=2 send to id=0
对于index=1日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=2
send cmd to 1, index=2
对于index=2日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=1
follower=2 receive log, firstTerm=1, firstIndex=2, lastTerm=1, lastIndex=2
follower=0 will handle count=1, curIndex=1
follower=0 receive log, firstTerm=1, firstIndex=2, lastTerm=1, lastIndex=2
对于index=2日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[2], rf.matchIndex=[2 2 2]
follower=2 refresh commit success, put logIndex=[2]
heart beat handle success, leader=1, me=2, term=1, myCommit=2, time=1705032491242
follower=0 refresh commit success, put logIndex=[2]
heart beat handle success, leader=1, me=0, term=1, myCommit=2, time=1705032491252
对于index=2日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=3
send cmd to 1, index=3
对于index=3日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=2
follower=2 receive log, firstTerm=1, firstIndex=3, lastTerm=1, lastIndex=3
follower=0 will handle count=1, curIndex=2
follower=0 receive log, firstTerm=1, firstIndex=3, lastTerm=1, lastIndex=3
对于index=3日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[3], rf.matchIndex=[3 3 3]
follower=2 refresh commit success, put logIndex=[3]
heart beat handle success, leader=1, me=2, term=1, myCommit=3, time=1705032491450
follower=0 refresh commit success, put logIndex=[3]
heart beat handle success, leader=1, me=0, term=1, myCommit=3, time=1705032491458
对于index=3日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=4
send cmd to 1, index=4
对于index=4日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=3
follower=2 receive log, firstTerm=1, firstIndex=4, lastTerm=1, lastIndex=4
follower=0 will handle count=1, curIndex=3
follower=0 receive log, firstTerm=1, firstIndex=4, lastTerm=1, lastIndex=4
对于index=4日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[4], rf.matchIndex=[4 4 4]
follower=0 refresh commit success, put logIndex=[4]
heart beat handle success, leader=1, me=0, term=1, myCommit=4, time=1705032491666
follower=2 refresh commit success, put logIndex=[4]
heart beat handle success, leader=1, me=2, term=1, myCommit=4, time=1705032491668
对于index=4日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=5
send cmd to 1, index=5
对于index=5日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=4
follower=0 receive log, firstTerm=1, firstIndex=5, lastTerm=1, lastIndex=5
follower=2 will handle count=1, curIndex=4
follower=2 receive log, firstTerm=1, firstIndex=5, lastTerm=1, lastIndex=5
对于index=5日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[5], rf.matchIndex=[5 5 5]
follower=0 refresh commit success, put logIndex=[5]
heart beat handle success, leader=1, me=0, term=1, myCommit=5, time=1705032491871
follower=2 refresh commit success, put logIndex=[5]
heart beat handle success, leader=1, me=2, term=1, myCommit=5, time=1705032491879
对于index=5日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=6
send cmd to 1, index=6
对于index=6日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=5
follower=0 receive log, firstTerm=1, firstIndex=6, lastTerm=1, lastIndex=6
follower=2 will handle count=1, curIndex=5
follower=2 receive log, firstTerm=1, firstIndex=6, lastTerm=1, lastIndex=6
对于index=6日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[6], rf.matchIndex=[6 6 6]
follower=0 refresh commit success, put logIndex=[6]
heart beat handle success, leader=1, me=0, term=1, myCommit=6, time=1705032492080
follower=2 refresh commit success, put logIndex=[6]
heart beat handle success, leader=1, me=2, term=1, myCommit=6, time=1705032492080
对于index=6日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=7
send cmd to 1, index=7
对于index=7日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=6
follower=0 receive log, firstTerm=1, firstIndex=7, lastTerm=1, lastIndex=7
follower=2 will handle count=1, curIndex=6
follower=2 receive log, firstTerm=1, firstIndex=7, lastTerm=1, lastIndex=7
对于index=7日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[7], rf.matchIndex=[7 7 7]
follower=0 refresh commit success, put logIndex=[7]
heart beat handle success, leader=1, me=0, term=1, myCommit=7, time=1705032492292
follower=2 refresh commit success, put logIndex=[7]
heart beat handle success, leader=1, me=2, term=1, myCommit=7, time=1705032492292
对于index=7日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=8
send cmd to 1, index=8
对于index=8日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=7
follower=0 receive log, firstTerm=1, firstIndex=8, lastTerm=1, lastIndex=8
follower=2 will handle count=1, curIndex=7
follower=2 receive log, firstTerm=1, firstIndex=8, lastTerm=1, lastIndex=8
对于index=8日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[8], rf.matchIndex=[8 8 8]
follower=2 refresh commit success, put logIndex=[8]
heart beat handle success, leader=1, me=2, term=1, myCommit=8, time=1705032492496
follower=0 refresh commit success, put logIndex=[8]
heart beat handle success, leader=1, me=0, term=1, myCommit=8, time=1705032492497
对于index=8日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=9
send cmd to 1, index=9
对于index=9日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=8
follower=2 receive log, firstTerm=1, firstIndex=9, lastTerm=1, lastIndex=9
follower=0 will handle count=1, curIndex=8
follower=0 receive log, firstTerm=1, firstIndex=9, lastTerm=1, lastIndex=9
对于index=9日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[9], rf.matchIndex=[9 9 9]
follower=2 refresh commit success, put logIndex=[9]
heart beat handle success, leader=1, me=2, term=1, myCommit=9, time=1705032492703
follower=0 refresh commit success, put logIndex=[9]
heart beat handle success, leader=1, me=0, term=1, myCommit=9, time=1705032492707
对于index=9日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=10
send cmd to 1, index=10
对于index=10日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=9
follower=2 receive log, firstTerm=1, firstIndex=10, lastTerm=1, lastIndex=10
follower=0 will handle count=1, curIndex=9
follower=0 receive log, firstTerm=1, firstIndex=10, lastTerm=1, lastIndex=10
对于index=10日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[10], rf.matchIndex=[10 10 10]
follower=2 refresh commit success, put logIndex=[10]
heart beat handle success, leader=1, me=2, term=1, myCommit=10, time=1705032492910
follower=0 refresh commit success, put logIndex=[10]
heart beat handle success, leader=1, me=0, term=1, myCommit=10, time=1705032492929
对于index=10日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=2, term=1, myCommit=10, time=1705032493017
对于index=10日志, 有3个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=1, myCommit=10, time=1705032493031
leader=1 receive one log, logIndex=11
send cmd to 1, index=11
对于index=11日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=10
follower=2 receive log, firstTerm=1, firstIndex=11, lastTerm=1, lastIndex=11
follower=0 will handle count=1, curIndex=10
follower=0 receive log, firstTerm=1, firstIndex=11, lastTerm=1, lastIndex=11
对于index=11日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[11], rf.matchIndex=[11 11 11]
follower=2 refresh commit success, put logIndex=[11]
heart beat handle success, leader=1, me=2, term=1, myCommit=11, time=1705032493225
对于index=11日志, 有2个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[11]
heart beat handle success, leader=1, me=0, term=1, myCommit=11, time=1705032493240
heart beat handle success, leader=1, me=2, term=1, myCommit=11, time=1705032493329
对于index=11日志, 有3个节点已经达成共识, 一共有3个节点
  ... Passed --   2.8  3   55  120790   11
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
connect(0)
connect(1)
connect(2)
Test (2B): test progressive failure of followers ...
选举超时, id=0, time=1705032493586
id=0 vote to itself, term=1, time=1705032493586
id=0 send to id=2
id=0 send to id=1
id=0 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705032493588
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705032493588
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705032493588
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705032493588
leader=0 receive one log, logIndex=1
send cmd to 0, index=1
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=0
follower=2 will handle count=1, curIndex=0
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=0, time=1705032493756
id=0 vote to itself, term=2, time=1705032493756
id=0 send to id=2
id=0 send to id=1
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705032493793
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705032493805
心跳超时, id=2, time=1705032493833
id=2 vote to itself, term=2, time=1705032493833
id=2 send to id=1
id=2 send to id=0
leader=0 refresh commit success, put logIndex=[1], rf.matchIndex=[1 1 1]
follower=2 refresh commit success, put logIndex=[1]
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705032493902
对于index=1日志, 有2个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[1]
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705032493908
对于index=1日志, 有3个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705032494011
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705032494023
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705032494123
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705032494123
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705032494236
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705032494249
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705032494337
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705032494370
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705032494444
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705032494490
disconnect(1)
leader=0 receive one log, logIndex=2
send cmd to 0, index=2
对于index=2日志, 有0个节点已经达成共识, 一共有2个节点
follower=2 will handle count=1, curIndex=1
follower=2 receive log, firstTerm=1, firstIndex=2, lastTerm=1, lastIndex=2
leader=0 refresh commit success, put logIndex=[2], rf.matchIndex=[2 1 2]
对于index=2日志, 有1个节点已经达成共识, 一共有2个节点
follower=2 refresh commit success, put logIndex=[2]
heart beat handle success, leader=0, me=2, term=1, myCommit=2, time=1705032494665
对于index=2日志, 有2个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=0, me=2, term=1, myCommit=2, time=1705032494766
heart beat handle success, leader=0, me=2, term=1, myCommit=2, time=1705032494867
heart beat handle success, leader=0, me=2, term=1, myCommit=2, time=1705032494970
心跳超时, id=1, time=1705032495049
id=1 vote to itself, term=2, time=1705032495049
id=1 send to id=0
id=1 send to id=2
heart beat handle success, leader=0, me=2, term=1, myCommit=2, time=1705032495087
heart beat handle success, leader=0, me=2, term=1, myCommit=2, time=1705032495204
leader=0 receive one log, logIndex=3
send cmd to 0, index=3
对于index=3日志, 有0个节点已经达成共识, 一共有2个节点
follower=2 will handle count=1, curIndex=2
follower=2 receive log, firstTerm=1, firstIndex=3, lastTerm=1, lastIndex=3
对于index=3日志, 有0个节点已经达成共识, 一共有2个节点
leader=0 refresh commit success, put logIndex=[3], rf.matchIndex=[3 1 3]
follower=2 refresh commit success, put logIndex=[3]
heart beat handle success, leader=0, me=2, term=1, myCommit=3, time=1705032495411
对于index=3日志, 有2个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=0, me=2, term=1, myCommit=3, time=1705032495516
heart beat handle success, leader=0, me=2, term=1, myCommit=3, time=1705032495623
heart beat handle success, leader=0, me=2, term=1, myCommit=3, time=1705032495725
heart beat handle success, leader=0, me=2, term=1, myCommit=3, time=1705032495826
心跳超时, id=1, time=1705032495861
id=1 vote to itself, term=3, time=1705032495861
id=1 send to id=2
id=1 send to id=0
heart beat handle success, leader=0, me=2, term=1, myCommit=3, time=1705032495937
disconnect(1)
disconnect(2)
leader=0 receive one log, logIndex=4
心跳超时, id=2, time=1705032496468
id=2 vote to itself, term=2, time=1705032496468
id=2 send to id=1
id=2 send to id=0
心跳超时, id=1, time=1705032496684
id=1 vote to itself, term=4, time=1705032496684
id=1 send to id=2
id=1 send to id=0
  ... Passed --   3.6  3   63   20168    3
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
connect(0)
connect(1)
connect(2)
Test (2B): test failure of leaders ...
选举超时, id=2, time=1705032497122
id=2 vote to itself, term=1, time=1705032497122
id=2 send to id=1
id=2 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=2, me=1, term=1, myCommit=0, time=1705032497122
id=2 send to id=0
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705032497123
heart beat handle success, leader=2, me=1, term=1, myCommit=0, time=1705032497123
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705032497123
leader=2 receive one log, logIndex=1
send cmd to 2, index=1
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=0
follower=1 will handle count=1, curIndex=0
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705032497325
id=2 vote to itself, term=3, time=1705032497325
id=2 send to id=1
id=2 send to id=0
heart beat handle success, leader=2, me=1, term=1, myCommit=0, time=1705032497353
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705032497397
leader=2 refresh commit success, put logIndex=[1], rf.matchIndex=[1 1 1]
follower=1 refresh commit success, put logIndex=[1]
heart beat handle success, leader=2, me=1, term=1, myCommit=1, time=1705032497455
对于index=1日志, 有2个节点已经达成共识, 一共有3个节点
心跳超时, id=1, time=1705032497467
id=1 vote to itself, term=5, time=1705032497484
id=1 send to id=2
follower=0 refresh commit success, put logIndex=[1]
heart beat handle success, leader=2, me=0, term=1, myCommit=1, time=1705032497502
id=1 send to id=0
对于index=1日志, 有3个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=2, me=1, term=1, myCommit=1, time=1705032497582
heart beat handle success, leader=2, me=0, term=1, myCommit=1, time=1705032497603
heart beat handle success, leader=2, me=1, term=1, myCommit=1, time=1705032497684
heart beat handle success, leader=2, me=0, term=1, myCommit=1, time=1705032497704
heart beat handle success, leader=2, me=1, term=1, myCommit=1, time=1705032497796
heart beat handle success, leader=2, me=0, term=1, myCommit=1, time=1705032497844
heart beat handle success, leader=2, me=1, term=1, myCommit=1, time=1705032497917
heart beat handle success, leader=2, me=0, term=1, myCommit=1, time=1705032497948
disconnect(2)
heart beat handle success, leader=2, me=0, term=1, myCommit=1, time=1705032498119
heart beat handle success, leader=2, me=1, term=1, myCommit=1, time=1705032498136
心跳超时, id=0, time=1705032498687
id=0 vote to itself, term=2, time=1705032498688
id=0 send to id=2
id=0 send to id=1
id=0 become leader, lastLogIdx=1, leaderCommit=1
heart beat handle success, leader=0, me=1, term=2, myCommit=1, time=1705032498740
heart beat handle success, leader=0, me=1, term=2, myCommit=1, time=1705032498749
leader=0 receive one log, logIndex=2
send cmd to 0, index=2
对于index=2日志, 有0个节点已经达成共识, 一共有2个节点
follower=1 will handle count=1, curIndex=1
follower=1 receive log, firstTerm=2, firstIndex=2, lastTerm=2, lastIndex=2
对于index=2日志, 有0个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=0, me=1, term=2, myCommit=1, time=1705032498996
对于index=2日志, 有0个节点已经达成共识, 一共有2个节点
leader=0 refresh commit success, put logIndex=[2], rf.matchIndex=[2 2 1]
follower=1 refresh commit success, put logIndex=[2]
heart beat handle success, leader=0, me=1, term=2, myCommit=2, time=1705032499096
对于index=2日志, 有2个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=0, me=1, term=2, myCommit=2, time=1705032499199
heart beat handle success, leader=0, me=1, term=2, myCommit=2, time=1705032499302
heart beat handle success, leader=0, me=1, term=2, myCommit=2, time=1705032499428
heart beat handle success, leader=0, me=1, term=2, myCommit=2, time=1705032499562
leader=0 receive one log, logIndex=3
send cmd to 0, index=3
对于index=3日志, 有0个节点已经达成共识, 一共有2个节点
follower=1 will handle count=1, curIndex=2
follower=1 receive log, firstTerm=2, firstIndex=3, lastTerm=2, lastIndex=3
对于index=3日志, 有0个节点已经达成共识, 一共有2个节点
leader=0 refresh commit success, put logIndex=[3], rf.matchIndex=[3 3 1]
follower=1 refresh commit success, put logIndex=[3]
heart beat handle success, leader=0, me=1, term=2, myCommit=3, time=1705032499831
对于index=3日志, 有1个节点已经达成共识, 一共有2个节点
对于index=3日志, 有2个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=0, me=1, term=2, myCommit=3, time=1705032499966
heart beat handle success, leader=0, me=1, term=2, myCommit=3, time=1705032500085
heart beat handle success, leader=0, me=1, term=2, myCommit=3, time=1705032500193
heart beat handle success, leader=0, me=1, term=2, myCommit=3, time=1705032500294
heart beat handle success, leader=0, me=1, term=2, myCommit=3, time=1705032500397
disconnect(0)
leader=0 receive one log, logIndex=4
leader=2 receive one log, logIndex=2
心跳超时, id=1, time=1705032500916
id=1 vote to itself, term=3, time=1705032500916
id=1 send to id=2
id=1 send to id=0
  ... Passed --   4.5  3  100   33197    3
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
connect(0)
connect(1)
connect(2)
Test (2B): agreement after follower reconnects ...
心跳超时, id=1, time=1705032501610
id=1 vote to itself, term=4, time=1705032501610
id=1 send to id=2
id=1 send to id=0
选举超时, id=1, time=1705032501757
id=1 vote to itself, term=1, time=1705032501757
id=1 send to id=2
id=1 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=1, me=2, term=1, myCommit=0, time=1705032501759
heart beat handle success, leader=1, me=0, term=1, myCommit=0, time=1705032501760
heart beat handle success, leader=1, me=2, term=1, myCommit=0, time=1705032501760
heart beat handle success, leader=1, me=0, term=1, myCommit=0, time=1705032501760
id=1 send to id=0
leader=1 receive one log, logIndex=1
send cmd to 1, index=1
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=0
follower=0 will handle count=1, curIndex=0
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=1, myCommit=0, time=1705032502007
heart beat handle success, leader=1, me=2, term=1, myCommit=0, time=1705032502009
leader=1 refresh commit success, put logIndex=[1], rf.matchIndex=[1 1 1]
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[1]
heart beat handle success, leader=1, me=0, term=1, myCommit=1, time=1705032502109
follower=2 refresh commit success, put logIndex=[1]
heart beat handle success, leader=1, me=2, term=1, myCommit=1, time=1705032502172
对于index=1日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=1, myCommit=1, time=1705032502212
对于index=1日志, 有3个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=1, myCommit=1, time=1705032502313
heart beat handle success, leader=1, me=2, term=1, myCommit=1, time=1705032502327
heart beat handle success, leader=1, me=0, term=1, myCommit=1, time=1705032502414
heart beat handle success, leader=1, me=2, term=1, myCommit=1, time=1705032502431
heart beat handle success, leader=1, me=2, term=1, myCommit=1, time=1705032502557
heart beat handle success, leader=1, me=0, term=1, myCommit=1, time=1705032502572
heart beat handle success, leader=1, me=2, term=1, myCommit=1, time=1705032502715
heart beat handle success, leader=1, me=0, term=1, myCommit=1, time=1705032502757
disconnect(2)
leader=1 receive one log, logIndex=2
send cmd to 1, index=2
对于index=2日志, 有0个节点已经达成共识, 一共有2个节点
对于index=2日志, 有0个节点已经达成共识, 一共有2个节点
对于index=2日志, 有0个节点已经达成共识, 一共有2个节点
follower=0 will handle count=1, curIndex=1
follower=0 receive log, firstTerm=1, firstIndex=2, lastTerm=1, lastIndex=2
follower=0 will handle count=1, curIndex=2
follower=0 receive log, firstTerm=1, firstIndex=2, lastTerm=1, lastIndex=2
对于index=2日志, 有0个节点已经达成共识, 一共有2个节点
leader=1 refresh commit success, put logIndex=[2], rf.matchIndex=[2 2 1]
对于index=2日志, 有1个节点已经达成共识, 一共有2个节点
follower=0 refresh commit success, put logIndex=[2]
heart beat handle success, leader=1, me=0, term=1, myCommit=2, time=1705032503227
心跳超时, id=2, time=1705032503253
id=2 vote to itself, term=2, time=1705032503253
id=2 send to id=1
id=2 send to id=0
对于index=2日志, 有2个节点已经达成共识, 一共有2个节点
leader=1 receive one log, logIndex=3
send cmd to 1, index=3
对于index=3日志, 有0个节点已经达成共识, 一共有2个节点
follower=0 will handle count=1, curIndex=2
follower=0 receive log, firstTerm=1, firstIndex=3, lastTerm=1, lastIndex=3
对于index=3日志, 有0个节点已经达成共识, 一共有2个节点
对于index=3日志, 有1个节点已经达成共识, 一共有2个节点
leader=1 refresh commit success, put logIndex=[3], rf.matchIndex=[3 3 1]
follower=0 refresh commit success, put logIndex=[3]
heart beat handle success, leader=1, me=0, term=1, myCommit=3, time=1705032503650
对于index=3日志, 有2个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=1, me=0, term=1, myCommit=3, time=1705032503671
heart beat handle success, leader=1, me=0, term=1, myCommit=3, time=1705032503805
heart beat handle success, leader=1, me=0, term=1, myCommit=3, time=1705032503947
heart beat handle success, leader=1, me=0, term=1, myCommit=3, time=1705032504050
心跳超时, id=2, time=1705032504051
id=2 vote to itself, term=3, time=1705032504051
id=2 send to id=1
id=2 send to id=0
heart beat handle success, leader=1, me=0, term=1, myCommit=3, time=1705032504155
leader=1 receive one log, logIndex=4
send cmd to 1, index=4
对于index=4日志, 有0个节点已经达成共识, 一共有2个节点
follower=0 will handle count=1, curIndex=3
follower=0 receive log, firstTerm=1, firstIndex=4, lastTerm=1, lastIndex=4
对于index=4日志, 有0个节点已经达成共识, 一共有2个节点
leader=1 refresh commit success, put logIndex=[4], rf.matchIndex=[4 4 1]
follower=0 refresh commit success, put logIndex=[4]
heart beat handle success, leader=1, me=0, term=1, myCommit=4, time=1705032504360
对于index=4日志, 有1个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=1, me=0, term=1, myCommit=4, time=1705032504462
对于index=4日志, 有2个节点已经达成共识, 一共有2个节点
leader=1 receive one log, logIndex=5
send cmd to 1, index=5
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
follower=0 will handle count=1, curIndex=4
follower=0 receive log, firstTerm=1, firstIndex=5, lastTerm=1, lastIndex=5
对于index=5日志, 有1个节点已经达成共识, 一共有2个节点
leader=1 refresh commit success, put logIndex=[5], rf.matchIndex=[5 5 1]
心跳超时, id=2, time=1705032504756
id=2 vote to itself, term=4, time=1705032504773
对于index=5日志, 有1个节点已经达成共识, 一共有2个节点
follower=0 refresh commit success, put logIndex=[5]
heart beat handle success, leader=1, me=0, term=1, myCommit=5, time=1705032504797
id=2 send to id=0
id=2 send to id=1
对于index=5日志, 有2个节点已经达成共识, 一共有2个节点
connect(2)
leader=1 receive one log, logIndex=6
send cmd to 1, index=6
对于index=6日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=5, curIndex=1
follower=2 refresh commit success, put logIndex=[2 3 4 5]
follower=2 receive log, firstTerm=1, firstIndex=2, lastTerm=1, lastIndex=6
follower=0 will handle count=1, curIndex=5
follower=0 receive log, firstTerm=1, firstIndex=6, lastTerm=1, lastIndex=6
对于index=6日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[6], rf.matchIndex=[6 6 6]
follower=2 refresh commit success, put logIndex=[6]
heart beat handle success, leader=1, me=2, term=1, myCommit=6, time=1705032505121
follower=0 refresh commit success, put logIndex=[6]
heart beat handle success, leader=1, me=0, term=1, myCommit=6, time=1705032505121
对于index=6日志, 有3个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=1, myCommit=6, time=1705032505264
heart beat handle success, leader=1, me=2, term=1, myCommit=6, time=1705032505265
heart beat handle success, leader=1, me=0, term=1, myCommit=6, time=1705032505366
heart beat handle success, leader=1, me=2, term=1, myCommit=6, time=1705032505387
heart beat handle success, leader=1, me=0, term=1, myCommit=6, time=1705032505476
heart beat handle success, leader=1, me=2, term=1, myCommit=6, time=1705032505534
leader=1 receive one log, logIndex=7
send cmd to 1, index=7
对于index=7日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=1, myCommit=6, time=1705032505680
对于index=7日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=6
follower=2 receive log, firstTerm=1, firstIndex=7, lastTerm=1, lastIndex=7
leader=1 refresh commit success, put logIndex=[7], rf.matchIndex=[6 7 7]
follower=0 will handle count=1, curIndex=6
follower=0 receive log, firstTerm=1, firstIndex=7, lastTerm=1, lastIndex=7
对于index=7日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[7]
heart beat handle success, leader=1, me=2, term=1, myCommit=7, time=1705032505883
follower=0 refresh commit success, put logIndex=[7]
heart beat handle success, leader=1, me=0, term=1, myCommit=7, time=1705032505946
对于index=7日志, 有3个节点已经达成共识, 一共有3个节点
  ... Passed --   4.5  3   70   24169    7
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
disconnect(3)
make an entry id=3
disconnect(4)
make an entry id=4
connect(0)
connect(1)
connect(2)
connect(3)
connect(4)
Test (2B): no agreement if too many followers disconnect ...
heart beat handle success, leader=1, me=2, term=1, myCommit=7, time=1705032506027
选举超时, id=1, time=1705032506209
id=1 vote to itself, term=1, time=1705032506209
选举超时, id=4, time=1705032506186
id=4 vote to itself, term=1, time=1705032506226
id=4 send to id=3
id=4 send to id=0
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
id=4 become leader, lastLogIdx=0, leaderCommit=0
选举超时, id=2, time=1705032506211
id=2 vote to itself, term=1, time=1705032506242
id=2 send to id=4
id=2 send to id=0
id=4 change to follower from leader
id=2 send to id=1
id=2 send to id=3
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705032506243
id=2 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=2, me=4, term=1, myCommit=0, time=1705032506243
heart beat handle success, leader=2, me=3, term=1, myCommit=0, time=1705032506243
heart beat handle success, leader=2, me=4, term=1, myCommit=0, time=1705032506244
heart beat handle success, leader=2, me=3, term=1, myCommit=0, time=1705032506244
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705032506244
id=4 send to id=2
id=4 send to id=1
leader=2 receive one log, logIndex=1
send cmd to 2, index=1
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
server=2 currentTerm=1 > args.Term=1, vote reject
server=2 currentTerm=1 > args.Term=1, vote reject
id=1 become leader, lastLogIdx=0, leaderCommit=0
id=1 change to follower from leader
heart beat handle success, leader=2, me=1, term=1, myCommit=0, time=1705032506297
id=2 change to follower from leader
heart beat handle success, leader=1, me=2, term=1, myCommit=0, time=1705032506297
heart beat handle success, leader=2, me=1, term=1, myCommit=0, time=1705032506297
heart beat handle success, leader=4, me=3, term=1, myCommit=0, time=1705032506344
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
心跳超时, id=0, time=1705032506466
id=0 vote to itself, term=2, time=1705032506485
id=0 send to id=2
id=0 send to id=1
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
心跳超时, id=2, time=1705032506553
id=2 vote to itself, term=2, time=1705032506553
id=2 send to id=1
id=2 send to id=0
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
心跳超时, id=4, time=1705032506779
id=4 vote to itself, term=2, time=1705032506839
id=4 send to id=3
id=4 send to id=0
id=4 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=4, me=3, term=2, myCommit=0, time=1705032506840
id=4 send to id=1
id=4 send to id=2
heart beat handle success, leader=4, me=3, term=2, myCommit=0, time=1705032506840
heart beat handle success, leader=4, me=0, term=2, myCommit=0, time=1705032506840
heart beat handle success, leader=4, me=1, term=2, myCommit=0, time=1705032506841
heart beat handle success, leader=4, me=2, term=2, myCommit=0, time=1705032506841
心跳超时, id=0, time=1705032506838
id=0 vote to itself, term=3, time=1705032506846
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
server=4 rf.currentTerm=2, args.Term=3
id=4 change to follower from leader
id=0 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705032506959
heart beat handle success, leader=0, me=4, term=3, myCommit=0, time=1705032506965
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705032506966
heart beat handle success, leader=0, me=4, term=3, myCommit=0, time=1705032506966
heart beat handle success, leader=0, me=3, term=3, myCommit=0, time=1705032506982
heart beat handle success, leader=0, me=3, term=3, myCommit=0, time=1705032506985
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705032507020
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705032507040
heart beat handle success, leader=0, me=4, term=3, myCommit=0, time=1705032507069
heart beat handle success, leader=0, me=3, term=3, myCommit=0, time=1705032507127
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705032507132
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705032507147
heart beat handle success, leader=0, me=4, term=3, myCommit=0, time=1705032507169
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705032507233
heart beat handle success, leader=0, me=3, term=3, myCommit=0, time=1705032507239
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=0, me=4, term=3, myCommit=0, time=1705032507270
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705032507286
heart beat handle success, leader=0, me=3, term=3, myCommit=0, time=1705032507340
heart beat handle success, leader=0, me=4, term=3, myCommit=0, time=1705032507373
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705032507397
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=0, me=3, term=3, myCommit=0, time=1705032507474
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705032507494
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705032507502
heart beat handle success, leader=0, me=4, term=3, myCommit=0, time=1705032507547
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705032507603
heart beat handle success, leader=0, me=3, term=3, myCommit=0, time=1705032507639
heart beat handle success, leader=0, me=4, term=3, myCommit=0, time=1705032507649
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705032507704
heart beat handle success, leader=0, me=4, term=3, myCommit=0, time=1705032507751
heart beat handle success, leader=0, me=3, term=3, myCommit=0, time=1705032507799
heart beat handle success, leader=0, me=4, term=3, myCommit=0, time=1705032507854
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705032507871
heart beat handle success, leader=0, me=3, term=3, myCommit=0, time=1705032507912
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705032507975
heart beat handle success, leader=0, me=4, term=3, myCommit=0, time=1705032507981
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705032508008
heart beat handle success, leader=0, me=3, term=3, myCommit=0, time=1705032508014
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705032508054
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=0, me=4, term=3, myCommit=0, time=1705032508086
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705032508108
heart beat handle success, leader=0, me=3, term=3, myCommit=0, time=1705032508150
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705032508156
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=0, me=4, term=3, myCommit=0, time=1705032508244
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705032508279
--- FAIL: TestFailNoAgree2B (2.31s)
    config.go:596: one(10) failed to reach agreement
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
connect(0)
connect(1)
connect(2)
Test (2B): concurrent Start()s ...
选举超时, id=1, time=1705032508544
id=1 vote to itself, term=1, time=1705032508544
id=1 send to id=2
id=1 send to id=0
id=1 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=1, me=2, term=1, myCommit=0, time=1705032508575
heart beat handle success, leader=1, me=0, term=1, myCommit=0, time=1705032508576
heart beat handle success, leader=1, me=2, term=1, myCommit=0, time=1705032508581
heart beat handle success, leader=1, me=0, term=1, myCommit=0, time=1705032508588
heart beat handle success, leader=1, me=2, term=1, myCommit=0, time=1705032508688
heart beat handle success, leader=1, me=0, term=1, myCommit=0, time=1705032508690
心跳超时, id=2, time=1705032508703
id=2 vote to itself, term=4, time=1705032508703
id=2 send to id=4
心跳超时, id=3, time=1705032508722
id=3 vote to itself, term=4, time=1705032508732
id=3 send to id=4
id=3 send to id=0
id=3 send to id=1
心跳超时, id=4, time=1705032508766
id=4 vote to itself, term=4, time=1705032508766
id=4 send to id=3
id=4 send to id=0
id=2 send to id=1
id=3 send to id=2
id=4 send to id=1
id=4 send to id=2
id=2 send to id=3
heart beat handle success, leader=1, me=2, term=1, myCommit=0, time=1705032508831
leader=1 receive one log, logIndex=1
leader=1 receive one log, logIndex=2
leader=1 receive one log, logIndex=3
leader=1 receive one log, logIndex=4
leader=1 receive one log, logIndex=5
leader=1 receive one log, logIndex=6
心跳超时, id=1, time=1705032508797
id=1 vote to itself, term=4, time=1705032508839
id=1 send to id=4
id=1 send to id=0
heart beat handle success, leader=1, me=0, term=1, myCommit=0, time=1705032508842
id=2 send to id=0
id=1 send to id=2
id=1 send to id=3
follower=0 will handle count=6, curIndex=0
follower=2 will handle count=6, curIndex=0
leader=1 refresh commit success, put logIndex=[1 2 3 4 5 6], rf.matchIndex=[6 6 0]
follower=2 will handle count=6, curIndex=6
follower=2 sync hole leader=1's log
follower=2 refresh commit success, put logIndex=[1 2 3 4 5 6]
follower=0 refresh commit success, put logIndex=[1 2 3 4 5 6]
heart beat handle success, leader=1, me=0, term=1, myCommit=6, time=1705032509413
heart beat handle success, leader=1, me=2, term=1, myCommit=6, time=1705032509413
heart beat handle success, leader=1, me=0, term=1, myCommit=6, time=1705032509414
  ... Passed --   1.2  3   16    5833    6
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
connect(0)
connect(1)
connect(2)
Test (2B): rejoin of partitioned leader ...
选举超时, id=0, time=1705032509652
id=0 vote to itself, term=1, time=1705032509653
id=0 send to id=2
选举超时, id=1, time=1705032509719
id=1 vote to itself, term=1, time=1705032509720
id=1 send to id=2
id=1 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=1, me=2, term=1, myCommit=0, time=1705032509722
heart beat handle success, leader=1, me=2, term=1, myCommit=0, time=1705032509723
id=0 send to id=1
id=1 change to follower from leader
id=0 become leader, lastLogIdx=0, leaderCommit=0
id=0 change to follower from leader
id=1 send to id=0
heart beat handle success, leader=1, me=0, term=1, myCommit=0, time=1705032509809
heart beat handle success, leader=1, me=0, term=1, myCommit=0, time=1705032509838
心跳超时, id=2, time=1705032509949
id=2 vote to itself, term=2, time=1705032509949
id=2 send to id=1
id=2 send to id=0
心跳超时, id=0, time=1705032509998
id=0 vote to itself, term=2, time=1705032510132
id=0 send to id=1
id=0 send to id=2
心跳超时, id=2, time=1705032510343
id=2 vote to itself, term=2, time=1705032510344
id=2 send to id=1
id=2 send to id=0
id=2 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=2, me=1, term=2, myCommit=0, time=1705032510347
heart beat handle success, leader=2, me=0, term=2, myCommit=0, time=1705032510347
heart beat handle success, leader=2, me=1, term=2, myCommit=0, time=1705032510347
heart beat handle success, leader=2, me=0, term=2, myCommit=0, time=1705032510347
leader=2 receive one log, logIndex=1
send cmd to 2, index=1
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=1, time=1705032510325
id=1 vote to itself, term=3, time=1705032510379
id=1 send to id=2
server=2 rf.currentTerm=2, args.Term=3
id=2 change to follower from leader
server=2 currentTerm=3 > args.Term=3, vote reject
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
id=1 send to id=0
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705032511013
id=2 vote to itself, term=4, time=1705032511014
id=2 send to id=1
id=2 become leader, lastLogIdx=1, leaderCommit=0
follower=1's logs are diff from leader, need to sync
follower=1 will handle count=1, curIndex=0
id=2 send to id=0
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
follower=0's logs are diff from leader, need to sync
follower=0 will handle count=1, curIndex=0
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=2, me=0, term=4, myCommit=0, time=1705032511155
heart beat handle success, leader=2, me=1, term=4, myCommit=0, time=1705032511230
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=2, me=0, term=4, myCommit=0, time=1705032511311
leader=2 refresh commit success, put logIndex=[1], rf.matchIndex=[1 1 1]
对于index=1日志, 有1个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[1]
heart beat handle success, leader=2, me=0, term=4, myCommit=1, time=1705032511533
对于index=1日志, 有2个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[1]
heart beat handle success, leader=2, me=1, term=4, myCommit=1, time=1705032511571
heart beat handle success, leader=2, me=0, term=4, myCommit=1, time=1705032511636
对于index=1日志, 有3个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=2, me=1, term=4, myCommit=1, time=1705032511853
heart beat handle success, leader=2, me=1, term=4, myCommit=1, time=1705032511857
heart beat handle success, leader=2, me=0, term=4, myCommit=1, time=1705032511880
heart beat handle success, leader=2, me=1, term=4, myCommit=1, time=1705032511953
heart beat handle success, leader=2, me=1, term=4, myCommit=1, time=1705032512055
heart beat handle success, leader=2, me=0, term=4, myCommit=1, time=1705032512169
disconnect(2)
leader=2 receive one log, logIndex=2
leader=2 receive one log, logIndex=3
leader=2 receive one log, logIndex=4
心跳超时, id=1, time=1705032512628
id=1 vote to itself, term=5, time=1705032512682
id=1 send to id=2
id=1 send to id=0
id=1 become leader, lastLogIdx=1, leaderCommit=1
心跳超时, id=0, time=1705032512683
id=0 vote to itself, term=6, time=1705032512734
id=0 send to id=2
id=0 send to id=1
server=1 rf.currentTerm=5, args.Term=6
id=1 change to follower from leader
id=0 become leader, lastLogIdx=1, leaderCommit=1
heart beat handle success, leader=0, me=1, term=6, myCommit=1, time=1705032512739
heart beat handle success, leader=0, me=1, term=6, myCommit=1, time=1705032512739
leader=0 receive one log, logIndex=2
send cmd to 0, index=2
对于index=2日志, 有0个节点已经达成共识, 一共有2个节点
follower=1 will handle count=1, curIndex=1
follower=1 receive log, firstTerm=6, firstIndex=2, lastTerm=6, lastIndex=2
对于index=2日志, 有0个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=0, me=1, term=6, myCommit=1, time=1705032512992
leader=0 refresh commit success, put logIndex=[2], rf.matchIndex=[2 2 1]
对于index=2日志, 有1个节点已经达成共识, 一共有2个节点
follower=1 refresh commit success, put logIndex=[2]
heart beat handle success, leader=0, me=1, term=6, myCommit=2, time=1705032513099
heart beat handle success, leader=0, me=1, term=6, myCommit=2, time=1705032513204
对于index=2日志, 有2个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=0, me=1, term=6, myCommit=2, time=1705032513306
heart beat handle success, leader=0, me=1, term=6, myCommit=2, time=1705032513591
heart beat handle success, leader=0, me=1, term=6, myCommit=2, time=1705032513667
heart beat handle success, leader=0, me=1, term=6, myCommit=2, time=1705032513693
disconnect(0)
connect(2)
leader=2 receive one log, logIndex=5
send cmd to 2, index=5
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
id=2 change to follower from leader
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
心跳超时, id=1, time=1705032514281
id=1 vote to itself, term=7, time=1705032514281
id=1 send to id=2
id=1 send to id=0
心跳超时, id=2, time=1705032514417
id=2 vote to itself, term=5, time=1705032514468
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
id=2 send to id=0
id=2 send to id=1
server=1, currentTerm=7 >= args.Term=5, reject to vote to server=2
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
心跳超时, id=1, time=1705032515112
id=1 vote to itself, term=8, time=1705032515112
id=1 send to id=2
id=1 become leader, lastLogIdx=2, leaderCommit=2
follower=2's logs are diff from leader, need to sync
follower=2 will handle count=1, curIndex=2
follower=2 refresh commit success, put logIndex=[2]
follower=2 receive log, firstTerm=6, firstIndex=2, lastTerm=6, lastIndex=2
id=1 send to id=0
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=1, me=2, term=8, myCommit=2, time=1705032515274
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=1, me=2, term=8, myCommit=2, time=1705032515375
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=1, me=2, term=8, myCommit=2, time=1705032515490
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=1, me=2, term=8, myCommit=2, time=1705032515594
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=1, me=2, term=8, myCommit=2, time=1705032515756
leader=1 receive one log, logIndex=3
send cmd to 1, index=3
对于index=3日志, 有0个节点已经达成共识, 一共有2个节点
对于index=3日志, 有0个节点已经达成共识, 一共有2个节点
follower=2 will handle count=1, curIndex=2
follower=2 receive log, firstTerm=8, firstIndex=3, lastTerm=8, lastIndex=3
leader=1 refresh commit success, put logIndex=[3], rf.matchIndex=[2 3 3]
对于index=3日志, 有1个节点已经达成共识, 一共有2个节点
follower=2 refresh commit success, put logIndex=[3]
heart beat handle success, leader=1, me=2, term=8, myCommit=3, time=1705032516058
对于index=3日志, 有2个节点已经达成共识, 一共有2个节点
connect(0)
leader=1 receive one log, logIndex=4
send cmd to 1, index=4
对于index=4日志, 有0个节点已经达成共识, 一共有3个节点
id=0 change to follower from leader
follower=2 will handle count=1, curIndex=3
follower=2 receive log, firstTerm=8, firstIndex=4, lastTerm=8, lastIndex=4
leader=1 refresh commit success, put logIndex=[4], rf.matchIndex=[2 4 4]
对于index=4日志, 有1个节点已经达成共识, 一共有3个节点
follower=0 will handle count=2, curIndex=2
follower=0 refresh commit success, put logIndex=[3]
follower=0 receive log, firstTerm=8, firstIndex=3, lastTerm=8, lastIndex=4
follower=2 refresh commit success, put logIndex=[4]
heart beat handle success, leader=1, me=2, term=8, myCommit=4, time=1705032516296
对于index=4日志, 有2个节点已经达成共识, 一共有3个节点
follower=0 will handle count=2, curIndex=4
follower=0 refresh commit success, put logIndex=[4]
follower=0 receive log, firstTerm=8, firstIndex=3, lastTerm=8, lastIndex=4
heart beat handle success, leader=1, me=2, term=8, myCommit=4, time=1705032516399
对于index=4日志, 有3个节点已经达成共识, 一共有3个节点
  ... Passed --   6.9  3  128   41083    4
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
disconnect(3)
make an entry id=3
disconnect(4)
make an entry id=4
connect(0)
connect(1)
connect(2)
connect(3)
connect(4)
Test (2B): leader backs up quickly over incorrect follower logs ...
选举超时, id=2, time=1705032516629
id=2 vote to itself, term=1, time=1705032516629
id=2 send to id=4
选举超时, id=0, time=1705032516606
id=0 vote to itself, term=1, time=1705032516643
id=0 send to id=4
id=0 send to id=2
id=0 send to id=1
id=0 send to id=3
id=0 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705032516647
heart beat handle success, leader=0, me=4, term=1, myCommit=0, time=1705032516647
heart beat handle success, leader=0, me=4, term=1, myCommit=0, time=1705032516649
heart beat handle success, leader=0, me=3, term=1, myCommit=0, time=1705032516649
heart beat handle success, leader=0, me=3, term=1, myCommit=0, time=1705032516649
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705032516649
leader=0 receive one log, logIndex=1
send cmd to 0, index=1
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
id=2 send to id=0
server=0 currentTerm=1 > args.Term=1, vote reject
id=2 send to id=1
id=2 become leader, lastLogIdx=0, leaderCommit=0
id=2 change to follower from leader
id=2 send to id=3
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705032516690
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705032516690
follower=3 will handle count=1, curIndex=0
follower=4 will handle count=1, curIndex=0
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
follower=1 will handle count=1, curIndex=0
heart beat handle success, leader=0, me=4, term=1, myCommit=0, time=1705032516851
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
follower=2 will handle count=1, curIndex=0
heart beat handle success, leader=0, me=3, term=1, myCommit=0, time=1705032516895
心跳超时, id=0, time=1705032516855
心跳超时, id=2, time=1705032516947
id=2 vote to itself, term=9, time=1705032516948
id=2 send to id=1
id=0 vote to itself, term=9, time=1705032516899
id=0 send to id=1
follower=2 will handle count=1, curIndex=1
follower=2 sync hole leader=0's log
id=0 send to id=2
id=2 send to id=0
heart beat handle success, leader=0, me=4, term=1, myCommit=0, time=1705032516998
对于index=1日志, 有1个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705032517017
leader=0 refresh commit success, put logIndex=[1], rf.matchIndex=[1 1 1 1 1]
follower=3 refresh commit success, put logIndex=[1]
heart beat handle success, leader=0, me=3, term=1, myCommit=1, time=1705032517080
follower=4 refresh commit success, put logIndex=[1]
heart beat handle success, leader=0, me=4, term=1, myCommit=1, time=1705032517148
follower=1 refresh commit success, put logIndex=[1]
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705032517178
follower=2 refresh commit success, put logIndex=[1]
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705032517260
对于index=1日志, 有2个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705032517277
对于index=1日志, 有5个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=0, me=3, term=1, myCommit=1, time=1705032517439
heart beat handle success, leader=0, me=4, term=1, myCommit=1, time=1705032517475
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705032517483
heart beat handle success, leader=0, me=3, term=1, myCommit=1, time=1705032517485
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705032517496
heart beat handle success, leader=0, me=4, term=1, myCommit=1, time=1705032517502
heart beat handle success, leader=0, me=4, term=1, myCommit=1, time=1705032517579
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705032517592
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705032517597
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705032517631
heart beat handle success, leader=0, me=3, term=1, myCommit=1, time=1705032517638
heart beat handle success, leader=0, me=4, term=1, myCommit=1, time=1705032517684
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705032517766
heart beat handle success, leader=0, me=3, term=1, myCommit=1, time=1705032517781
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705032517817
heart beat handle success, leader=0, me=4, term=1, myCommit=1, time=1705032517859
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705032517868
disconnect(2)
disconnect(3)
disconnect(4)
leader=0 receive one log, logIndex=2
leader=0 receive one log, logIndex=3
leader=0 receive one log, logIndex=4
leader=0 receive one log, logIndex=5
leader=0 receive one log, logIndex=6
leader=0 receive one log, logIndex=7
leader=0 receive one log, logIndex=8
leader=0 receive one log, logIndex=9
leader=0 receive one log, logIndex=10
leader=0 receive one log, logIndex=11
leader=0 receive one log, logIndex=12
leader=0 receive one log, logIndex=13
leader=0 receive one log, logIndex=14
leader=0 receive one log, logIndex=15
leader=0 receive one log, logIndex=16
leader=0 receive one log, logIndex=17
leader=0 receive one log, logIndex=18
leader=0 receive one log, logIndex=19
leader=0 receive one log, logIndex=20
leader=0 receive one log, logIndex=21
leader=0 receive one log, logIndex=22
leader=0 receive one log, logIndex=23
leader=0 receive one log, logIndex=24
leader=0 receive one log, logIndex=25
leader=0 receive one log, logIndex=26
leader=0 receive one log, logIndex=27
leader=0 receive one log, logIndex=28
leader=0 receive one log, logIndex=29
leader=0 receive one log, logIndex=30
leader=0 receive one log, logIndex=31
leader=0 receive one log, logIndex=32
leader=0 receive one log, logIndex=33
leader=0 receive one log, logIndex=34
leader=0 receive one log, logIndex=35
leader=0 receive one log, logIndex=36
leader=0 receive one log, logIndex=37
leader=0 receive one log, logIndex=38
leader=0 receive one log, logIndex=39
leader=0 receive one log, logIndex=40
leader=0 receive one log, logIndex=41
leader=0 receive one log, logIndex=42
leader=0 receive one log, logIndex=43
leader=0 receive one log, logIndex=44
leader=0 receive one log, logIndex=45
leader=0 receive one log, logIndex=46
leader=0 receive one log, logIndex=47
leader=0 receive one log, logIndex=48
leader=0 receive one log, logIndex=49
leader=0 receive one log, logIndex=50
leader=0 receive one log, logIndex=51
follower=1 will handle count=50, curIndex=1
follower=1 receive log, firstTerm=1, firstIndex=2, lastTerm=1, lastIndex=51
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705032518120
disconnect(0)
disconnect(1)
connect(2)
connect(3)
connect(4)
心跳超时, id=3, time=1705032518350
id=3 vote to itself, term=2, time=1705032518350
id=3 send to id=4
id=3 send to id=1
id=3 send to id=0
id=3 send to id=2
心跳超时, id=2, time=1705032518396
id=2 vote to itself, term=2, time=1705032518442
id=2 send to id=4
id=2 send to id=0
id=2 send to id=1
id=2 send to id=3
id=2 become leader, lastLogIdx=1, leaderCommit=1
id=2 change to follower from leader
心跳超时, id=1, time=1705032518672
id=1 vote to itself, term=2, time=1705032518673
id=1 send to id=4
id=1 send to id=2
id=1 send to id=3
id=1 send to id=0
心跳超时, id=4, time=1705032519072
id=4 vote to itself, term=3, time=1705032519087
id=4 send to id=3
id=4 send to id=0
id=4 send to id=1
id=4 send to id=2
id=4 become leader, lastLogIdx=1, leaderCommit=1
heart beat handle success, leader=4, me=3, term=3, myCommit=1, time=1705032519088
heart beat handle success, leader=4, me=2, term=3, myCommit=1, time=1705032519088
leader=4 receive one log, logIndex=2
send cmd to 4, index=2
对于index=2日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=1
follower=3 receive log, firstTerm=3, firstIndex=2, lastTerm=3, lastIndex=2
follower=2 will handle count=1, curIndex=1
follower=2 receive log, firstTerm=3, firstIndex=2, lastTerm=3, lastIndex=2
对于index=2日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=1, time=1705032519271
对于index=2日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=1, time=1705032519316
leader=4 refresh commit success, put logIndex=[2], rf.matchIndex=[1 1 2 2 2]
对于index=2日志, 有1个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=1, time=1705032519432
follower=3 refresh commit success, put logIndex=[2]
heart beat handle success, leader=4, me=3, term=3, myCommit=2, time=1705032519442
对于index=2日志, 有2个节点已经达成共识, 一共有3个节点
心跳超时, id=1, time=1705032519486
id=1 vote to itself, term=3, time=1705032519533
id=1 send to id=4
id=1 send to id=3
id=1 send to id=0
follower=2 refresh commit success, put logIndex=[2]
heart beat handle success, leader=4, me=2, term=3, myCommit=2, time=1705032519535
id=1 send to id=2
heart beat handle success, leader=4, me=3, term=3, myCommit=2, time=1705032519544
对于index=2日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=3
send cmd to 4, index=3
对于index=3日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=2
follower=2 receive log, firstTerm=3, firstIndex=3, lastTerm=3, lastIndex=3
heart beat handle success, leader=4, me=2, term=3, myCommit=2, time=1705032519737
对于index=3日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=2
follower=3 receive log, firstTerm=3, firstIndex=3, lastTerm=3, lastIndex=3
follower=3 will handle count=1, curIndex=3
follower=3 receive log, firstTerm=3, firstIndex=3, lastTerm=3, lastIndex=3
对于index=3日志, 有0个节点已经达成共识, 一共有3个节点
leader=4 refresh commit success, put logIndex=[3], rf.matchIndex=[1 1 3 3 3]
follower=2 refresh commit success, put logIndex=[3]
heart beat handle success, leader=4, me=2, term=3, myCommit=3, time=1705032519924
对于index=3日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=3, time=1705032520024
follower=3 refresh commit success, put logIndex=[3]
heart beat handle success, leader=4, me=3, term=3, myCommit=3, time=1705032520033
对于index=3日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=4
send cmd to 4, index=4
对于index=4日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=3
follower=2 receive log, firstTerm=3, firstIndex=4, lastTerm=3, lastIndex=4
对于index=4日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=3, time=1705032520309
心跳超时, id=1, time=1705032520315
id=1 vote to itself, term=4, time=1705032520316
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
对于index=4日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=3
follower=3 receive log, firstTerm=3, firstIndex=4, lastTerm=3, lastIndex=4
对于index=4日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=4
follower=3 receive log, firstTerm=3, firstIndex=4, lastTerm=3, lastIndex=4
heart beat handle success, leader=4, me=2, term=3, myCommit=3, time=1705032520541
对于index=4日志, 有0个节点已经达成共识, 一共有3个节点
leader=4 refresh commit success, put logIndex=[4], rf.matchIndex=[1 1 4 4 4]
对于index=4日志, 有1个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[4]
heart beat handle success, leader=4, me=3, term=3, myCommit=4, time=1705032520700
follower=2 refresh commit success, put logIndex=[4]
heart beat handle success, leader=4, me=2, term=3, myCommit=4, time=1705032520706
对于index=4日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=5
send cmd to 4, index=5
对于index=5日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=4
follower=3 receive log, firstTerm=3, firstIndex=5, lastTerm=3, lastIndex=5
follower=2 will handle count=1, curIndex=4
follower=2 receive log, firstTerm=3, firstIndex=5, lastTerm=3, lastIndex=5
leader=4 refresh commit success, put logIndex=[5], rf.matchIndex=[1 1 5 5 5]
follower=2 refresh commit success, put logIndex=[5]
heart beat handle success, leader=4, me=2, term=3, myCommit=5, time=1705032520925
follower=3 refresh commit success, put logIndex=[5]
heart beat handle success, leader=4, me=3, term=3, myCommit=5, time=1705032520960
对于index=5日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=5, time=1705032521061
对于index=5日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=6
send cmd to 4, index=6
对于index=6日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=1, time=1705032521122
id=1 vote to itself, term=5, time=1705032521122
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
heart beat handle success, leader=4, me=2, term=3, myCommit=5, time=1705032521142
follower=3 will handle count=1, curIndex=5
follower=3 receive log, firstTerm=3, firstIndex=6, lastTerm=3, lastIndex=6
对于index=6日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=5
follower=2 receive log, firstTerm=3, firstIndex=6, lastTerm=3, lastIndex=6
heart beat handle success, leader=4, me=3, term=3, myCommit=5, time=1705032521310
leader=4 refresh commit success, put logIndex=[6], rf.matchIndex=[1 1 6 6 6]
对于index=6日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[6]
heart beat handle success, leader=4, me=2, term=3, myCommit=6, time=1705032521348
对于index=6日志, 有2个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[6]
heart beat handle success, leader=4, me=3, term=3, myCommit=6, time=1705032521434
heart beat handle success, leader=4, me=2, term=3, myCommit=6, time=1705032521449
对于index=6日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=7
send cmd to 4, index=7
对于index=7日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=6
follower=3 receive log, firstTerm=3, firstIndex=7, lastTerm=3, lastIndex=7
对于index=7日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=6
follower=2 receive log, firstTerm=3, firstIndex=7, lastTerm=3, lastIndex=7
heart beat handle success, leader=4, me=3, term=3, myCommit=6, time=1705032521672
leader=4 refresh commit success, put logIndex=[7], rf.matchIndex=[1 1 7 7 7]
对于index=7日志, 有1个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[7]
heart beat handle success, leader=4, me=3, term=3, myCommit=7, time=1705032521779
heart beat handle success, leader=4, me=3, term=3, myCommit=7, time=1705032521881
follower=2 refresh commit success, put logIndex=[7]
heart beat handle success, leader=4, me=2, term=3, myCommit=7, time=1705032521930
心跳超时, id=1, time=1705032521893
id=1 vote to itself, term=6, time=1705032521940
id=1 send to id=4
id=1 send to id=2
id=1 send to id=0
id=1 send to id=3
heart beat handle success, leader=4, me=3, term=3, myCommit=7, time=1705032521982
对于index=7日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=7, time=1705032522044
heart beat handle success, leader=4, me=3, term=3, myCommit=7, time=1705032522086
heart beat handle success, leader=4, me=2, term=3, myCommit=7, time=1705032522155
对于index=7日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=8
send cmd to 4, index=8
对于index=8日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=7
follower=3 receive log, firstTerm=3, firstIndex=8, lastTerm=3, lastIndex=8
follower=2 will handle count=1, curIndex=7
follower=2 receive log, firstTerm=3, firstIndex=8, lastTerm=3, lastIndex=8
对于index=8日志, 有0个节点已经达成共识, 一共有3个节点
leader=4 refresh commit success, put logIndex=[8], rf.matchIndex=[1 1 8 8 8]
follower=3 refresh commit success, put logIndex=[8]
heart beat handle success, leader=4, me=3, term=3, myCommit=8, time=1705032522346
follower=2 refresh commit success, put logIndex=[8]
heart beat handle success, leader=4, me=2, term=3, myCommit=8, time=1705032522361
对于index=8日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=9
send cmd to 4, index=9
对于index=9日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=8
follower=2 receive log, firstTerm=3, firstIndex=9, lastTerm=3, lastIndex=9
follower=3 will handle count=1, curIndex=8
follower=3 receive log, firstTerm=3, firstIndex=9, lastTerm=3, lastIndex=9
leader=4 refresh commit success, put logIndex=[9], rf.matchIndex=[1 1 9 9 9]
对于index=9日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[9]
heart beat handle success, leader=4, me=2, term=3, myCommit=9, time=1705032522563
对于index=9日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=9, time=1705032522664
follower=3 refresh commit success, put logIndex=[9]
heart beat handle success, leader=4, me=3, term=3, myCommit=9, time=1705032522694
心跳超时, id=1, time=1705032522677
id=1 vote to itself, term=7, time=1705032522751
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
对于index=9日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=10
send cmd to 4, index=10
对于index=10日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=9, time=1705032522801
follower=3 will handle count=1, curIndex=9
follower=3 receive log, firstTerm=3, firstIndex=10, lastTerm=3, lastIndex=10
heart beat handle success, leader=4, me=3, term=3, myCommit=9, time=1705032522913
对于index=10日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=9
follower=2 receive log, firstTerm=3, firstIndex=10, lastTerm=3, lastIndex=10
heart beat handle success, leader=4, me=3, term=3, myCommit=9, time=1705032523013
leader=4 refresh commit success, put logIndex=[10], rf.matchIndex=[1 1 10 10 10]
对于index=10日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[10]
heart beat handle success, leader=4, me=2, term=3, myCommit=10, time=1705032523104
对于index=10日志, 有2个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[10]
heart beat handle success, leader=4, me=3, term=3, myCommit=10, time=1705032523199
heart beat handle success, leader=4, me=2, term=3, myCommit=10, time=1705032523205
对于index=10日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=11
send cmd to 4, index=11
对于index=11日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=10
follower=3 receive log, firstTerm=3, firstIndex=11, lastTerm=3, lastIndex=11
follower=2 will handle count=1, curIndex=10
follower=2 receive log, firstTerm=3, firstIndex=11, lastTerm=3, lastIndex=11
对于index=11日志, 有0个节点已经达成共识, 一共有3个节点
leader=4 refresh commit success, put logIndex=[11], rf.matchIndex=[1 1 11 11 11]
heart beat handle success, leader=4, me=2, term=3, myCommit=10, time=1705032523475
心跳超时, id=1, time=1705032523504
id=1 vote to itself, term=8, time=1705032523504
id=1 send to id=4
id=1 send to id=2
id=1 send to id=3
id=1 send to id=0
heart beat handle success, leader=4, me=3, term=3, myCommit=10, time=1705032523517
对于index=11日志, 有1个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[11]
heart beat handle success, leader=4, me=3, term=3, myCommit=11, time=1705032523615
对于index=11日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[11]
heart beat handle success, leader=4, me=2, term=3, myCommit=11, time=1705032523715
对于index=11日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=12
send cmd to 4, index=12
对于index=12日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=11
follower=2 receive log, firstTerm=3, firstIndex=12, lastTerm=3, lastIndex=12
follower=3 will handle count=1, curIndex=11
follower=3 receive log, firstTerm=3, firstIndex=12, lastTerm=3, lastIndex=12
对于index=12日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[12]
heart beat handle success, leader=4, me=3, term=3, myCommit=12, time=1705032523954
对于index=12日志, 有2个节点已经达成共识, 一共有3个节点
leader=4 refresh commit success, put logIndex=[12], rf.matchIndex=[1 1 12 12 12]
heart beat handle success, leader=4, me=2, term=3, myCommit=11, time=1705032524030
heart beat handle success, leader=4, me=3, term=3, myCommit=12, time=1705032524056
对于index=12日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[12]
heart beat handle success, leader=4, me=2, term=3, myCommit=12, time=1705032524159
对于index=12日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=13
send cmd to 4, index=13
对于index=13日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=12
follower=3 receive log, firstTerm=3, firstIndex=13, lastTerm=3, lastIndex=13
follower=2 will handle count=1, curIndex=12
follower=2 receive log, firstTerm=3, firstIndex=13, lastTerm=3, lastIndex=13
对于index=13日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=1, time=1705032524338
id=1 vote to itself, term=9, time=1705032524339
id=1 send to id=3
id=1 send to id=2
heart beat handle success, leader=4, me=3, term=3, myCommit=12, time=1705032524346
id=1 send to id=0
leader=4 refresh commit success, put logIndex=[13], rf.matchIndex=[1 1 13 13 13]
id=1 send to id=4
对于index=13日志, 有1个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[13]
heart beat handle success, leader=4, me=3, term=3, myCommit=13, time=1705032524447
follower=2 refresh commit success, put logIndex=[13]
heart beat handle success, leader=4, me=2, term=3, myCommit=13, time=1705032524502
对于index=13日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=14
send cmd to 4, index=14
对于index=14日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=13
follower=3 receive log, firstTerm=3, firstIndex=14, lastTerm=3, lastIndex=14
follower=2 will handle count=1, curIndex=13
follower=2 receive log, firstTerm=3, firstIndex=14, lastTerm=3, lastIndex=14
对于index=14日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=13, time=1705032524679
leader=4 refresh commit success, put logIndex=[14], rf.matchIndex=[1 1 14 14 14]
follower=2 refresh commit success, put logIndex=[14]
heart beat handle success, leader=4, me=2, term=3, myCommit=14, time=1705032524744
对于index=14日志, 有2个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[14]
heart beat handle success, leader=4, me=3, term=3, myCommit=14, time=1705032524779
heart beat handle success, leader=4, me=2, term=3, myCommit=14, time=1705032524844
对于index=14日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=15
send cmd to 4, index=15
对于index=15日志, 有0个节点已经达成共识, 一共有3个节点
对于index=15日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=14
follower=3 receive log, firstTerm=3, firstIndex=15, lastTerm=3, lastIndex=15
follower=2 will handle count=1, curIndex=14
follower=2 receive log, firstTerm=3, firstIndex=15, lastTerm=3, lastIndex=15
心跳超时, id=1, time=1705032525145
id=1 vote to itself, term=10, time=1705032525147
对于index=15日志, 有0个节点已经达成共识, 一共有3个节点
id=1 send to id=2
id=1 send to id=3
follower=3 will handle count=1, curIndex=15
follower=3 receive log, firstTerm=3, firstIndex=15, lastTerm=3, lastIndex=15
leader=4 refresh commit success, put logIndex=[15], rf.matchIndex=[1 1 15 15 15]
id=1 send to id=4
follower=2 refresh commit success, put logIndex=[15]
heart beat handle success, leader=4, me=2, term=3, myCommit=15, time=1705032525209
id=1 send to id=0
follower=3 refresh commit success, put logIndex=[15]
heart beat handle success, leader=4, me=3, term=3, myCommit=15, time=1705032525285
对于index=15日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=15, time=1705032525312
heart beat handle success, leader=4, me=3, term=3, myCommit=15, time=1705032525385
对于index=15日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=16
send cmd to 4, index=16
对于index=16日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=15
follower=2 receive log, firstTerm=3, firstIndex=16, lastTerm=3, lastIndex=16
对于index=16日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=15
follower=3 receive log, firstTerm=3, firstIndex=16, lastTerm=3, lastIndex=16
对于index=16日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=15, time=1705032525595
leader=4 refresh commit success, put logIndex=[16], rf.matchIndex=[1 1 16 16 16]
对于index=16日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[16]
heart beat handle success, leader=4, me=2, term=3, myCommit=16, time=1705032525696
对于index=16日志, 有2个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[16]
heart beat handle success, leader=4, me=3, term=3, myCommit=16, time=1705032525873
heart beat handle success, leader=4, me=2, term=3, myCommit=16, time=1705032525874
对于index=16日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=17
send cmd to 4, index=17
对于index=17日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=16, time=1705032525919
心跳超时, id=1, time=1705032525893
id=1 vote to itself, term=11, time=1705032525941
follower=3 will handle count=1, curIndex=16
follower=3 receive log, firstTerm=3, firstIndex=17, lastTerm=3, lastIndex=17
follower=2 will handle count=1, curIndex=16
follower=2 receive log, firstTerm=3, firstIndex=17, lastTerm=3, lastIndex=17
对于index=17日志, 有0个节点已经达成共识, 一共有3个节点
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
leader=4 refresh commit success, put logIndex=[17], rf.matchIndex=[1 1 17 17 17]
对于index=17日志, 有1个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[17]
heart beat handle success, leader=4, me=3, term=3, myCommit=17, time=1705032526107
follower=2 refresh commit success, put logIndex=[17]
heart beat handle success, leader=4, me=2, term=3, myCommit=17, time=1705032526127
对于index=17日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=18
send cmd to 4, index=18
对于index=18日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=17, time=1705032526256
heart beat handle success, leader=4, me=2, term=3, myCommit=17, time=1705032526257
follower=2 will handle count=1, curIndex=17
follower=2 receive log, firstTerm=3, firstIndex=18, lastTerm=3, lastIndex=18
对于index=18日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=17
follower=3 receive log, firstTerm=3, firstIndex=18, lastTerm=3, lastIndex=18
leader=4 refresh commit success, put logIndex=[18], rf.matchIndex=[1 1 18 18 18]
对于index=18日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[18]
heart beat handle success, leader=4, me=2, term=3, myCommit=18, time=1705032526582
follower=3 refresh commit success, put logIndex=[18]
heart beat handle success, leader=4, me=3, term=3, myCommit=18, time=1705032526606
对于index=18日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=19
send cmd to 4, index=19
对于index=19日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=1, time=1705032526636
id=1 vote to itself, term=12, time=1705032526636
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
follower=3 will handle count=1, curIndex=18
follower=3 receive log, firstTerm=3, firstIndex=19, lastTerm=3, lastIndex=19
对于index=19日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=18
follower=2 receive log, firstTerm=3, firstIndex=19, lastTerm=3, lastIndex=19
leader=4 refresh commit success, put logIndex=[19], rf.matchIndex=[1 1 19 19 19]
follower=3 refresh commit success, put logIndex=[19]
heart beat handle success, leader=4, me=3, term=3, myCommit=19, time=1705032526809
follower=2 refresh commit success, put logIndex=[19]
heart beat handle success, leader=4, me=2, term=3, myCommit=19, time=1705032526822
对于index=19日志, 有1个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=19, time=1705032526922
heart beat handle success, leader=4, me=3, term=3, myCommit=19, time=1705032526988
heart beat handle success, leader=4, me=2, term=3, myCommit=19, time=1705032527023
对于index=19日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=20
send cmd to 4, index=20
对于index=20日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=19
follower=3 receive log, firstTerm=3, firstIndex=20, lastTerm=3, lastIndex=20
follower=2 will handle count=1, curIndex=19
follower=2 receive log, firstTerm=3, firstIndex=20, lastTerm=3, lastIndex=20
leader=4 refresh commit success, put logIndex=[20], rf.matchIndex=[1 1 20 20 20]
对于index=20日志, 有1个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[20]
heart beat handle success, leader=4, me=3, term=3, myCommit=20, time=1705032527243
follower=2 refresh commit success, put logIndex=[20]
heart beat handle success, leader=4, me=2, term=3, myCommit=20, time=1705032527287
对于index=20日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=21
send cmd to 4, index=21
对于index=21日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=20
follower=2 receive log, firstTerm=3, firstIndex=21, lastTerm=3, lastIndex=21
心跳超时, id=1, time=1705032527462
id=1 vote to itself, term=13, time=1705032527462
id=1 send to id=4
id=1 send to id=0
id=1 send to id=3
id=1 send to id=2
对于index=21日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=20, time=1705032527485
heart beat handle success, leader=4, me=2, term=3, myCommit=20, time=1705032527555
对于index=21日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=20
follower=3 receive log, firstTerm=3, firstIndex=21, lastTerm=3, lastIndex=21
对于index=21日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=20, time=1705032527711
对于index=21日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=21
follower=3 receive log, firstTerm=3, firstIndex=21, lastTerm=3, lastIndex=21
heart beat handle success, leader=4, me=2, term=3, myCommit=20, time=1705032527850
follower=3 will handle count=1, curIndex=21
follower=3 receive log, firstTerm=3, firstIndex=21, lastTerm=3, lastIndex=21
对于index=21日志, 有1个节点已经达成共识, 一共有3个节点
leader=4 refresh commit success, put logIndex=[21], rf.matchIndex=[1 1 21 21 21]
follower=2 refresh commit success, put logIndex=[21]
heart beat handle success, leader=4, me=2, term=3, myCommit=21, time=1705032527950
follower=3 refresh commit success, put logIndex=[21]
heart beat handle success, leader=4, me=3, term=3, myCommit=21, time=1705032527993
对于index=21日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=22
send cmd to 4, index=22
对于index=22日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=21
follower=2 receive log, firstTerm=3, firstIndex=22, lastTerm=3, lastIndex=22
follower=3 will handle count=1, curIndex=21
follower=3 receive log, firstTerm=3, firstIndex=22, lastTerm=3, lastIndex=22
对于index=22日志, 有0个节点已经达成共识, 一共有3个节点
leader=4 refresh commit success, put logIndex=[22], rf.matchIndex=[1 1 22 22 22]
follower=2 refresh commit success, put logIndex=[22]
heart beat handle success, leader=4, me=2, term=3, myCommit=22, time=1705032528202
对于index=22日志, 有2个节点已经达成共识, 一共有3个节点
心跳超时, id=1, time=1705032528181
id=1 vote to itself, term=14, time=1705032528254
id=1 send to id=4
id=1 send to id=2
id=1 send to id=3
id=1 send to id=0
follower=3 refresh commit success, put logIndex=[22]
heart beat handle success, leader=4, me=3, term=3, myCommit=22, time=1705032528298
对于index=22日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=23
send cmd to 4, index=23
对于index=23日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=22, time=1705032528407
follower=3 will handle count=1, curIndex=22
follower=3 receive log, firstTerm=3, firstIndex=23, lastTerm=3, lastIndex=23
对于index=23日志, 有0个节点已经达成共识, 一共有3个节点
对于index=23日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=22, time=1705032528531
follower=2 will handle count=1, curIndex=22
follower=2 receive log, firstTerm=3, firstIndex=23, lastTerm=3, lastIndex=23
leader=4 refresh commit success, put logIndex=[23], rf.matchIndex=[1 1 23 23 23]
对于index=23日志, 有1个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[23]
heart beat handle success, leader=4, me=3, term=3, myCommit=23, time=1705032528670
follower=2 refresh commit success, put logIndex=[23]
heart beat handle success, leader=4, me=2, term=3, myCommit=23, time=1705032528774
对于index=23日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=23, time=1705032528820
heart beat handle success, leader=4, me=2, term=3, myCommit=23, time=1705032528850
对于index=23日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=24
send cmd to 4, index=24
对于index=24日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=23
follower=3 receive log, firstTerm=3, firstIndex=24, lastTerm=3, lastIndex=24
心跳超时, id=1, time=1705032528987
id=1 vote to itself, term=15, time=1705032528987
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
follower=2 will handle count=1, curIndex=23
follower=2 receive log, firstTerm=3, firstIndex=24, lastTerm=3, lastIndex=24
heart beat handle success, leader=4, me=3, term=3, myCommit=23, time=1705032529034
对于index=24日志, 有0个节点已经达成共识, 一共有3个节点
leader=4 refresh commit success, put logIndex=[24], rf.matchIndex=[1 1 24 24 24]
对于index=24日志, 有1个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[24]
heart beat handle success, leader=4, me=3, term=3, myCommit=24, time=1705032529183
follower=2 refresh commit success, put logIndex=[24]
heart beat handle success, leader=4, me=2, term=3, myCommit=24, time=1705032529206
对于index=24日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=25
send cmd to 4, index=25
对于index=25日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=24
follower=3 receive log, firstTerm=3, firstIndex=25, lastTerm=3, lastIndex=25
follower=2 will handle count=1, curIndex=24
follower=2 receive log, firstTerm=3, firstIndex=25, lastTerm=3, lastIndex=25
对于index=25日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[25]
heart beat handle success, leader=4, me=3, term=3, myCommit=25, time=1705032529391
leader=4 refresh commit success, put logIndex=[25], rf.matchIndex=[1 1 25 25 25]
对于index=25日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=25, time=1705032529573
follower=2 refresh commit success, put logIndex=[25]
heart beat handle success, leader=4, me=2, term=3, myCommit=25, time=1705032529605
对于index=25日志, 有2个节点已经达成共识, 一共有3个节点
心跳超时, id=1, time=1705032529659
id=1 vote to itself, term=16, time=1705032529660
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
heart beat handle success, leader=4, me=3, term=3, myCommit=25, time=1705032529673
heart beat handle success, leader=4, me=2, term=3, myCommit=25, time=1705032529676
heart beat handle success, leader=4, me=2, term=3, myCommit=25, time=1705032529777
对于index=25日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=26
send cmd to 4, index=26
对于index=26日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=25
follower=3 receive log, firstTerm=3, firstIndex=26, lastTerm=3, lastIndex=26
对于index=26日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=25
follower=2 receive log, firstTerm=3, firstIndex=26, lastTerm=3, lastIndex=26
heart beat handle success, leader=4, me=3, term=3, myCommit=25, time=1705032529987
对于index=26日志, 有1个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=25, time=1705032530018
leader=4 refresh commit success, put logIndex=[26], rf.matchIndex=[1 1 26 26 26]
对于index=26日志, 有1个节点已经达成共识, 一共有3个节点
对于index=26日志, 有1个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[26]
heart beat handle success, leader=4, me=3, term=3, myCommit=26, time=1705032530228
follower=2 refresh commit success, put logIndex=[26]
heart beat handle success, leader=4, me=2, term=3, myCommit=26, time=1705032530228
heart beat handle success, leader=4, me=3, term=3, myCommit=26, time=1705032530270
对于index=26日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=27
send cmd to 4, index=27
对于index=27日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=26
follower=2 receive log, firstTerm=3, firstIndex=27, lastTerm=3, lastIndex=27
对于index=27日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=1, time=1705032530408
id=1 vote to itself, term=17, time=1705032530408
id=1 send to id=4
follower=3 will handle count=1, curIndex=26
follower=3 receive log, firstTerm=3, firstIndex=27, lastTerm=3, lastIndex=27
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
对于index=27日志, 有1个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[27]
heart beat handle success, leader=4, me=3, term=3, myCommit=27, time=1705032530527
heart beat handle success, leader=4, me=2, term=3, myCommit=26, time=1705032530529
leader=4 refresh commit success, put logIndex=[27], rf.matchIndex=[1 1 27 27 27]
对于index=27日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=27, time=1705032530645
follower=2 refresh commit success, put logIndex=[27]
heart beat handle success, leader=4, me=2, term=3, myCommit=27, time=1705032530655
对于index=27日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=28
send cmd to 4, index=28
对于index=28日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=27
follower=3 receive log, firstTerm=3, firstIndex=28, lastTerm=3, lastIndex=28
对于index=28日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=27
follower=2 receive log, firstTerm=3, firstIndex=28, lastTerm=3, lastIndex=28
heart beat handle success, leader=4, me=3, term=3, myCommit=27, time=1705032530870
对于index=28日志, 有1个节点已经达成共识, 一共有3个节点
leader=4 refresh commit success, put logIndex=[28], rf.matchIndex=[1 1 28 28 28]
follower=2 refresh commit success, put logIndex=[28]
heart beat handle success, leader=4, me=2, term=3, myCommit=28, time=1705032530994
对于index=28日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=28, time=1705032531096
心跳超时, id=1, time=1705032531134
id=1 vote to itself, term=18, time=1705032531135
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
对于index=28日志, 有2个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[28]
heart beat handle success, leader=4, me=3, term=3, myCommit=28, time=1705032531253
heart beat handle success, leader=4, me=2, term=3, myCommit=28, time=1705032531259
id=1 send to id=3
对于index=28日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=29
send cmd to 4, index=29
对于index=29日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=28, time=1705032531328
对于index=29日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=28
follower=2 receive log, firstTerm=3, firstIndex=29, lastTerm=3, lastIndex=29
follower=3 will handle count=1, curIndex=28
follower=3 receive log, firstTerm=3, firstIndex=29, lastTerm=3, lastIndex=29
leader=4 refresh commit success, put logIndex=[29], rf.matchIndex=[1 1 29 29 29]
对于index=29日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[29]
heart beat handle success, leader=4, me=3, term=3, myCommit=29, time=1705032531579
对于index=29日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=29, time=1705032531680
follower=2 refresh commit success, put logIndex=[29]
heart beat handle success, leader=4, me=2, term=3, myCommit=29, time=1705032531692
对于index=29日志, 有3个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=29, time=1705032531831
heart beat handle success, leader=4, me=2, term=3, myCommit=29, time=1705032531833
leader=4 receive one log, logIndex=30
send cmd to 4, index=30
对于index=30日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=1, time=1705032531914
id=1 vote to itself, term=19, time=1705032531914
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
follower=2 will handle count=1, curIndex=29
follower=2 receive log, firstTerm=3, firstIndex=30, lastTerm=3, lastIndex=30
对于index=30日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=29
follower=3 receive log, firstTerm=3, firstIndex=30, lastTerm=3, lastIndex=30
heart beat handle success, leader=4, me=2, term=3, myCommit=29, time=1705032532041
leader=4 refresh commit success, put logIndex=[30], rf.matchIndex=[1 1 30 30 30]
对于index=30日志, 有1个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[30]
heart beat handle success, leader=4, me=3, term=3, myCommit=30, time=1705032532178
对于index=30日志, 有2个节点已经达成共识, 一共有3个节点
对于index=30日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[30]
heart beat handle success, leader=4, me=2, term=3, myCommit=30, time=1705032532297
heart beat handle success, leader=4, me=3, term=3, myCommit=30, time=1705032532350
对于index=30日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=31
send cmd to 4, index=31
对于index=31日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=30
follower=3 receive log, firstTerm=3, firstIndex=31, lastTerm=3, lastIndex=31
对于index=31日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=30
follower=2 receive log, firstTerm=3, firstIndex=31, lastTerm=3, lastIndex=31
heart beat handle success, leader=4, me=3, term=3, myCommit=30, time=1705032532611
leader=4 refresh commit success, put logIndex=[31], rf.matchIndex=[1 1 31 31 31]
对于index=31日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[31]
heart beat handle success, leader=4, me=2, term=3, myCommit=31, time=1705032532651
心跳超时, id=1, time=1705032532722
id=1 vote to itself, term=20, time=1705032532722
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
对于index=31日志, 有2个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[31]
heart beat handle success, leader=4, me=3, term=3, myCommit=31, time=1705032532749
heart beat handle success, leader=4, me=2, term=3, myCommit=31, time=1705032532754
heart beat handle success, leader=4, me=3, term=3, myCommit=31, time=1705032532850
对于index=31日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=32
send cmd to 4, index=32
对于index=32日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=31
follower=2 receive log, firstTerm=3, firstIndex=32, lastTerm=3, lastIndex=32
对于index=32日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=31
follower=3 receive log, firstTerm=3, firstIndex=32, lastTerm=3, lastIndex=32
leader=4 refresh commit success, put logIndex=[32], rf.matchIndex=[1 1 32 32 32]
follower=2 refresh commit success, put logIndex=[32]
heart beat handle success, leader=4, me=2, term=3, myCommit=32, time=1705032533053
对于index=32日志, 有1个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[32]
heart beat handle success, leader=4, me=3, term=3, myCommit=32, time=1705032533093
heart beat handle success, leader=4, me=2, term=3, myCommit=32, time=1705032533157
对于index=32日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=33
send cmd to 4, index=33
对于index=33日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=32
follower=3 receive log, firstTerm=3, firstIndex=33, lastTerm=3, lastIndex=33
对于index=33日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=32
follower=2 receive log, firstTerm=3, firstIndex=33, lastTerm=3, lastIndex=33
heart beat handle success, leader=4, me=3, term=3, myCommit=32, time=1705032533382
对于index=33日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=1, time=1705032533447
id=1 vote to itself, term=21, time=1705032533447
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
heart beat handle success, leader=4, me=3, term=3, myCommit=32, time=1705032533485
follower=2 will handle count=1, curIndex=33
follower=2 receive log, firstTerm=3, firstIndex=33, lastTerm=3, lastIndex=33
对于index=33日志, 有0个节点已经达成共识, 一共有3个节点
leader=4 refresh commit success, put logIndex=[33], rf.matchIndex=[1 1 33 33 33]
follower=3 refresh commit success, put logIndex=[33]
heart beat handle success, leader=4, me=3, term=3, myCommit=33, time=1705032533593
对于index=33日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[33]
heart beat handle success, leader=4, me=2, term=3, myCommit=33, time=1705032533646
对于index=33日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=34
send cmd to 4, index=34
对于index=34日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=33, time=1705032533729
follower=2 will handle count=1, curIndex=33
follower=2 receive log, firstTerm=3, firstIndex=34, lastTerm=3, lastIndex=34
对于index=34日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=33
follower=3 receive log, firstTerm=3, firstIndex=34, lastTerm=3, lastIndex=34
heart beat handle success, leader=4, me=2, term=3, myCommit=33, time=1705032533892
对于index=34日志, 有0个节点已经达成共识, 一共有3个节点
leader=4 refresh commit success, put logIndex=[34], rf.matchIndex=[1 1 34 34 34]
follower=3 refresh commit success, put logIndex=[34]
heart beat handle success, leader=4, me=3, term=3, myCommit=34, time=1705032534026
follower=2 refresh commit success, put logIndex=[34]
heart beat handle success, leader=4, me=2, term=3, myCommit=34, time=1705032534027
对于index=34日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=35
send cmd to 4, index=35
对于index=35日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=34
follower=2 receive log, firstTerm=3, firstIndex=35, lastTerm=3, lastIndex=35
对于index=35日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=34
follower=3 receive log, firstTerm=3, firstIndex=35, lastTerm=3, lastIndex=35
leader=4 refresh commit success, put logIndex=[35], rf.matchIndex=[1 1 35 35 35]
心跳超时, id=1, time=1705032534181
id=1 vote to itself, term=22, time=1705032534251
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
follower=2 refresh commit success, put logIndex=[35]
heart beat handle success, leader=4, me=2, term=3, myCommit=35, time=1705032534275
对于index=35日志, 有2个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[35]
heart beat handle success, leader=4, me=3, term=3, myCommit=35, time=1705032534366
对于index=35日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=36
send cmd to 4, index=36
对于index=36日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=35
follower=3 receive log, firstTerm=3, firstIndex=36, lastTerm=3, lastIndex=36
对于index=36日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=35, time=1705032534571
follower=2 will handle count=1, curIndex=35
follower=2 receive log, firstTerm=3, firstIndex=36, lastTerm=3, lastIndex=36
对于index=36日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=35, time=1705032534673
follower=2 will handle count=1, curIndex=36
follower=2 receive log, firstTerm=3, firstIndex=36, lastTerm=3, lastIndex=36
leader=4 refresh commit success, put logIndex=[36], rf.matchIndex=[1 1 36 36 36]
对于index=36日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[36]
heart beat handle success, leader=4, me=2, term=3, myCommit=36, time=1705032534880
follower=3 refresh commit success, put logIndex=[36]
heart beat handle success, leader=4, me=3, term=3, myCommit=36, time=1705032534881
对于index=36日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=37
send cmd to 4, index=37
对于index=37日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=1, time=1705032535009
id=1 vote to itself, term=23, time=1705032535094
id=1 send to id=2
id=1 send to id=0
对于index=37日志, 有0个节点已经达成共识, 一共有3个节点
id=1 send to id=3
follower=2 will handle count=1, curIndex=36
follower=2 receive log, firstTerm=3, firstIndex=37, lastTerm=3, lastIndex=37
heart beat handle success, leader=4, me=3, term=3, myCommit=36, time=1705032535146
id=1 send to id=4
follower=3 will handle count=1, curIndex=36
follower=3 receive log, firstTerm=3, firstIndex=37, lastTerm=3, lastIndex=37
对于index=37日志, 有0个节点已经达成共识, 一共有3个节点
对于index=37日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=37
follower=2 receive log, firstTerm=3, firstIndex=37, lastTerm=3, lastIndex=37
heart beat handle success, leader=4, me=3, term=3, myCommit=36, time=1705032535383
对于index=37日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=37
follower=2 receive log, firstTerm=3, firstIndex=37, lastTerm=3, lastIndex=37
leader=4 refresh commit success, put logIndex=[37], rf.matchIndex=[1 1 37 37 37]
follower=3 refresh commit success, put logIndex=[37]
heart beat handle success, leader=4, me=3, term=3, myCommit=37, time=1705032535484
对于index=37日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[37]
heart beat handle success, leader=4, me=2, term=3, myCommit=37, time=1705032535599
对于index=37日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=38
send cmd to 4, index=38
对于index=38日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=37, time=1705032535691
对于index=38日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=37
follower=3 receive log, firstTerm=3, firstIndex=38, lastTerm=3, lastIndex=38
follower=2 will handle count=1, curIndex=37
follower=2 receive log, firstTerm=3, firstIndex=38, lastTerm=3, lastIndex=38
follower=2 will handle count=1, curIndex=38
follower=2 receive log, firstTerm=3, firstIndex=38, lastTerm=3, lastIndex=38
heart beat handle success, leader=4, me=3, term=3, myCommit=37, time=1705032535916
leader=4 refresh commit success, put logIndex=[38], rf.matchIndex=[1 1 38 38 38]
心跳超时, id=1, time=1705032535965
id=1 vote to itself, term=24, time=1705032535966
id=1 send to id=4
id=1 send to id=2
对于index=38日志, 有0个节点已经达成共识, 一共有3个节点
id=1 send to id=0
id=1 send to id=3
对于index=38日志, 有1个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[38]
heart beat handle success, leader=4, me=3, term=3, myCommit=38, time=1705032536182
follower=2 refresh commit success, put logIndex=[38]
heart beat handle success, leader=4, me=2, term=3, myCommit=38, time=1705032536193
heart beat handle success, leader=4, me=2, term=3, myCommit=38, time=1705032536287
heart beat handle success, leader=4, me=3, term=3, myCommit=38, time=1705032536287
对于index=38日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=39
send cmd to 4, index=39
对于index=39日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=38
follower=3 receive log, firstTerm=3, firstIndex=39, lastTerm=3, lastIndex=39
follower=2 will handle count=1, curIndex=38
follower=2 receive log, firstTerm=3, firstIndex=39, lastTerm=3, lastIndex=39
对于index=39日志, 有0个节点已经达成共识, 一共有3个节点
leader=4 refresh commit success, put logIndex=[39], rf.matchIndex=[1 1 39 39 39]
对于index=39日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[39]
heart beat handle success, leader=4, me=2, term=3, myCommit=39, time=1705032536570
follower=3 refresh commit success, put logIndex=[39]
heart beat handle success, leader=4, me=3, term=3, myCommit=39, time=1705032536641
对于index=39日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=40
send cmd to 4, index=40
对于index=40日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=1, time=1705032536663
id=1 vote to itself, term=25, time=1705032536689
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
follower=3 will handle count=1, curIndex=39
follower=3 receive log, firstTerm=3, firstIndex=40, lastTerm=3, lastIndex=40
对于index=40日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=39
follower=2 receive log, firstTerm=3, firstIndex=40, lastTerm=3, lastIndex=40
对于index=40日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=40
follower=2 receive log, firstTerm=3, firstIndex=40, lastTerm=3, lastIndex=40
leader=4 refresh commit success, put logIndex=[40], rf.matchIndex=[1 1 40 40 40]
heart beat handle success, leader=4, me=3, term=3, myCommit=39, time=1705032536973
follower=2 refresh commit success, put logIndex=[40]
heart beat handle success, leader=4, me=2, term=3, myCommit=40, time=1705032537001
follower=3 refresh commit success, put logIndex=[40]
heart beat handle success, leader=4, me=3, term=3, myCommit=40, time=1705032537024
对于index=40日志, 有0个节点已经达成共识, 一共有3个节点
对于index=40日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=41
send cmd to 4, index=41
对于index=41日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=40, time=1705032537172
follower=3 will handle count=1, curIndex=40
follower=3 receive log, firstTerm=3, firstIndex=41, lastTerm=3, lastIndex=41
对于index=41日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=40
follower=2 receive log, firstTerm=3, firstIndex=41, lastTerm=3, lastIndex=41
leader=4 refresh commit success, put logIndex=[41], rf.matchIndex=[1 1 41 41 41]
对于index=41日志, 有1个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[41]
heart beat handle success, leader=4, me=3, term=3, myCommit=41, time=1705032537450
对于index=41日志, 有2个节点已经达成共识, 一共有3个节点
心跳超时, id=1, time=1705032537472
id=1 vote to itself, term=26, time=1705032537516
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
对于index=41日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[41]
heart beat handle success, leader=4, me=2, term=3, myCommit=41, time=1705032537625
对于index=41日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=42
send cmd to 4, index=42
对于index=42日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=41, time=1705032537684
heart beat handle success, leader=4, me=2, term=3, myCommit=41, time=1705032537689
follower=3 will handle count=1, curIndex=41
follower=3 receive log, firstTerm=3, firstIndex=42, lastTerm=3, lastIndex=42
对于index=42日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=41
follower=2 receive log, firstTerm=3, firstIndex=42, lastTerm=3, lastIndex=42
leader=4 refresh commit success, put logIndex=[42], rf.matchIndex=[1 1 42 42 42]
heart beat handle success, leader=4, me=3, term=3, myCommit=41, time=1705032537888
follower=2 refresh commit success, put logIndex=[42]
heart beat handle success, leader=4, me=2, term=3, myCommit=42, time=1705032537894
对于index=42日志, 有1个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=42, time=1705032538017
follower=3 refresh commit success, put logIndex=[42]
heart beat handle success, leader=4, me=3, term=3, myCommit=42, time=1705032538022
对于index=42日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=43
send cmd to 4, index=43
对于index=43日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=42
follower=3 receive log, firstTerm=3, firstIndex=43, lastTerm=3, lastIndex=43
对于index=43日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=42
follower=2 receive log, firstTerm=3, firstIndex=43, lastTerm=3, lastIndex=43
leader=4 refresh commit success, put logIndex=[43], rf.matchIndex=[1 1 43 43 43]
follower=3 refresh commit success, put logIndex=[43]
heart beat handle success, leader=4, me=3, term=3, myCommit=43, time=1705032538267
对于index=43日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[43]
heart beat handle success, leader=4, me=2, term=3, myCommit=43, time=1705032538367
heart beat handle success, leader=4, me=3, term=3, myCommit=43, time=1705032538367
心跳超时, id=1, time=1705032538371
id=1 vote to itself, term=27, time=1705032538413
id=1 send to id=4
id=1 send to id=2
id=1 send to id=3
id=1 send to id=0
对于index=43日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=44
send cmd to 4, index=44
对于index=44日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=43
follower=3 receive log, firstTerm=3, firstIndex=44, lastTerm=3, lastIndex=44
对于index=44日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=43, time=1705032538642
对于index=44日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=43
follower=2 receive log, firstTerm=3, firstIndex=44, lastTerm=3, lastIndex=44
follower=2 will handle count=1, curIndex=44
follower=2 receive log, firstTerm=3, firstIndex=44, lastTerm=3, lastIndex=44
leader=4 refresh commit success, put logIndex=[44], rf.matchIndex=[1 1 44 44 44]
follower=3 refresh commit success, put logIndex=[44]
heart beat handle success, leader=4, me=3, term=3, myCommit=44, time=1705032538788
对于index=44日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[44]
heart beat handle success, leader=4, me=2, term=3, myCommit=44, time=1705032538794
对于index=44日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=45
send cmd to 4, index=45
对于index=45日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=44
follower=2 receive log, firstTerm=3, firstIndex=45, lastTerm=3, lastIndex=45
对于index=45日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=44
follower=3 receive log, firstTerm=3, firstIndex=45, lastTerm=3, lastIndex=45
heart beat handle success, leader=4, me=2, term=3, myCommit=44, time=1705032539077
heart beat handle success, leader=4, me=3, term=3, myCommit=44, time=1705032539093
对于index=45日志, 有0个节点已经达成共识, 一共有3个节点
leader=4 refresh commit success, put logIndex=[45], rf.matchIndex=[1 1 45 45 45]
心跳超时, id=1, time=1705032539155
id=1 vote to itself, term=28, time=1705032539198
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
follower=3's logs are diff from leader, need to sync
follower=3 will handle count=1, curIndex=44
follower=3 refresh commit success, put logIndex=[45]
follower=3 receive log, firstTerm=3, firstIndex=45, lastTerm=3, lastIndex=45
follower=2 refresh commit success, put logIndex=[45]
heart beat handle success, leader=4, me=2, term=3, myCommit=45, time=1705032539218
对于index=45日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=46
send cmd to 4, index=46
对于index=46日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=45
follower=2 receive log, firstTerm=3, firstIndex=46, lastTerm=3, lastIndex=46
对于index=46日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=45
follower=3 receive log, firstTerm=3, firstIndex=46, lastTerm=3, lastIndex=46
heart beat handle success, leader=4, me=2, term=3, myCommit=45, time=1705032539444
对于index=46日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=46
follower=3 receive log, firstTerm=3, firstIndex=46, lastTerm=3, lastIndex=46
对于index=46日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=45, time=1705032539593
follower=3 refresh commit success, put logIndex=[46]
heart beat handle success, leader=4, me=3, term=3, myCommit=46, time=1705032539646
对于index=46日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[46]
heart beat handle success, leader=4, me=2, term=3, myCommit=46, time=1705032539694
leader=4 refresh commit success, put logIndex=[46], rf.matchIndex=[1 1 46 46 46]
heart beat handle success, leader=4, me=2, term=3, myCommit=46, time=1705032539806
heart beat handle success, leader=4, me=3, term=3, myCommit=46, time=1705032539806
对于index=46日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=47
send cmd to 4, index=47
对于index=47日志, 有0个节点已经达成共识, 一共有3个节点
对于index=47日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=46
follower=2 receive log, firstTerm=3, firstIndex=47, lastTerm=3, lastIndex=47
对于index=47日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=46
follower=3 receive log, firstTerm=3, firstIndex=47, lastTerm=3, lastIndex=47
heart beat handle success, leader=4, me=2, term=3, myCommit=46, time=1705032540070
心跳超时, id=1, time=1705032540032
id=1 vote to itself, term=29, time=1705032540085
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
follower=3 will handle count=1, curIndex=47
follower=3 receive log, firstTerm=3, firstIndex=47, lastTerm=3, lastIndex=47
leader=4 refresh commit success, put logIndex=[47], rf.matchIndex=[1 1 47 47 47]
对于index=47日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[47]
heart beat handle success, leader=4, me=3, term=3, myCommit=47, time=1705032540266
对于index=47日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[47]
heart beat handle success, leader=4, me=2, term=3, myCommit=47, time=1705032540272
heart beat handle success, leader=4, me=2, term=3, myCommit=47, time=1705032540378
对于index=47日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=48
send cmd to 4, index=48
对于index=48日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=47
follower=3 receive log, firstTerm=3, firstIndex=48, lastTerm=3, lastIndex=48
对于index=48日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=47, time=1705032540602
对于index=48日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=47
follower=2 receive log, firstTerm=3, firstIndex=48, lastTerm=3, lastIndex=48
follower=2 will handle count=1, curIndex=48
follower=2 receive log, firstTerm=3, firstIndex=48, lastTerm=3, lastIndex=48
对于index=48日志, 有0个节点已经达成共识, 一共有3个节点
leader=4 refresh commit success, put logIndex=[48], rf.matchIndex=[1 1 48 48 48]
heart beat handle success, leader=4, me=3, term=3, myCommit=47, time=1705032540777
对于index=48日志, 有1个节点已经达成共识, 一共有3个节点
心跳超时, id=1, time=1705032540853
id=1 vote to itself, term=30, time=1705032540853
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
follower=3 refresh commit success, put logIndex=[48]
heart beat handle success, leader=4, me=3, term=3, myCommit=48, time=1705032540878
follower=2 refresh commit success, put logIndex=[48]
heart beat handle success, leader=4, me=2, term=3, myCommit=48, time=1705032540891
对于index=48日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=49
send cmd to 4, index=49
对于index=49日志, 有0个节点已经达成共识, 一共有3个节点
对于index=49日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=48
follower=2 receive log, firstTerm=3, firstIndex=49, lastTerm=3, lastIndex=49
对于index=49日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=48
follower=3 receive log, firstTerm=3, firstIndex=49, lastTerm=3, lastIndex=49
follower=3 will handle count=1, curIndex=49
follower=3 receive log, firstTerm=3, firstIndex=49, lastTerm=3, lastIndex=49
对于index=49日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=49
follower=2 receive log, firstTerm=3, firstIndex=49, lastTerm=3, lastIndex=49
leader=4 refresh commit success, put logIndex=[49], rf.matchIndex=[1 1 49 49 49]
follower=2 refresh commit success, put logIndex=[49]
heart beat handle success, leader=4, me=2, term=3, myCommit=49, time=1705032541377
对于index=49日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 refresh commit success, put logIndex=[49]
heart beat handle success, leader=4, me=3, term=3, myCommit=49, time=1705032541446
对于index=49日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=50
send cmd to 4, index=50
对于index=50日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=2, term=3, myCommit=49, time=1705032541584
对于index=50日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=1, time=1705032541688
id=1 vote to itself, term=31, time=1705032541688
id=1 send to id=4
id=1 send to id=0
follower=2 will handle count=1, curIndex=49
follower=2 receive log, firstTerm=3, firstIndex=50, lastTerm=3, lastIndex=50
id=1 send to id=2
id=1 send to id=3
对于index=50日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=49
follower=3 receive log, firstTerm=3, firstIndex=50, lastTerm=3, lastIndex=50
heart beat handle success, leader=4, me=2, term=3, myCommit=49, time=1705032541837
follower=3 will handle count=1, curIndex=50
follower=3 receive log, firstTerm=3, firstIndex=50, lastTerm=3, lastIndex=50
leader=4 refresh commit success, put logIndex=[50], rf.matchIndex=[1 1 50 50 50]
对于index=50日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[50]
heart beat handle success, leader=4, me=2, term=3, myCommit=50, time=1705032542019
follower=3 refresh commit success, put logIndex=[50]
heart beat handle success, leader=4, me=3, term=3, myCommit=50, time=1705032542019
对于index=50日志, 有1个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=50, time=1705032542122
heart beat handle success, leader=4, me=2, term=3, myCommit=50, time=1705032542163
对于index=50日志, 有3个节点已经达成共识, 一共有3个节点
leader=4 receive one log, logIndex=51
send cmd to 4, index=51
对于index=51日志, 有0个节点已经达成共识, 一共有3个节点
follower=3 will handle count=1, curIndex=50
follower=3 receive log, firstTerm=3, firstIndex=51, lastTerm=3, lastIndex=51
对于index=51日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=50
follower=2 receive log, firstTerm=3, firstIndex=51, lastTerm=3, lastIndex=51
heart beat handle success, leader=4, me=3, term=3, myCommit=50, time=1705032542373
对于index=51日志, 有1个节点已经达成共识, 一共有3个节点
心跳超时, id=1, time=1705032542435
id=1 vote to itself, term=32, time=1705032542435
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
follower=3 refresh commit success, put logIndex=[51]
heart beat handle success, leader=4, me=3, term=3, myCommit=51, time=1705032542474
leader=4 refresh commit success, put logIndex=[51], rf.matchIndex=[1 1 51 51 51]
对于index=51日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[51]
heart beat handle success, leader=4, me=2, term=3, myCommit=51, time=1705032542600
对于index=51日志, 有3个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=4, me=3, term=3, myCommit=51, time=1705032542629
heart beat handle success, leader=4, me=2, term=3, myCommit=51, time=1705032542696
heart beat handle success, leader=4, me=3, term=3, myCommit=51, time=1705032542731
heart beat handle success, leader=4, me=3, term=3, myCommit=51, time=1705032542835
heart beat handle success, leader=4, me=2, term=3, myCommit=51, time=1705032542877
heart beat handle success, leader=4, me=3, term=3, myCommit=51, time=1705032542957
heart beat handle success, leader=4, me=2, term=3, myCommit=51, time=1705032542978
disconnect(2)
leader=4 receive one log, logIndex=52
leader=4 receive one log, logIndex=53
leader=4 receive one log, logIndex=54
leader=4 receive one log, logIndex=55
leader=4 receive one log, logIndex=56
leader=4 receive one log, logIndex=57
leader=4 receive one log, logIndex=58
leader=4 receive one log, logIndex=59
leader=4 receive one log, logIndex=60
leader=4 receive one log, logIndex=61
leader=4 receive one log, logIndex=62
leader=4 receive one log, logIndex=63
leader=4 receive one log, logIndex=64
leader=4 receive one log, logIndex=65
leader=4 receive one log, logIndex=66
leader=4 receive one log, logIndex=67
leader=4 receive one log, logIndex=68
leader=4 receive one log, logIndex=69
leader=4 receive one log, logIndex=70
leader=4 receive one log, logIndex=71
leader=4 receive one log, logIndex=72
leader=4 receive one log, logIndex=73
leader=4 receive one log, logIndex=74
leader=4 receive one log, logIndex=75
leader=4 receive one log, logIndex=76
leader=4 receive one log, logIndex=77
leader=4 receive one log, logIndex=78
leader=4 receive one log, logIndex=79
leader=4 receive one log, logIndex=80
leader=4 receive one log, logIndex=81
leader=4 receive one log, logIndex=82
leader=4 receive one log, logIndex=83
leader=4 receive one log, logIndex=84
leader=4 receive one log, logIndex=85
leader=4 receive one log, logIndex=86
leader=4 receive one log, logIndex=87
leader=4 receive one log, logIndex=88
leader=4 receive one log, logIndex=89
leader=4 receive one log, logIndex=90
leader=4 receive one log, logIndex=91
leader=4 receive one log, logIndex=92
leader=4 receive one log, logIndex=93
leader=4 receive one log, logIndex=94
leader=4 receive one log, logIndex=95
leader=4 receive one log, logIndex=96
leader=4 receive one log, logIndex=97
leader=4 receive one log, logIndex=98
leader=4 receive one log, logIndex=99
leader=4 receive one log, logIndex=100
leader=4 receive one log, logIndex=101
heart beat handle success, leader=4, me=3, term=3, myCommit=51, time=1705032543207
心跳超时, id=1, time=1705032543226
id=1 vote to itself, term=33, time=1705032543275
id=1 send to id=0
id=1 send to id=3
id=1 send to id=4
id=1 send to id=2
follower=3 will handle count=50, curIndex=51
follower=3 receive log, firstTerm=3, firstIndex=52, lastTerm=3, lastIndex=101
disconnect(0)
disconnect(1)
disconnect(2)
disconnect(3)
disconnect(4)
connect(0)
connect(1)
connect(2)
leader=0 receive one log, logIndex=52
send cmd to 0, index=52
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
id=0 change to follower from leader
server=0 currentTerm=9 > args.Term=9, vote reject
server=2 currentTerm=22 > args.Term=22, vote reject
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705032543554
id=2 vote to itself, term=23, time=1705032543625
id=2 send to id=4
id=2 send to id=1
id=2 send to id=0
id=2 send to id=3
server=0, currentTerm=9 >= args.Term=3, reject to vote to server=1
server=1, currentTerm=33 >= args.Term=23, reject to vote to server=2
server=0 currentTerm=21 > args.Term=21, vote reject
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=0, currentTerm=23 >= args.Term=22, reject to vote to server=1
心跳超时, id=3, time=1705032543867
id=3 vote to itself, term=4, time=1705032543893
id=3 send to id=1
id=3 send to id=4
id=3 send to id=0
id=3 send to id=2
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=2, currentTerm=33 >= args.Term=16, reject to vote to server=1
server=2, currentTerm=33 >= args.Term=17, reject to vote to server=1
server=2, currentTerm=33 >= args.Term=27, reject to vote to server=1
server=2, currentTerm=33 >= args.Term=25, reject to vote to server=1
server=2, currentTerm=33 >= args.Term=21, reject to vote to server=1
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=2, currentTerm=33 >= args.Term=13, reject to vote to server=1
server=2, currentTerm=33 >= args.Term=2, reject to vote to server=1
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=0, time=1705032544283
id=0 vote to itself, term=24, time=1705032544283
id=0 send to id=4
id=0 send to id=1
server=1, currentTerm=33 >= args.Term=24, reject to vote to server=0
id=0 send to id=2
id=0 send to id=3
server=2, currentTerm=33 >= args.Term=24, reject to vote to server=0
server=2, currentTerm=33 >= args.Term=3, reject to vote to server=1
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705032544457
id=2 vote to itself, term=34, time=1705032544457
id=2 send to id=4
id=2 send to id=0
id=2 send to id=1
server=0, currentTerm=33 >= args.Term=13, reject to vote to server=1
server=0, currentTerm=33 >= args.Term=25, reject to vote to server=1
server=0, currentTerm=33 >= args.Term=8, reject to vote to server=1
id=2 become leader, lastLogIdx=51, leaderCommit=51
follower=0's logs are diff from leader, need to sync
follower=0 will handle count=1, curIndex=51
follower=0 will handle count=2, curIndex=51
follower=1's logs are diff from leader, need to sync
follower=1 will handle count=1, curIndex=51
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=51
follower=1 will handle count=2, curIndex=51
follower=1 will handle count=3, curIndex=51
follower=1 will handle count=4, curIndex=51
follower=1 will handle count=5, curIndex=51
follower=0 will handle count=3, curIndex=51
follower=1 will handle count=6, curIndex=51
follower=0 will handle count=2, curIndex=51
follower=1 will handle count=7, curIndex=51
follower=0 will handle count=4, curIndex=51
follower=0 will handle count=5, curIndex=51
id=2 send to id=3
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=0, currentTerm=34 >= args.Term=2, reject to vote to server=1
server=2, currentTerm=34 >= args.Term=23, reject to vote to server=1
follower=1 will handle count=8, curIndex=51
follower=0 will handle count=6, curIndex=51
server=0, currentTerm=34 >= args.Term=20, reject to vote to server=1
follower=1 will handle count=9, curIndex=51
server=0, currentTerm=34 >= args.Term=5, reject to vote to server=1
心跳超时, id=3, time=1705032544704
id=3 vote to itself, term=5, time=1705032544743
id=3 send to id=4
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
id=3 send to id=1
id=3 send to id=0
id=3 send to id=2
server=1, currentTerm=34 >= args.Term=2, reject to vote to server=2
id=2 change to follower from leader
follower=1 will handle count=9, curIndex=51
server=0, currentTerm=34 >= args.Term=18, reject to vote to server=1
server=2, currentTerm=34 >= args.Term=8, reject to vote to server=1
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=0, currentTerm=34 >= args.Term=19, reject to vote to server=1
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=2, currentTerm=34 >= args.Term=6, reject to vote to server=1
server=2, currentTerm=34 >= args.Term=15, reject to vote to server=1
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=0, time=1705032545170
id=0 vote to itself, term=35, time=1705032545214
id=0 send to id=4
id=0 send to id=2
id=0 send to id=1
id=0 send to id=3
server=2 currentTerm=35 > args.Term=35, vote reject
server=2, currentTerm=35 >= args.Term=5, reject to vote to server=1
server=2, currentTerm=35 >= args.Term=19, reject to vote to server=1
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705032545299
id=2 vote to itself, term=36, time=1705032545300
id=2 send to id=0
id=2 send to id=4
id=2 send to id=1
id=2 send to id=3
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032545473
id=3 vote to itself, term=6, time=1705032545473
id=3 send to id=4
server=0, currentTerm=35 >= args.Term=29, reject to vote to server=1
server=0, currentTerm=35 >= args.Term=27, reject to vote to server=1
server=0, currentTerm=36 >= args.Term=17, reject to vote to server=1
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
id=2 become leader, lastLogIdx=51, leaderCommit=51
leader=2 receive one log, logIndex=52
send cmd to 2, index=52
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=2, currentTerm=36 >= args.Term=30, reject to vote to server=1
server=2, currentTerm=36 >= args.Term=7, reject to vote to server=1
follower=0's logs are diff from leader, need to sync
server=2, currentTerm=36 >= args.Term=9, reject to vote to server=1
follower=1's logs are diff from leader, need to sync
server=0, currentTerm=36 >= args.Term=4, reject to vote to server=1
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=0, currentTerm=36 >= args.Term=12, reject to vote to server=1
follower=1 will handle count=1, curIndex=51
follower=1 will handle count=2, curIndex=51
follower=1 will handle count=3, curIndex=51
follower=1 will handle count=4, curIndex=51
follower=1 will handle count=5, curIndex=51
follower=1 will handle count=6, curIndex=51
follower=1 will handle count=7, curIndex=51
follower=1 will handle count=8, curIndex=51
follower=1 will handle count=9, curIndex=51
follower=1 will handle count=10, curIndex=51
follower=1 will handle count=11, curIndex=51
follower=1 will handle count=12, curIndex=51
follower=1 will handle count=13, curIndex=51
follower=1 will handle count=14, curIndex=51
follower=1 will handle count=15, curIndex=51
follower=1 will handle count=16, curIndex=51
follower=1 will handle count=17, curIndex=51
follower=1 will handle count=18, curIndex=51
follower=1 will handle count=19, curIndex=51
follower=1 will handle count=20, curIndex=51
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=0, currentTerm=36 >= args.Term=15, reject to vote to server=1
follower=0 will handle count=1, curIndex=51
follower=1 will handle count=21, curIndex=51
follower=1 will handle count=22, curIndex=51
follower=1 will handle count=23, curIndex=51
follower=1 will handle count=24, curIndex=51
follower=1 will handle count=25, curIndex=51
follower=1 will handle count=26, curIndex=51
follower=1 will handle count=27, curIndex=51
follower=1 will handle count=28, curIndex=51
follower=1 will handle count=29, curIndex=51
follower=1 will handle count=30, curIndex=51
follower=1 will handle count=31, curIndex=51
follower=1 will handle count=32, curIndex=51
follower=0 will handle count=2, curIndex=51
follower=0 will handle count=3, curIndex=51
follower=0 will handle count=4, curIndex=51
follower=0 will handle count=5, curIndex=51
follower=0 will handle count=6, curIndex=51
follower=0 will handle count=7, curIndex=51
follower=0 will handle count=8, curIndex=51
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=9, curIndex=51
follower=1 will handle count=33, curIndex=51
server=2, currentTerm=36 >= args.Term=28, reject to vote to server=1
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=0, currentTerm=36 >= args.Term=24, reject to vote to server=1
server=0, currentTerm=36 >= args.Term=10, reject to vote to server=1
follower=0 will handle count=9, curIndex=51
follower=1 will handle count=33, curIndex=51
follower=0 will handle count=10, curIndex=51
follower=0 will handle count=11, curIndex=51
follower=0 will handle count=12, curIndex=51
follower=0 will handle count=13, curIndex=51
follower=0 will handle count=14, curIndex=51
follower=0 will handle count=15, curIndex=51
follower=0 will handle count=16, curIndex=51
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=0, currentTerm=36 >= args.Term=6, reject to vote to server=1
follower=0 will handle count=17, curIndex=51
心跳超时, id=3, time=1705032546241
id=3 vote to itself, term=7, time=1705032546241
id=3 send to id=4
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
server=0, currentTerm=36 >= args.Term=33, reject to vote to server=1
follower=1 will handle count=33, curIndex=51
server=2, currentTerm=36 >= args.Term=12, reject to vote to server=1
server=0, currentTerm=36 >= args.Term=30, reject to vote to server=1
server=0, currentTerm=36 >= args.Term=14, reject to vote to server=1
follower=0 will handle count=18, curIndex=51
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=2, currentTerm=36 >= args.Term=11, reject to vote to server=1
follower=0 will handle count=18, curIndex=51
follower=0 will handle count=19, curIndex=51
follower=0 will handle count=20, curIndex=51
follower=1 will handle count=33, curIndex=51
follower=1 will handle count=34, curIndex=51
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=21, curIndex=51
follower=0 will handle count=22, curIndex=51
follower=0 will handle count=23, curIndex=51
follower=0 will handle count=24, curIndex=51
follower=0 will handle count=25, curIndex=51
follower=0 will handle count=26, curIndex=51
follower=0 will handle count=27, curIndex=51
follower=0 will handle count=28, curIndex=51
follower=0 will handle count=29, curIndex=51
follower=0 will handle count=30, curIndex=51
follower=0 will handle count=31, curIndex=51
follower=0 will handle count=32, curIndex=51
follower=0 will handle count=33, curIndex=51
follower=0 will handle count=34, curIndex=51
server=2, currentTerm=36 >= args.Term=33, reject to vote to server=1
follower=1 will handle count=35, curIndex=51
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=35, curIndex=51
follower=0 will handle count=36, curIndex=51
follower=0 will handle count=37, curIndex=51
follower=0 will handle count=38, curIndex=51
follower=0 will handle count=39, curIndex=51
follower=0 will handle count=40, curIndex=51
follower=0 will handle count=41, curIndex=51
server=2, currentTerm=36 >= args.Term=29, reject to vote to server=1
follower=0 will handle count=42, curIndex=51
follower=0 will handle count=43, curIndex=51
follower=1 will handle count=35, curIndex=51
follower=1 will handle count=36, curIndex=51
follower=1 will handle count=37, curIndex=51
follower=1 will handle count=38, curIndex=51
follower=1 will handle count=39, curIndex=51
follower=1 will handle count=40, curIndex=51
follower=1 will handle count=41, curIndex=51
follower=1 will handle count=42, curIndex=51
follower=1 will handle count=43, curIndex=51
follower=1 will handle count=44, curIndex=51
follower=1 will handle count=45, curIndex=51
follower=1 will handle count=46, curIndex=51
follower=1 will handle count=47, curIndex=51
follower=1 will handle count=48, curIndex=51
follower=1 will handle count=49, curIndex=51
follower=1 will handle count=50, curIndex=51
server=2, currentTerm=36 >= args.Term=24, reject to vote to server=1
follower=0 will handle count=44, curIndex=51
follower=0 will handle count=45, curIndex=51
follower=0 will handle count=46, curIndex=51
follower=0 will handle count=47, curIndex=51
follower=0 will handle count=48, curIndex=51
follower=1 will handle count=51, curIndex=51
follower=1 refresh commit success, put logIndex=[2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51]
follower=1 receive log, firstTerm=3, firstIndex=2, lastTerm=36, lastIndex=52
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=49, curIndex=51
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=49, curIndex=51
follower=0 will handle count=50, curIndex=51
follower=0 will handle count=51, curIndex=51
follower=0 refresh commit success, put logIndex=[2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51]
follower=0 receive log, firstTerm=3, firstIndex=2, lastTerm=36, lastIndex=52
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032547048
id=3 vote to itself, term=8, time=1705032547048
id=3 send to id=4
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
heart beat handle success, leader=2, me=1, term=36, myCommit=51, time=1705032547059
heart beat handle success, leader=2, me=1, term=36, myCommit=51, time=1705032547073
server=0, currentTerm=36 >= args.Term=26, reject to vote to server=1
follower=0 refresh commit success, put logIndex=[52]
heart beat handle success, leader=2, me=0, term=36, myCommit=52, time=1705032547174
follower=1 refresh commit success, put logIndex=[52]
heart beat handle success, leader=2, me=1, term=36, myCommit=52, time=1705032547176
对于index=52日志, 有1个节点已经达成共识, 一共有3个节点
leader=2 refresh commit success, put logIndex=[52], rf.matchIndex=[52 52 52 51 51]
server=2, currentTerm=36 >= args.Term=10, reject to vote to server=1
heart beat handle success, leader=2, me=1, term=36, myCommit=52, time=1705032547278
对于index=52日志, 有3个节点已经达成共识, 一共有3个节点
leader=2 receive one log, logIndex=53
send cmd to 2, index=53
对于index=53日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=52
follower=1 receive log, firstTerm=36, firstIndex=53, lastTerm=36, lastIndex=53
server=0, currentTerm=36 >= args.Term=31, reject to vote to server=1
follower=0 will handle count=1, curIndex=52
follower=0 receive log, firstTerm=36, firstIndex=53, lastTerm=36, lastIndex=53
server=2, currentTerm=36 >= args.Term=20, reject to vote to server=1
对于index=53日志, 有0个节点已经达成共识, 一共有3个节点
leader=2 refresh commit success, put logIndex=[53], rf.matchIndex=[53 53 53 51 51]
follower=1 refresh commit success, put logIndex=[53]
heart beat handle success, leader=2, me=1, term=36, myCommit=53, time=1705032547499
对于index=53日志, 有2个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[53]
heart beat handle success, leader=2, me=0, term=36, myCommit=53, time=1705032547602
server=2, currentTerm=36 >= args.Term=31, reject to vote to server=1
server=0, currentTerm=36 >= args.Term=7, reject to vote to server=1
heart beat handle success, leader=2, me=1, term=36, myCommit=53, time=1705032547647
对于index=53日志, 有3个节点已经达成共识, 一共有3个节点
leader=2 receive one log, logIndex=54
send cmd to 2, index=54
对于index=54日志, 有0个节点已经达成共识, 一共有3个节点
server=2, currentTerm=36 >= args.Term=18, reject to vote to server=1
follower=0 will handle count=1, curIndex=53
follower=0 receive log, firstTerm=36, firstIndex=54, lastTerm=36, lastIndex=54
对于index=54日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032547795
id=3 vote to itself, term=9, time=1705032547795
id=3 send to id=4
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
对于index=54日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=2, me=0, term=36, myCommit=53, time=1705032547876
follower=1 will handle count=1, curIndex=53
follower=1 receive log, firstTerm=36, firstIndex=54, lastTerm=36, lastIndex=54
对于index=54日志, 有0个节点已经达成共识, 一共有3个节点
server=0, currentTerm=36 >= args.Term=32, reject to vote to server=1
heart beat handle success, leader=2, me=0, term=36, myCommit=53, time=1705032547977
follower=1 will handle count=1, curIndex=54
follower=1 receive log, firstTerm=36, firstIndex=54, lastTerm=36, lastIndex=54
heart beat handle success, leader=2, me=0, term=36, myCommit=53, time=1705032548077
server=2, currentTerm=36 >= args.Term=14, reject to vote to server=1
对于index=54日志, 有0个节点已经达成共识, 一共有3个节点
leader=2 refresh commit success, put logIndex=[54], rf.matchIndex=[54 54 54 51 51]
follower=1 refresh commit success, put logIndex=[54]
heart beat handle success, leader=2, me=1, term=36, myCommit=54, time=1705032548201
server=0, currentTerm=36 >= args.Term=2, reject to vote to server=2
id=2 change to follower from leader
server=0, currentTerm=36 >= args.Term=23, reject to vote to server=1
对于index=54日志, 有2个节点已经达成共识, 一共有3个节点
server=0, currentTerm=36 >= args.Term=16, reject to vote to server=1
server=0, currentTerm=36 >= args.Term=28, reject to vote to server=1
对于index=54日志, 有2个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032548546
id=3 vote to itself, term=10, time=1705032548549
id=3 send to id=4
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
心跳超时, id=0, time=1705032548581
id=0 vote to itself, term=37, time=1705032548658
id=0 send to id=4
对于index=54日志, 有2个节点已经达成共识, 一共有3个节点
server=2, currentTerm=36 >= args.Term=26, reject to vote to server=1
心跳超时, id=2, time=1705032548712
id=2 vote to itself, term=37, time=1705032548712
id=0 send to id=1
id=0 send to id=2
id=2 send to id=4
id=2 send to id=0
id=2 send to id=3
id=0 send to id=3
id=2 send to id=1
对于index=54日志, 有2个节点已经达成共识, 一共有3个节点
对于index=54日志, 有2个节点已经达成共识, 一共有3个节点
对于index=54日志, 有2个节点已经达成共识, 一共有3个节点
对于index=54日志, 有2个节点已经达成共识, 一共有3个节点
对于index=54日志, 有2个节点已经达成共识, 一共有3个节点
server=2, currentTerm=37 >= args.Term=32, reject to vote to server=1
心跳超时, id=3, time=1705032549322
id=3 vote to itself, term=11, time=1705032549365
id=3 send to id=1
id=3 send to id=0
心跳超时, id=0, time=1705032549394
id=0 vote to itself, term=38, time=1705032549394
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 become leader, lastLogIdx=54, leaderCommit=53
id=0 send to id=3
heart beat handle success, leader=0, me=1, term=38, myCommit=53, time=1705032549395
heart beat handle success, leader=0, me=2, term=38, myCommit=53, time=1705032549395
id=3 send to id=2
对于index=54日志, 有2个节点已经达成共识, 一共有3个节点
id=3 send to id=4
heart beat handle success, leader=0, me=2, term=38, myCommit=53, time=1705032549501
对于index=54日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=38, myCommit=53, time=1705032549555
server=2, currentTerm=38 >= args.Term=4, reject to vote to server=1
heart beat handle success, leader=0, me=2, term=38, myCommit=53, time=1705032549603
对于index=54日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=38, myCommit=53, time=1705032549658
leader=0 refresh commit success, put logIndex=[54], rf.matchIndex=[54 54 54 54 54]
follower=2 refresh commit success, put logIndex=[54]
heart beat handle success, leader=0, me=2, term=38, myCommit=54, time=1705032549707
leader=0 receive one log, logIndex=55
send cmd to 0, index=55
对于index=55日志, 有0个节点已经达成共识, 一共有3个节点
server=0, currentTerm=38 >= args.Term=11, reject to vote to server=1
对于index=55日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=54
follower=1 refresh commit success, put logIndex=[54]
follower=1 receive log, firstTerm=38, firstIndex=55, lastTerm=38, lastIndex=55
follower=2 will handle count=1, curIndex=54
follower=2 receive log, firstTerm=38, firstIndex=55, lastTerm=38, lastIndex=55
对于index=55日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=55
follower=1 receive log, firstTerm=38, firstIndex=55, lastTerm=38, lastIndex=55
对于index=55日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=55
follower=2 receive log, firstTerm=38, firstIndex=55, lastTerm=38, lastIndex=55
heart beat handle success, leader=0, me=1, term=38, myCommit=54, time=1705032550120
leader=0 refresh commit success, put logIndex=[55], rf.matchIndex=[55 55 55 54 54]
心跳超时, id=3, time=1705032550215
id=3 vote to itself, term=12, time=1705032550215
id=3 send to id=4
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
对于index=55日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[55]
heart beat handle success, leader=0, me=1, term=38, myCommit=55, time=1705032550328
follower=2 refresh commit success, put logIndex=[55]
heart beat handle success, leader=0, me=2, term=38, myCommit=55, time=1705032550363
对于index=55日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=56
send cmd to 0, index=56
对于index=56日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=55
follower=2 receive log, firstTerm=38, firstIndex=56, lastTerm=38, lastIndex=56
follower=1 will handle count=1, curIndex=55
follower=1 receive log, firstTerm=38, firstIndex=56, lastTerm=38, lastIndex=56
leader=0 refresh commit success, put logIndex=[56], rf.matchIndex=[56 56 56 54 54]
对于index=56日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[56]
heart beat handle success, leader=0, me=2, term=38, myCommit=56, time=1705032550502
follower=1 refresh commit success, put logIndex=[56]
heart beat handle success, leader=0, me=1, term=38, myCommit=56, time=1705032550506
对于index=56日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=57
send cmd to 0, index=57
对于index=57日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=56
follower=2 receive log, firstTerm=38, firstIndex=57, lastTerm=38, lastIndex=57
follower=1 will handle count=1, curIndex=56
follower=1 receive log, firstTerm=38, firstIndex=57, lastTerm=38, lastIndex=57
leader=0 refresh commit success, put logIndex=[57], rf.matchIndex=[57 57 57 54 54]
对于index=57日志, 有1个节点已经达成共识, 一共有3个节点
对于index=57日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[57]
heart beat handle success, leader=0, me=2, term=38, myCommit=57, time=1705032550883
follower=1 refresh commit success, put logIndex=[57]
heart beat handle success, leader=0, me=1, term=38, myCommit=57, time=1705032550910
对于index=57日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=58
send cmd to 0, index=58
对于index=58日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032550970
id=3 vote to itself, term=13, time=1705032550970
id=3 send to id=4
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
follower=2 will handle count=1, curIndex=57
follower=2 receive log, firstTerm=38, firstIndex=58, lastTerm=38, lastIndex=58
follower=1 will handle count=1, curIndex=57
follower=1 receive log, firstTerm=38, firstIndex=58, lastTerm=38, lastIndex=58
对于index=58日志, 有0个节点已经达成共识, 一共有3个节点
对于index=58日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=58
follower=2 receive log, firstTerm=38, firstIndex=58, lastTerm=38, lastIndex=58
heart beat handle success, leader=0, me=1, term=38, myCommit=57, time=1705032551274
follower=2 will handle count=1, curIndex=58
follower=2 receive log, firstTerm=38, firstIndex=58, lastTerm=38, lastIndex=58
对于index=58日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=38, myCommit=57, time=1705032551330
leader=0 refresh commit success, put logIndex=[58], rf.matchIndex=[58 58 58 54 54]
对于index=58日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[58]
heart beat handle success, leader=0, me=2, term=38, myCommit=58, time=1705032551486
对于index=58日志, 有2个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[58]
heart beat handle success, leader=0, me=1, term=38, myCommit=58, time=1705032551545
对于index=58日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=59
send cmd to 0, index=59
对于index=59日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=58, time=1705032551704
对于index=59日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=58
follower=1 receive log, firstTerm=38, firstIndex=59, lastTerm=38, lastIndex=59
follower=2 will handle count=1, curIndex=58
follower=2 receive log, firstTerm=38, firstIndex=59, lastTerm=38, lastIndex=59
心跳超时, id=3, time=1705032551783
id=3 vote to itself, term=14, time=1705032551804
id=3 send to id=4
id=3 send to id=2
id=3 send to id=1
对于index=59日志, 有0个节点已经达成共识, 一共有3个节点
id=3 send to id=0
heart beat handle success, leader=0, me=1, term=38, myCommit=58, time=1705032551877
follower=2 will handle count=1, curIndex=59
follower=2 receive log, firstTerm=38, firstIndex=59, lastTerm=38, lastIndex=59
对于index=59日志, 有0个节点已经达成共识, 一共有3个节点
leader=0 refresh commit success, put logIndex=[59], rf.matchIndex=[59 59 59 54 54]
follower=1 refresh commit success, put logIndex=[59]
heart beat handle success, leader=0, me=1, term=38, myCommit=59, time=1705032552048
对于index=59日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[59]
heart beat handle success, leader=0, me=2, term=38, myCommit=59, time=1705032552095
对于index=59日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=60
send cmd to 0, index=60
对于index=60日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=59
follower=1 receive log, firstTerm=38, firstIndex=60, lastTerm=38, lastIndex=60
follower=2 will handle count=1, curIndex=59
follower=2 receive log, firstTerm=38, firstIndex=60, lastTerm=38, lastIndex=60
对于index=60日志, 有0个节点已经达成共识, 一共有3个节点
leader=0 refresh commit success, put logIndex=[60], rf.matchIndex=[60 60 60 54 54]
follower=1 refresh commit success, put logIndex=[60]
heart beat handle success, leader=0, me=1, term=38, myCommit=60, time=1705032552305
对于index=60日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=38, myCommit=60, time=1705032552455
对于index=60日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[60]
heart beat handle success, leader=0, me=2, term=38, myCommit=60, time=1705032552466
对于index=60日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=61
send cmd to 0, index=61
对于index=61日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=60
follower=2 receive log, firstTerm=38, firstIndex=61, lastTerm=38, lastIndex=61
heart beat handle success, leader=0, me=1, term=38, myCommit=60, time=1705032552561
对于index=61日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032552675
id=3 vote to itself, term=15, time=1705032552677
id=3 send to id=4
heart beat handle success, leader=0, me=2, term=38, myCommit=60, time=1705032552679
id=3 send to id=1
id=3 send to id=2
id=3 send to id=0
follower=1 will handle count=1, curIndex=60
follower=1 receive log, firstTerm=38, firstIndex=61, lastTerm=38, lastIndex=61
follower=2 refresh commit success, put logIndex=[61]
heart beat handle success, leader=0, me=2, term=38, myCommit=61, time=1705032552780
leader=0 refresh commit success, put logIndex=[61], rf.matchIndex=[61 61 61 54 54]
对于index=61日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[61]
heart beat handle success, leader=0, me=1, term=38, myCommit=61, time=1705032552938
heart beat handle success, leader=0, me=2, term=38, myCommit=61, time=1705032552938
对于index=61日志, 有2个节点已经达成共识, 一共有3个节点
对于index=61日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=62
send cmd to 0, index=62
对于index=62日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=61
follower=2 receive log, firstTerm=38, firstIndex=62, lastTerm=38, lastIndex=62
follower=1 will handle count=1, curIndex=61
follower=1 receive log, firstTerm=38, firstIndex=62, lastTerm=38, lastIndex=62
leader=0 refresh commit success, put logIndex=[62], rf.matchIndex=[62 62 62 54 54]
对于index=62日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[62]
heart beat handle success, leader=0, me=2, term=38, myCommit=62, time=1705032553188
对于index=62日志, 有2个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[62]
heart beat handle success, leader=0, me=1, term=38, myCommit=62, time=1705032553275
heart beat handle success, leader=0, me=2, term=38, myCommit=62, time=1705032553305
对于index=62日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=63
send cmd to 0, index=63
对于index=63日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=62
follower=2 receive log, firstTerm=38, firstIndex=63, lastTerm=38, lastIndex=63
心跳超时, id=3, time=1705032553458
id=3 vote to itself, term=16, time=1705032553458
id=3 send to id=4
follower=1 will handle count=1, curIndex=62
follower=1 receive log, firstTerm=38, firstIndex=63, lastTerm=38, lastIndex=63
id=3 send to id=1
id=3 send to id=2
对于index=63日志, 有0个节点已经达成共识, 一共有3个节点
id=3 send to id=0
leader=0 refresh commit success, put logIndex=[63], rf.matchIndex=[63 63 63 54 54]
follower=1 refresh commit success, put logIndex=[63]
heart beat handle success, leader=0, me=1, term=38, myCommit=63, time=1705032553577
对于index=63日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=38, myCommit=63, time=1705032553681
对于index=63日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=62, time=1705032553693
follower=2 refresh commit success, put logIndex=[63]
heart beat handle success, leader=0, me=2, term=38, myCommit=63, time=1705032553752
heart beat handle success, leader=0, me=1, term=38, myCommit=63, time=1705032553781
对于index=63日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=64
send cmd to 0, index=64
对于index=64日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=63
follower=2 receive log, firstTerm=38, firstIndex=64, lastTerm=38, lastIndex=64
follower=1 will handle count=1, curIndex=63
follower=1 receive log, firstTerm=38, firstIndex=64, lastTerm=38, lastIndex=64
leader=0 refresh commit success, put logIndex=[64], rf.matchIndex=[64 64 64 54 54]
对于index=64日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[64]
heart beat handle success, leader=0, me=1, term=38, myCommit=64, time=1705032554000
对于index=64日志, 有2个节点已经达成共识, 一共有3个节点
对于index=64日志, 有2个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032554165
id=3 vote to itself, term=17, time=1705032554165
id=3 send to id=4
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
follower=2 refresh commit success, put logIndex=[64]
heart beat handle success, leader=0, me=2, term=38, myCommit=64, time=1705032554216
heart beat handle success, leader=0, me=1, term=38, myCommit=64, time=1705032554217
heart beat handle success, leader=0, me=2, term=38, myCommit=64, time=1705032554270
对于index=64日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=65
send cmd to 0, index=65
对于index=65日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=38, myCommit=64, time=1705032554395
对于index=65日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=64
follower=2 receive log, firstTerm=38, firstIndex=65, lastTerm=38, lastIndex=65
follower=1 will handle count=1, curIndex=64
follower=1 receive log, firstTerm=38, firstIndex=65, lastTerm=38, lastIndex=65
对于index=65日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=65
follower=2 receive log, firstTerm=38, firstIndex=65, lastTerm=38, lastIndex=65
leader=0 refresh commit success, put logIndex=[65], rf.matchIndex=[65 65 65 54 54]
对于index=65日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[65]
heart beat handle success, leader=0, me=2, term=38, myCommit=65, time=1705032554779
对于index=65日志, 有2个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[65]
heart beat handle success, leader=0, me=1, term=38, myCommit=65, time=1705032554834
heart beat handle success, leader=0, me=1, term=38, myCommit=65, time=1705032554868
心跳超时, id=3, time=1705032554922
id=3 vote to itself, term=18, time=1705032554922
id=3 send to id=4
id=3 send to id=0
id=3 send to id=2
id=3 send to id=1
对于index=65日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=66
send cmd to 0, index=66
对于index=66日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=65
follower=2 receive log, firstTerm=38, firstIndex=66, lastTerm=38, lastIndex=66
对于index=66日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=65, time=1705032555049
follower=1 will handle count=1, curIndex=65
follower=1 receive log, firstTerm=38, firstIndex=66, lastTerm=38, lastIndex=66
对于index=66日志, 有0个节点已经达成共识, 一共有3个节点
leader=0 refresh commit success, put logIndex=[66], rf.matchIndex=[66 66 66 54 54]
follower=2 refresh commit success, put logIndex=[66]
heart beat handle success, leader=0, me=2, term=38, myCommit=66, time=1705032555164
follower=1 refresh commit success, put logIndex=[66]
heart beat handle success, leader=0, me=1, term=38, myCommit=66, time=1705032555241
heart beat handle success, leader=0, me=2, term=38, myCommit=66, time=1705032555269
对于index=66日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=66, time=1705032555400
heart beat handle success, leader=0, me=1, term=38, myCommit=66, time=1705032555400
对于index=66日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=67
send cmd to 0, index=67
对于index=67日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=66
follower=2 receive log, firstTerm=38, firstIndex=67, lastTerm=38, lastIndex=67
对于index=67日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=66
follower=1 receive log, firstTerm=38, firstIndex=67, lastTerm=38, lastIndex=67
对于index=67日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=66, time=1705032555684
leader=0 refresh commit success, put logIndex=[67], rf.matchIndex=[67 67 67 54 54]
follower=1 refresh commit success, put logIndex=[67]
heart beat handle success, leader=0, me=1, term=38, myCommit=67, time=1705032555704
心跳超时, id=3, time=1705032555719
id=3 vote to itself, term=19, time=1705032555722
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
对于index=67日志, 有2个节点已经达成共识, 一共有3个节点
id=3 send to id=4
对于index=67日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[67]
heart beat handle success, leader=0, me=2, term=38, myCommit=67, time=1705032555875
heart beat handle success, leader=0, me=1, term=38, myCommit=67, time=1705032555938
对于index=67日志, 有3个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=67, time=1705032556002
leader=0 receive one log, logIndex=68
send cmd to 0, index=68
对于index=68日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=67
follower=1 receive log, firstTerm=38, firstIndex=68, lastTerm=38, lastIndex=68
follower=2 will handle count=1, curIndex=67
follower=2 receive log, firstTerm=38, firstIndex=68, lastTerm=38, lastIndex=68
对于index=68日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=38, myCommit=67, time=1705032556145
leader=0 refresh commit success, put logIndex=[68], rf.matchIndex=[68 68 68 54 54]
对于index=68日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[68]
heart beat handle success, leader=0, me=2, term=38, myCommit=68, time=1705032556264
对于index=68日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=68, time=1705032556412
对于index=68日志, 有2个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[68]
heart beat handle success, leader=0, me=1, term=38, myCommit=68, time=1705032556435
heart beat handle success, leader=0, me=1, term=38, myCommit=68, time=1705032556468
heart beat handle success, leader=0, me=2, term=38, myCommit=68, time=1705032556512
对于index=68日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=69
send cmd to 0, index=69
对于index=69日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032556519
id=3 vote to itself, term=20, time=1705032556519
id=3 send to id=4
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
follower=1 will handle count=1, curIndex=68
follower=1 receive log, firstTerm=38, firstIndex=69, lastTerm=38, lastIndex=69
对于index=69日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=68
follower=2 receive log, firstTerm=38, firstIndex=69, lastTerm=38, lastIndex=69
heart beat handle success, leader=0, me=1, term=38, myCommit=68, time=1705032556675
对于index=69日志, 有1个节点已经达成共识, 一共有3个节点
leader=0 refresh commit success, put logIndex=[69], rf.matchIndex=[69 69 69 54 54]
follower=2 refresh commit success, put logIndex=[69]
heart beat handle success, leader=0, me=2, term=38, myCommit=69, time=1705032556740
follower=1 refresh commit success, put logIndex=[69]
heart beat handle success, leader=0, me=1, term=38, myCommit=69, time=1705032556804
对于index=69日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=70
send cmd to 0, index=70
对于index=70日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=69
follower=1 receive log, firstTerm=38, firstIndex=70, lastTerm=38, lastIndex=70
follower=2 will handle count=1, curIndex=69
follower=2 receive log, firstTerm=38, firstIndex=70, lastTerm=38, lastIndex=70
leader=0 refresh commit success, put logIndex=[70], rf.matchIndex=[70 70 70 54 54]
对于index=70日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[70]
heart beat handle success, leader=0, me=2, term=38, myCommit=70, time=1705032557032
follower=1 refresh commit success, put logIndex=[70]
heart beat handle success, leader=0, me=1, term=38, myCommit=70, time=1705032557046
对于index=70日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=71
send cmd to 0, index=71
对于index=71日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=70
follower=2 receive log, firstTerm=38, firstIndex=71, lastTerm=38, lastIndex=71
对于index=71日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=70
follower=1 receive log, firstTerm=38, firstIndex=71, lastTerm=38, lastIndex=71
心跳超时, id=3, time=1705032557262
id=3 vote to itself, term=21, time=1705032557262
id=3 send to id=4
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
对于index=71日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=70, time=1705032557274
follower=1 refresh commit success, put logIndex=[71]
heart beat handle success, leader=0, me=1, term=38, myCommit=71, time=1705032557369
对于index=71日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[71]
heart beat handle success, leader=0, me=2, term=38, myCommit=71, time=1705032557377
leader=0 refresh commit success, put logIndex=[71], rf.matchIndex=[71 71 71 54 54]
对于index=71日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=72
send cmd to 0, index=72
对于index=72日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=38, myCommit=71, time=1705032557501
follower=2 will handle count=1, curIndex=71
follower=2 receive log, firstTerm=38, firstIndex=72, lastTerm=38, lastIndex=72
对于index=72日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=71
follower=1 receive log, firstTerm=38, firstIndex=72, lastTerm=38, lastIndex=72
leader=0 refresh commit success, put logIndex=[72], rf.matchIndex=[72 72 72 54 54]
对于index=72日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[72]
heart beat handle success, leader=0, me=2, term=38, myCommit=72, time=1705032557690
follower=1 refresh commit success, put logIndex=[72]
heart beat handle success, leader=0, me=1, term=38, myCommit=72, time=1705032557777
对于index=72日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=72, time=1705032557793
对于index=72日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=73
send cmd to 0, index=73
对于index=73日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=72
follower=2 receive log, firstTerm=38, firstIndex=73, lastTerm=38, lastIndex=73
对于index=73日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=72, time=1705032558075
follower=1 will handle count=1, curIndex=72
follower=1 receive log, firstTerm=38, firstIndex=73, lastTerm=38, lastIndex=73
心跳超时, id=3, time=1705032558080
id=3 vote to itself, term=22, time=1705032558136
id=3 send to id=4
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
leader=0 refresh commit success, put logIndex=[73], rf.matchIndex=[73 73 73 54 54]
follower=2 refresh commit success, put logIndex=[73]
heart beat handle success, leader=0, me=2, term=38, myCommit=73, time=1705032558251
对于index=73日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[73]
heart beat handle success, leader=0, me=1, term=38, myCommit=73, time=1705032558309
heart beat handle success, leader=0, me=2, term=38, myCommit=73, time=1705032558352
对于index=73日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=74
send cmd to 0, index=74
对于index=74日志, 有0个节点已经达成共识, 一共有3个节点
对于index=74日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=73
follower=2 receive log, firstTerm=38, firstIndex=74, lastTerm=38, lastIndex=74
follower=1 will handle count=1, curIndex=73
follower=1 receive log, firstTerm=38, firstIndex=74, lastTerm=38, lastIndex=74
leader=0 refresh commit success, put logIndex=[74], rf.matchIndex=[74 74 74 54 54]
对于index=74日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[74]
heart beat handle success, leader=0, me=2, term=38, myCommit=74, time=1705032558626
对于index=74日志, 有2个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[74]
heart beat handle success, leader=0, me=1, term=38, myCommit=74, time=1705032558717
heart beat handle success, leader=0, me=2, term=38, myCommit=74, time=1705032558727
对于index=74日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=75
send cmd to 0, index=75
对于index=75日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=74
follower=1 receive log, firstTerm=38, firstIndex=75, lastTerm=38, lastIndex=75
心跳超时, id=3, time=1705032558814
id=3 vote to itself, term=23, time=1705032558814
id=3 send to id=4
id=3 send to id=0
对于index=75日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=74
follower=2 receive log, firstTerm=38, firstIndex=75, lastTerm=38, lastIndex=75
heart beat handle success, leader=0, me=1, term=38, myCommit=74, time=1705032558888
id=3 send to id=2
id=3 send to id=1
对于index=75日志, 有1个节点已经达成共识, 一共有3个节点
leader=0 refresh commit success, put logIndex=[75], rf.matchIndex=[75 75 75 54 54]
follower=1 refresh commit success, put logIndex=[75]
heart beat handle success, leader=0, me=1, term=38, myCommit=75, time=1705032559103
对于index=75日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[75]
heart beat handle success, leader=0, me=2, term=38, myCommit=75, time=1705032559181
对于index=75日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=76
send cmd to 0, index=76
对于index=76日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=75
follower=2 receive log, firstTerm=38, firstIndex=76, lastTerm=38, lastIndex=76
heart beat handle success, leader=0, me=1, term=38, myCommit=75, time=1705032559300
对于index=76日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=75, time=1705032559388
follower=1 will handle count=1, curIndex=75
follower=1 receive log, firstTerm=38, firstIndex=76, lastTerm=38, lastIndex=76
对于index=76日志, 有0个节点已经达成共识, 一共有3个节点
leader=0 refresh commit success, put logIndex=[76], rf.matchIndex=[76 76 76 54 54]
heart beat handle success, leader=0, me=2, term=38, myCommit=75, time=1705032559529
follower=1 refresh commit success, put logIndex=[76]
heart beat handle success, leader=0, me=1, term=38, myCommit=76, time=1705032559581
心跳超时, id=3, time=1705032559609
id=3 vote to itself, term=24, time=1705032559609
id=3 send to id=4
id=3 send to id=1
id=3 send to id=0
id=3 send to id=2
对于index=76日志, 有1个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=38, myCommit=76, time=1705032559720
follower=2 refresh commit success, put logIndex=[76]
heart beat handle success, leader=0, me=2, term=38, myCommit=76, time=1705032559723
对于index=76日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=77
send cmd to 0, index=77
对于index=77日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=76
follower=1 receive log, firstTerm=38, firstIndex=77, lastTerm=38, lastIndex=77
follower=2 will handle count=1, curIndex=76
follower=2 receive log, firstTerm=38, firstIndex=77, lastTerm=38, lastIndex=77
对于index=77日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=38, myCommit=76, time=1705032559924
leader=0 refresh commit success, put logIndex=[77], rf.matchIndex=[77 77 77 54 54]
对于index=77日志, 有1个节点已经达成共识, 一共有3个节点
对于index=77日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[77]
heart beat handle success, leader=0, me=2, term=38, myCommit=77, time=1705032560079
follower=1 refresh commit success, put logIndex=[77]
heart beat handle success, leader=0, me=1, term=38, myCommit=77, time=1705032560086
heart beat handle success, leader=0, me=2, term=38, myCommit=77, time=1705032560129
对于index=77日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=78
send cmd to 0, index=78
对于index=78日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=77
follower=1 receive log, firstTerm=38, firstIndex=78, lastTerm=38, lastIndex=78
对于index=78日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=38, myCommit=77, time=1705032560288
heart beat handle success, leader=0, me=1, term=38, myCommit=77, time=1705032560389
对于index=78日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=77
follower=2 receive log, firstTerm=38, firstIndex=78, lastTerm=38, lastIndex=78
leader=0 refresh commit success, put logIndex=[78], rf.matchIndex=[78 78 78 54 54]
心跳超时, id=3, time=1705032560461
id=3 vote to itself, term=25, time=1705032560461
id=3 send to id=4
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
对于index=78日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[78]
heart beat handle success, leader=0, me=2, term=38, myCommit=78, time=1705032560495
对于index=78日志, 有2个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[78]
heart beat handle success, leader=0, me=1, term=38, myCommit=78, time=1705032560595
heart beat handle success, leader=0, me=2, term=38, myCommit=78, time=1705032560597
heart beat handle success, leader=0, me=1, term=38, myCommit=78, time=1705032560671
对于index=78日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=79
send cmd to 0, index=79
对于index=79日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=78
follower=2 receive log, firstTerm=38, firstIndex=79, lastTerm=38, lastIndex=79
对于index=79日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=78
follower=1 receive log, firstTerm=38, firstIndex=79, lastTerm=38, lastIndex=79
leader=0 refresh commit success, put logIndex=[79], rf.matchIndex=[79 79 79 54 54]
follower=2 refresh commit success, put logIndex=[79]
heart beat handle success, leader=0, me=2, term=38, myCommit=79, time=1705032560871
对于index=79日志, 有2个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[79]
heart beat handle success, leader=0, me=1, term=38, myCommit=79, time=1705032560907
heart beat handle success, leader=0, me=1, term=38, myCommit=79, time=1705032561008
heart beat handle success, leader=0, me=2, term=38, myCommit=79, time=1705032561017
对于index=79日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=80
send cmd to 0, index=80
对于index=80日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=79
follower=2 receive log, firstTerm=38, firstIndex=80, lastTerm=38, lastIndex=80
对于index=80日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032561215
id=3 vote to itself, term=26, time=1705032561215
id=3 send to id=4
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
follower=1 will handle count=1, curIndex=79
follower=1 receive log, firstTerm=38, firstIndex=80, lastTerm=38, lastIndex=80
heart beat handle success, leader=0, me=2, term=38, myCommit=79, time=1705032561279
对于index=80日志, 有0个节点已经达成共识, 一共有3个节点
leader=0 refresh commit success, put logIndex=[80], rf.matchIndex=[80 80 80 54 54]
follower=1 refresh commit success, put logIndex=[80]
heart beat handle success, leader=0, me=1, term=38, myCommit=80, time=1705032561413
follower=2 refresh commit success, put logIndex=[80]
heart beat handle success, leader=0, me=2, term=38, myCommit=80, time=1705032561414
对于index=80日志, 有1个节点已经达成共识, 一共有3个节点
对于index=80日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=81
send cmd to 0, index=81
对于index=81日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=80
follower=1 receive log, firstTerm=38, firstIndex=81, lastTerm=38, lastIndex=81
follower=2 will handle count=1, curIndex=80
follower=2 receive log, firstTerm=38, firstIndex=81, lastTerm=38, lastIndex=81
leader=0 refresh commit success, put logIndex=[81], rf.matchIndex=[81 81 81 54 54]
对于index=81日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[81]
heart beat handle success, leader=0, me=2, term=38, myCommit=81, time=1705032561691
follower=1 refresh commit success, put logIndex=[81]
heart beat handle success, leader=0, me=1, term=38, myCommit=81, time=1705032561731
对于index=81日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=82
send cmd to 0, index=82
对于index=82日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=81
follower=2 receive log, firstTerm=38, firstIndex=82, lastTerm=38, lastIndex=82
对于index=82日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=81
follower=1 receive log, firstTerm=38, firstIndex=82, lastTerm=38, lastIndex=82
heart beat handle success, leader=0, me=2, term=38, myCommit=81, time=1705032561944
leader=0 refresh commit success, put logIndex=[82], rf.matchIndex=[82 82 82 54 54]
对于index=82日志, 有1个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032562027
id=3 vote to itself, term=27, time=1705032562027
id=3 send to id=4
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
follower=1 refresh commit success, put logIndex=[82]
heart beat handle success, leader=0, me=1, term=38, myCommit=82, time=1705032562028
follower=2 refresh commit success, put logIndex=[82]
heart beat handle success, leader=0, me=2, term=38, myCommit=82, time=1705032562049
对于index=82日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=83
send cmd to 0, index=83
对于index=83日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=82
follower=1 receive log, firstTerm=38, firstIndex=83, lastTerm=38, lastIndex=83
对于index=83日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=38, myCommit=82, time=1705032562266
follower=2 will handle count=1, curIndex=82
follower=2 receive log, firstTerm=38, firstIndex=83, lastTerm=38, lastIndex=83
对于index=83日志, 有0个节点已经达成共识, 一共有3个节点
对于index=83日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=38, myCommit=82, time=1705032562404
follower=2 will handle count=1, curIndex=83
follower=2 receive log, firstTerm=38, firstIndex=83, lastTerm=38, lastIndex=83
leader=0 refresh commit success, put logIndex=[83], rf.matchIndex=[83 83 83 54 54]
对于index=83日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[83]
heart beat handle success, leader=0, me=1, term=38, myCommit=83, time=1705032562530
对于index=83日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[83]
heart beat handle success, leader=0, me=2, term=38, myCommit=83, time=1705032562671
heart beat handle success, leader=0, me=1, term=38, myCommit=83, time=1705032562676
对于index=83日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=84
send cmd to 0, index=84
对于index=84日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=83
follower=2 receive log, firstTerm=38, firstIndex=84, lastTerm=38, lastIndex=84
对于index=84日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=83
follower=1 receive log, firstTerm=38, firstIndex=84, lastTerm=38, lastIndex=84
对于index=84日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032562877
id=3 vote to itself, term=28, time=1705032562902
id=3 send to id=4
id=3 send to id=2
id=3 send to id=0
id=3 send to id=1
heart beat handle success, leader=0, me=2, term=38, myCommit=83, time=1705032562938
follower=1 will handle count=1, curIndex=84
follower=1 receive log, firstTerm=38, firstIndex=84, lastTerm=38, lastIndex=84
对于index=84日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=83, time=1705032563039
leader=0 refresh commit success, put logIndex=[84], rf.matchIndex=[84 84 84 54 54]
对于index=84日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[84]
heart beat handle success, leader=0, me=2, term=38, myCommit=84, time=1705032563143
follower=1 refresh commit success, put logIndex=[84]
heart beat handle success, leader=0, me=1, term=38, myCommit=84, time=1705032563213
对于index=84日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=85
send cmd to 0, index=85
对于index=85日志, 有0个节点已经达成共识, 一共有3个节点
对于index=85日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=84
follower=1 receive log, firstTerm=38, firstIndex=85, lastTerm=38, lastIndex=85
follower=2 will handle count=1, curIndex=84
follower=2 receive log, firstTerm=38, firstIndex=85, lastTerm=38, lastIndex=85
follower=2 will handle count=1, curIndex=85
follower=2 receive log, firstTerm=38, firstIndex=85, lastTerm=38, lastIndex=85
对于index=85日志, 有0个节点已经达成共识, 一共有3个节点
leader=0 refresh commit success, put logIndex=[85], rf.matchIndex=[85 85 85 54 54]
follower=1 refresh commit success, put logIndex=[85]
heart beat handle success, leader=0, me=1, term=38, myCommit=85, time=1705032563493
对于index=85日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[85]
heart beat handle success, leader=0, me=2, term=38, myCommit=85, time=1705032563532
心跳超时, id=3, time=1705032563557
id=3 vote to itself, term=29, time=1705032563557
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
id=3 send to id=4
对于index=85日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=86
send cmd to 0, index=86
对于index=86日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=85
follower=2 receive log, firstTerm=38, firstIndex=86, lastTerm=38, lastIndex=86
对于index=86日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=85, time=1705032563734
follower=1 will handle count=1, curIndex=85
follower=1 receive log, firstTerm=38, firstIndex=86, lastTerm=38, lastIndex=86
heart beat handle success, leader=0, me=1, term=38, myCommit=85, time=1705032563841
leader=0 refresh commit success, put logIndex=[86], rf.matchIndex=[86 86 86 54 54]
对于index=86日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=85, time=1705032563866
follower=1's logs are diff from leader, need to sync
follower=1 will handle count=1, curIndex=85
follower=1 refresh commit success, put logIndex=[86]
follower=1 receive log, firstTerm=38, firstIndex=86, lastTerm=38, lastIndex=86
对于index=86日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[86]
heart beat handle success, leader=0, me=2, term=38, myCommit=86, time=1705032564012
heart beat handle success, leader=0, me=1, term=38, myCommit=86, time=1705032564052
对于index=86日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=87
send cmd to 0, index=87
对于index=87日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=86
follower=2 receive log, firstTerm=38, firstIndex=87, lastTerm=38, lastIndex=87
follower=1 will handle count=1, curIndex=86
follower=1 receive log, firstTerm=38, firstIndex=87, lastTerm=38, lastIndex=87
leader=0 refresh commit success, put logIndex=[87], rf.matchIndex=[87 87 87 54 54]
对于index=87日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[87]
heart beat handle success, leader=0, me=2, term=38, myCommit=87, time=1705032564251
follower=1 refresh commit success, put logIndex=[87]
heart beat handle success, leader=0, me=1, term=38, myCommit=87, time=1705032564254
对于index=87日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=88
send cmd to 0, index=88
对于index=88日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=87
follower=1 receive log, firstTerm=38, firstIndex=88, lastTerm=38, lastIndex=88
对于index=88日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032564360
id=3 vote to itself, term=30, time=1705032564435
id=3 send to id=4
follower=2 will handle count=1, curIndex=87
follower=2 receive log, firstTerm=38, firstIndex=88, lastTerm=38, lastIndex=88
id=3 send to id=0
id=3 send to id=1
对于index=88日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=88
follower=2 receive log, firstTerm=38, firstIndex=88, lastTerm=38, lastIndex=88
heart beat handle success, leader=0, me=1, term=38, myCommit=87, time=1705032564534
leader=0 refresh commit success, put logIndex=[88], rf.matchIndex=[88 88 88 54 54]
对于index=88日志, 有1个节点已经达成共识, 一共有3个节点
对于index=88日志, 有1个节点已经达成共识, 一共有3个节点
id=3 send to id=2
follower=1 refresh commit success, put logIndex=[88]
heart beat handle success, leader=0, me=1, term=38, myCommit=88, time=1705032564747
follower=2 refresh commit success, put logIndex=[88]
heart beat handle success, leader=0, me=2, term=38, myCommit=88, time=1705032564747
heart beat handle success, leader=0, me=2, term=38, myCommit=88, time=1705032564817
heart beat handle success, leader=0, me=1, term=38, myCommit=88, time=1705032564819
对于index=88日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=89
send cmd to 0, index=89
对于index=89日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=88
follower=2 receive log, firstTerm=38, firstIndex=89, lastTerm=38, lastIndex=89
对于index=89日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=88, time=1705032565020
follower=1 will handle count=1, curIndex=88
follower=1 receive log, firstTerm=38, firstIndex=89, lastTerm=38, lastIndex=89
对于index=89日志, 有0个节点已经达成共识, 一共有3个节点
leader=0 refresh commit success, put logIndex=[89], rf.matchIndex=[89 89 89 54 54]
follower=1 refresh commit success, put logIndex=[89]
heart beat handle success, leader=0, me=1, term=38, myCommit=89, time=1705032565145
follower=2 refresh commit success, put logIndex=[89]
heart beat handle success, leader=0, me=2, term=38, myCommit=89, time=1705032565156
对于index=89日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=90
send cmd to 0, index=90
对于index=90日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032565242
id=3 vote to itself, term=31, time=1705032565242
id=3 send to id=4
id=3 send to id=0
对于index=90日志, 有0个节点已经达成共识, 一共有3个节点
id=3 send to id=1
id=3 send to id=2
follower=1 will handle count=1, curIndex=89
follower=1 receive log, firstTerm=38, firstIndex=90, lastTerm=38, lastIndex=90
follower=2 will handle count=1, curIndex=89
follower=2 receive log, firstTerm=38, firstIndex=90, lastTerm=38, lastIndex=90
对于index=90日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=90
follower=2 receive log, firstTerm=38, firstIndex=90, lastTerm=38, lastIndex=90
对于index=90日志, 有0个节点已经达成共识, 一共有3个节点
leader=0 refresh commit success, put logIndex=[90], rf.matchIndex=[90 90 90 54 54]
heart beat handle success, leader=0, me=1, term=38, myCommit=89, time=1705032565488
follower=2 refresh commit success, put logIndex=[90]
heart beat handle success, leader=0, me=2, term=38, myCommit=90, time=1705032565541
对于index=90日志, 有2个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[90]
heart beat handle success, leader=0, me=1, term=38, myCommit=90, time=1705032565601
heart beat handle success, leader=0, me=2, term=38, myCommit=90, time=1705032565645
对于index=90日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=91
send cmd to 0, index=91
对于index=91日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=90
follower=1 receive log, firstTerm=38, firstIndex=91, lastTerm=38, lastIndex=91
follower=2 will handle count=1, curIndex=90
follower=2 receive log, firstTerm=38, firstIndex=91, lastTerm=38, lastIndex=91
leader=0 refresh commit success, put logIndex=[91], rf.matchIndex=[91 91 91 54 54]
对于index=91日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[91]
heart beat handle success, leader=0, me=1, term=38, myCommit=91, time=1705032565809
对于index=91日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[91]
heart beat handle success, leader=0, me=2, term=38, myCommit=91, time=1705032565974
heart beat handle success, leader=0, me=1, term=38, myCommit=91, time=1705032565998
对于index=91日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=92
send cmd to 0, index=92
对于index=92日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032566018
id=3 vote to itself, term=32, time=1705032566018
id=3 send to id=1
id=3 send to id=2
id=3 send to id=4
follower=2 will handle count=1, curIndex=91
follower=2 receive log, firstTerm=38, firstIndex=92, lastTerm=38, lastIndex=92
follower=1 will handle count=1, curIndex=91
follower=1 receive log, firstTerm=38, firstIndex=92, lastTerm=38, lastIndex=92
id=3 send to id=0
对于index=92日志, 有0个节点已经达成共识, 一共有3个节点
leader=0 refresh commit success, put logIndex=[92], rf.matchIndex=[92 92 92 54 54]
follower=2 refresh commit success, put logIndex=[92]
heart beat handle success, leader=0, me=2, term=38, myCommit=92, time=1705032566247
对于index=92日志, 有2个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[92]
heart beat handle success, leader=0, me=1, term=38, myCommit=92, time=1705032566310
heart beat handle success, leader=0, me=2, term=38, myCommit=92, time=1705032566351
heart beat handle success, leader=0, me=1, term=38, myCommit=92, time=1705032566412
heart beat handle success, leader=0, me=2, term=38, myCommit=92, time=1705032566452
对于index=92日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=93
send cmd to 0, index=93
对于index=93日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=92
follower=1 receive log, firstTerm=38, firstIndex=93, lastTerm=38, lastIndex=93
follower=2 will handle count=1, curIndex=92
follower=2 receive log, firstTerm=38, firstIndex=93, lastTerm=38, lastIndex=93
对于index=93日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032566751
id=3 vote to itself, term=33, time=1705032566751
id=3 send to id=4
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
follower=1 will handle count=1, curIndex=93
follower=1 receive log, firstTerm=38, firstIndex=93, lastTerm=38, lastIndex=93
对于index=93日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=92, time=1705032566838
heart beat handle success, leader=0, me=2, term=38, myCommit=92, time=1705032566940
follower=1 will handle count=1, curIndex=93
follower=1 receive log, firstTerm=38, firstIndex=93, lastTerm=38, lastIndex=93
对于index=93日志, 有0个节点已经达成共识, 一共有3个节点
对于index=93日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=92, time=1705032567077
follower=1 will handle count=1, curIndex=93
follower=1 receive log, firstTerm=38, firstIndex=93, lastTerm=38, lastIndex=93
leader=0 refresh commit success, put logIndex=[93], rf.matchIndex=[93 93 93 54 54]
对于index=93日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[93]
heart beat handle success, leader=0, me=2, term=38, myCommit=93, time=1705032567234
对于index=93日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=93, time=1705032567337
follower=1 refresh commit success, put logIndex=[93]
heart beat handle success, leader=0, me=1, term=38, myCommit=93, time=1705032567360
对于index=93日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=94
send cmd to 0, index=94
对于index=94日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=38, myCommit=93, time=1705032567416
follower=2 will handle count=1, curIndex=93
follower=2 receive log, firstTerm=38, firstIndex=94, lastTerm=38, lastIndex=94
对于index=94日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=93
follower=1 receive log, firstTerm=38, firstIndex=94, lastTerm=38, lastIndex=94
heart beat handle success, leader=0, me=2, term=38, myCommit=93, time=1705032567541
心跳超时, id=3, time=1705032567537
id=3 vote to itself, term=34, time=1705032567545
id=3 send to id=4
id=3 send to id=1
id=3 send to id=2
id=3 send to id=0
对于index=94日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=93, time=1705032567643
leader=0 refresh commit success, put logIndex=[94], rf.matchIndex=[94 94 94 54 54]
follower=1 refresh commit success, put logIndex=[94]
heart beat handle success, leader=0, me=1, term=38, myCommit=94, time=1705032567670
对于index=94日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[94]
heart beat handle success, leader=0, me=2, term=38, myCommit=94, time=1705032567745
heart beat handle success, leader=0, me=1, term=38, myCommit=94, time=1705032567771
对于index=94日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=95
send cmd to 0, index=95
对于index=95日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=94
follower=2 receive log, firstTerm=38, firstIndex=95, lastTerm=38, lastIndex=95
heart beat handle success, leader=0, me=2, term=38, myCommit=94, time=1705032567948
对于index=95日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=94
follower=1 receive log, firstTerm=38, firstIndex=95, lastTerm=38, lastIndex=95
follower=1 will handle count=1, curIndex=95
follower=1 receive log, firstTerm=38, firstIndex=95, lastTerm=38, lastIndex=95
对于index=95日志, 有0个节点已经达成共识, 一共有3个节点
leader=0 refresh commit success, put logIndex=[95], rf.matchIndex=[95 95 95 54 54]
heart beat handle success, leader=0, me=2, term=38, myCommit=94, time=1705032568143
对于index=95日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[95]
heart beat handle success, leader=0, me=2, term=38, myCommit=95, time=1705032568232
follower=1 refresh commit success, put logIndex=[95]
heart beat handle success, leader=0, me=1, term=38, myCommit=95, time=1705032568287
对于index=95日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=96
send cmd to 0, index=96
对于index=96日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032568308
id=3 vote to itself, term=35, time=1705032568309
id=3 send to id=0
id=3 send to id=4
id=3 send to id=1
id=3 send to id=2
follower=2 will handle count=1, curIndex=95
follower=2 receive log, firstTerm=38, firstIndex=96, lastTerm=38, lastIndex=96
follower=1 will handle count=1, curIndex=95
follower=1 receive log, firstTerm=38, firstIndex=96, lastTerm=38, lastIndex=96
leader=0 refresh commit success, put logIndex=[96], rf.matchIndex=[96 96 96 54 54]
对于index=96日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[96]
heart beat handle success, leader=0, me=2, term=38, myCommit=96, time=1705032568487
对于index=96日志, 有2个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[96]
heart beat handle success, leader=0, me=1, term=38, myCommit=96, time=1705032568510
对于index=96日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=97
send cmd to 0, index=97
对于index=97日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=96, time=1705032568627
follower=1 will handle count=1, curIndex=96
follower=1 receive log, firstTerm=38, firstIndex=97, lastTerm=38, lastIndex=97
对于index=97日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=96
follower=2 receive log, firstTerm=38, firstIndex=97, lastTerm=38, lastIndex=97
heart beat handle success, leader=0, me=1, term=38, myCommit=96, time=1705032568809
对于index=97日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=38, myCommit=96, time=1705032568911
heart beat handle success, leader=0, me=2, term=38, myCommit=96, time=1705032568911
leader=0 refresh commit success, put logIndex=[97], rf.matchIndex=[97 97 97 54 54]
对于index=97日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[97]
heart beat handle success, leader=0, me=1, term=38, myCommit=97, time=1705032569013
对于index=97日志, 有2个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032569063
id=3 vote to itself, term=36, time=1705032569097
id=3 send to id=4
follower=2 refresh commit success, put logIndex=[97]
heart beat handle success, leader=0, me=2, term=38, myCommit=97, time=1705032569098
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
heart beat handle success, leader=0, me=1, term=38, myCommit=97, time=1705032569113
对于index=97日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=98
send cmd to 0, index=98
对于index=98日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=97
follower=2 receive log, firstTerm=38, firstIndex=98, lastTerm=38, lastIndex=98
follower=1 will handle count=1, curIndex=97
follower=1 receive log, firstTerm=38, firstIndex=98, lastTerm=38, lastIndex=98
对于index=98日志, 有0个节点已经达成共识, 一共有3个节点
leader=0 refresh commit success, put logIndex=[98], rf.matchIndex=[98 98 98 54 54]
follower=1 refresh commit success, put logIndex=[98]
heart beat handle success, leader=0, me=1, term=38, myCommit=98, time=1705032569359
heart beat handle success, leader=0, me=2, term=38, myCommit=97, time=1705032569370
对于index=98日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=38, myCommit=98, time=1705032569504
follower=2 refresh commit success, put logIndex=[98]
heart beat handle success, leader=0, me=2, term=38, myCommit=98, time=1705032569567
对于index=98日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=99
send cmd to 0, index=99
对于index=99日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=98
follower=2 receive log, firstTerm=38, firstIndex=99, lastTerm=38, lastIndex=99
heart beat handle success, leader=0, me=1, term=38, myCommit=98, time=1705032569713
follower=1 will handle count=1, curIndex=98
follower=1 receive log, firstTerm=38, firstIndex=99, lastTerm=38, lastIndex=99
对于index=99日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=3, time=1705032569844
id=3 vote to itself, term=37, time=1705032569844
id=3 send to id=4
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
leader=0 refresh commit success, put logIndex=[99], rf.matchIndex=[99 99 99 54 54]
follower=1 refresh commit success, put logIndex=[99]
heart beat handle success, leader=0, me=1, term=38, myCommit=99, time=1705032569890
对于index=99日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=98, time=1705032569919
follower=2 refresh commit success, put logIndex=[99]
heart beat handle success, leader=0, me=2, term=38, myCommit=99, time=1705032569990
对于index=99日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=100
send cmd to 0, index=100
对于index=100日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=99
follower=2 receive log, firstTerm=38, firstIndex=100, lastTerm=38, lastIndex=100
对于index=100日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=99, time=1705032570208
follower=1 will handle count=1, curIndex=99
follower=1 receive log, firstTerm=38, firstIndex=100, lastTerm=38, lastIndex=100
leader=0 refresh commit success, put logIndex=[100], rf.matchIndex=[100 100 100 54 54]
对于index=100日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[100]
heart beat handle success, leader=0, me=2, term=38, myCommit=100, time=1705032570308
follower=1 refresh commit success, put logIndex=[100]
heart beat handle success, leader=0, me=1, term=38, myCommit=100, time=1705032570308
对于index=100日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=101
send cmd to 0, index=101
对于index=101日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=100
follower=1 receive log, firstTerm=38, firstIndex=101, lastTerm=38, lastIndex=101
follower=2 will handle count=1, curIndex=100
follower=2 receive log, firstTerm=38, firstIndex=101, lastTerm=38, lastIndex=101
对于index=101日志, 有0个节点已经达成共识, 一共有3个节点
leader=0 refresh commit success, put logIndex=[101], rf.matchIndex=[101 101 101 54 54]
对于index=101日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[101]
heart beat handle success, leader=0, me=1, term=38, myCommit=101, time=1705032570657
heart beat handle success, leader=0, me=2, term=38, myCommit=100, time=1705032570660
对于index=101日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=38, myCommit=101, time=1705032570818
心跳超时, id=3, time=1705032570682
id=3 vote to itself, term=38, time=1705032570818
id=3 send to id=4
id=3 send to id=0
id=3 send to id=1
id=3 send to id=2
follower=2 refresh commit success, put logIndex=[101]
heart beat handle success, leader=0, me=2, term=38, myCommit=101, time=1705032570887
对于index=101日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=102
send cmd to 0, index=102
对于index=102日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=101
follower=1 receive log, firstTerm=38, firstIndex=102, lastTerm=38, lastIndex=102
follower=2 will handle count=1, curIndex=101
follower=2 receive log, firstTerm=38, firstIndex=102, lastTerm=38, lastIndex=102
heart beat handle success, leader=0, me=1, term=38, myCommit=101, time=1705032571072
对于index=102日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=102
follower=2 receive log, firstTerm=38, firstIndex=102, lastTerm=38, lastIndex=102
leader=0 refresh commit success, put logIndex=[102], rf.matchIndex=[102 102 102 54 54]
follower=1 refresh commit success, put logIndex=[102]
heart beat handle success, leader=0, me=1, term=38, myCommit=102, time=1705032571177
对于index=102日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[102]
heart beat handle success, leader=0, me=2, term=38, myCommit=102, time=1705032571285
heart beat handle success, leader=0, me=1, term=38, myCommit=102, time=1705032571348
heart beat handle success, leader=0, me=2, term=38, myCommit=102, time=1705032571432
对于index=102日志, 有3个节点已经达成共识, 一共有3个节点
connect(0)
connect(1)
connect(2)
connect(3)
connect(4)
leader=4 receive one log, logIndex=102
send cmd to 4, index=102
对于index=102日志, 有3个节点已经达成共识, 一共有5个节点
id=4 change to follower from leader
server=0, currentTerm=38 >= args.Term=28, reject to vote to server=3
heart beat handle success, leader=0, me=1, term=38, myCommit=102, time=1705032571450
server=4 currentTerm=24 > args.Term=24, vote reject
follower=3 will handle count=48, curIndex=101
follower=3 will handle count=49, curIndex=101
follower=3 will handle count=50, curIndex=101
对于index=102日志, 有3个节点已经达成共识, 一共有5个节点
server=0, currentTerm=38 >= args.Term=8, reject to vote to server=3
server=0, currentTerm=38 >= args.Term=17, reject to vote to server=3
follower=3 will handle count=51, curIndex=101
server=2, currentTerm=38 >= args.Term=24, reject to vote to server=3
follower=4 will handle count=48, curIndex=102
follower=3 refresh commit success, put logIndex=[52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102]
follower=3 receive log, firstTerm=36, firstIndex=52, lastTerm=38, lastIndex=102
heart beat handle success, leader=0, me=2, term=38, myCommit=102, time=1705032571641
server=2, currentTerm=38 >= args.Term=21, reject to vote to server=3
heart beat handle success, leader=0, me=1, term=38, myCommit=102, time=1705032571642
server=3, currentTerm=38 >= args.Term=5, reject to vote to server=1
server=0, currentTerm=38 >= args.Term=27, reject to vote to server=3
server=3, currentTerm=38 >= args.Term=14, reject to vote to server=1
follower=3 will handle count=51, curIndex=102
follower=3 receive log, firstTerm=36, firstIndex=52, lastTerm=38, lastIndex=102
server=2, currentTerm=38 >= args.Term=9, reject to vote to server=3
follower=4 will handle count=49, curIndex=102
对于index=102日志, 有4个节点已经达成共识, 一共有5个节点
server=3, currentTerm=38 >= args.Term=6, reject to vote to server=1
server=4, currentTerm=38 >= args.Term=2, reject to vote to server=1
server=0, currentTerm=38 >= args.Term=12, reject to vote to server=3
follower=4 will handle count=50, curIndex=102
heart beat handle success, leader=0, me=2, term=38, myCommit=102, time=1705032571742
server=1, currentTerm=38 >= args.Term=10, reject to vote to server=3
server=4, currentTerm=38 >= args.Term=30, reject to vote to server=1
server=1, currentTerm=38 >= args.Term=6, reject to vote to server=3
server=1, currentTerm=38 >= args.Term=29, reject to vote to server=3
server=4, currentTerm=38 >= args.Term=37, reject to vote to server=2
heart beat handle success, leader=0, me=3, term=38, myCommit=102, time=1705032571801
对于index=102日志, 有4个节点已经达成共识, 一共有5个节点
server=2, currentTerm=38 >= args.Term=12, reject to vote to server=3
heart beat handle success, leader=0, me=2, term=38, myCommit=102, time=1705032571846
server=0, currentTerm=38 >= args.Term=21, reject to vote to server=3
heart beat handle success, leader=0, me=1, term=38, myCommit=102, time=1705032571863
server=2, currentTerm=38 >= args.Term=37, reject to vote to server=3
server=0, currentTerm=38 >= args.Term=5, reject to vote to server=3
server=4, currentTerm=38 >= args.Term=10, reject to vote to server=1
server=3, currentTerm=38 >= args.Term=27, reject to vote to server=1
server=4, currentTerm=38 >= args.Term=5, reject to vote to server=1
对于index=102日志, 有4个节点已经达成共识, 一共有5个节点
server=2, currentTerm=38 >= args.Term=35, reject to vote to server=3
server=4, currentTerm=38 >= args.Term=25, reject to vote to server=1
heart beat handle success, leader=0, me=2, term=38, myCommit=102, time=1705032571949
follower=4 will handle count=50, curIndex=102
heart beat handle success, leader=0, me=3, term=38, myCommit=102, time=1705032571960
对于index=102日志, 有4个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=0, me=2, term=38, myCommit=102, time=1705032572051
server=1, currentTerm=38 >= args.Term=31, reject to vote to server=3
server=2, currentTerm=38 >= args.Term=13, reject to vote to server=3
follower=4 will handle count=51, curIndex=102
follower=4 refresh commit success, put logIndex=[52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102]
follower=4 receive log, firstTerm=36, firstIndex=52, lastTerm=38, lastIndex=102
server=0, currentTerm=38 >= args.Term=19, reject to vote to server=3
server=2, currentTerm=38 >= args.Term=28, reject to vote to server=3
heart beat handle success, leader=0, me=3, term=38, myCommit=102, time=1705032572065
server=1, currentTerm=38 >= args.Term=9, reject to vote to server=3
server=4, currentTerm=38 >= args.Term=27, reject to vote to server=1
server=3, currentTerm=38 >= args.Term=26, reject to vote to server=1
server=1, currentTerm=38 >= args.Term=15, reject to vote to server=3
heart beat handle success, leader=0, me=1, term=38, myCommit=102, time=1705032572096
对于index=102日志, 有5个节点已经达成共识, 一共有5个节点
server=4, currentTerm=38 >= args.Term=10, reject to vote to server=3
server=0, currentTerm=38 >= args.Term=22, reject to vote to server=3
server=2, currentTerm=38 >= args.Term=18, reject to vote to server=3
heart beat handle success, leader=0, me=1, term=38, myCommit=102, time=1705032572137
server=2, currentTerm=38 >= args.Term=17, reject to vote to server=3
server=0, currentTerm=38 >= args.Term=10, reject to vote to server=3
heart beat handle success, leader=0, me=4, term=38, myCommit=102, time=1705032572154
server=4, currentTerm=38 >= args.Term=29, reject to vote to server=1
heart beat handle success, leader=0, me=3, term=38, myCommit=102, time=1705032572210
server=4, currentTerm=38 >= args.Term=15, reject to vote to server=3
heart beat handle success, leader=0, me=2, term=38, myCommit=102, time=1705032572237
heart beat handle success, leader=0, me=1, term=38, myCommit=102, time=1705032572238
server=1, currentTerm=38 >= args.Term=2, reject to vote to server=3
server=0, currentTerm=38 >= args.Term=33, reject to vote to server=3
对于index=102日志, 有5个节点已经达成共识, 一共有5个节点
server=3, currentTerm=38 >= args.Term=20, reject to vote to server=1
server=4, currentTerm=38 >= args.Term=11, reject to vote to server=1
heart beat handle success, leader=0, me=4, term=38, myCommit=102, time=1705032572276
server=2, currentTerm=38 >= args.Term=23, reject to vote to server=3
server=3, currentTerm=38 >= args.Term=22, reject to vote to server=1
server=4, currentTerm=38 >= args.Term=7, reject to vote to server=1
server=4, currentTerm=38 >= args.Term=32, reject to vote to server=3
heart beat handle success, leader=0, me=2, term=38, myCommit=102, time=1705032572376
heart beat handle success, leader=0, me=4, term=38, myCommit=102, time=1705032572385
server=3, currentTerm=38 >= args.Term=35, reject to vote to server=0
id=0 change to follower from leader
server=4, currentTerm=38 >= args.Term=4, reject to vote to server=3
heart beat handle success, leader=0, me=1, term=38, myCommit=102, time=1705032572419
server=4, currentTerm=38 >= args.Term=20, reject to vote to server=1
server=4, currentTerm=38 >= args.Term=32, reject to vote to server=1
对于index=102日志, 有5个节点已经达成共识, 一共有5个节点
server=2, currentTerm=38 >= args.Term=29, reject to vote to server=3
server=3, currentTerm=38 >= args.Term=16, reject to vote to server=1
server=4 currentTerm=38 > args.Term=38, vote reject
server=3, currentTerm=38 >= args.Term=37, reject to vote to server=2
server=4, currentTerm=38 >= args.Term=17, reject to vote to server=3
server=0, currentTerm=38 >= args.Term=25, reject to vote to server=3
对于index=102日志, 有5个节点已经达成共识, 一共有5个节点
server=4, currentTerm=38 >= args.Term=17, reject to vote to server=1
server=3, currentTerm=38 >= args.Term=12, reject to vote to server=1
server=2, currentTerm=38 >= args.Term=25, reject to vote to server=3
server=4, currentTerm=38 >= args.Term=13, reject to vote to server=1
server=0, currentTerm=38 >= args.Term=30, reject to vote to server=3
server=4, currentTerm=38 >= args.Term=14, reject to vote to server=3
server=0, currentTerm=38 >= args.Term=18, reject to vote to server=3
对于index=102日志, 有5个节点已经达成共识, 一共有5个节点
server=1, currentTerm=38 >= args.Term=7, reject to vote to server=3
server=1, currentTerm=38 >= args.Term=30, reject to vote to server=3
server=3, currentTerm=38 >= args.Term=2, reject to vote to server=1
server=0, currentTerm=38 >= args.Term=24, reject to vote to server=3
server=0, currentTerm=38 >= args.Term=20, reject to vote to server=3
server=4, currentTerm=38 >= args.Term=25, reject to vote to server=3
server=4, currentTerm=38 >= args.Term=8, reject to vote to server=1
对于index=102日志, 有5个节点已经达成共识, 一共有5个节点
server=1, currentTerm=38 >= args.Term=28, reject to vote to server=3
server=2, currentTerm=38 >= args.Term=19, reject to vote to server=3
server=1, currentTerm=38 >= args.Term=27, reject to vote to server=3
server=4, currentTerm=38 >= args.Term=27, reject to vote to server=3
server=4, currentTerm=38 >= args.Term=34, reject to vote to server=3
server=3, currentTerm=38 >= args.Term=23, reject to vote to server=2
server=2, currentTerm=38 >= args.Term=4, reject to vote to server=3
对于index=102日志, 有5个节点已经达成共识, 一共有5个节点
心跳超时, id=0, time=1705032572932
id=0 vote to itself, term=39, time=1705032572932
id=0 send to id=4
id=0 send to id=1
id=0 send to id=3
server=1, currentTerm=38 >= args.Term=4, reject to vote to server=3
心跳超时, id=4, time=1705032572972
id=4 vote to itself, term=39, time=1705032572972
id=4 send to id=3
id=4 send to id=1
id=4 send to id=0
id=4 send to id=2
id=0 send to id=2
id=4 become leader, lastLogIdx=102, leaderCommit=102
server=4, currentTerm=39 >= args.Term=16, reject to vote to server=1
heart beat handle success, leader=4, me=1, term=39, myCommit=102, time=1705032572981
heart beat handle success, leader=4, me=2, term=39, myCommit=102, time=1705032572981
server=4, currentTerm=39 >= args.Term=6, reject to vote to server=1
id=4 change to follower from leader
id=0 become leader, lastLogIdx=102, leaderCommit=102
id=0 change to follower from leader
server=0, currentTerm=39 >= args.Term=26, reject to vote to server=3
server=0, currentTerm=39 >= args.Term=35, reject to vote to server=3
heart beat handle success, leader=4, me=0, term=39, myCommit=102, time=1705032572987
对于index=102日志, 有5个节点已经达成共识, 一共有5个节点
server=4, currentTerm=39 >= args.Term=15, reject to vote to server=1
server=2, currentTerm=39 >= args.Term=20, reject to vote to server=3
server=4, currentTerm=39 >= args.Term=36, reject to vote to server=3
server=0, currentTerm=39 >= args.Term=36, reject to vote to server=3
server=4, currentTerm=39 >= args.Term=21, reject to vote to server=3
server=1, currentTerm=39 >= args.Term=19, reject to vote to server=3
server=2, currentTerm=39 >= args.Term=33, reject to vote to server=3
对于index=102日志, 有5个节点已经达成共识, 一共有5个节点
server=4, currentTerm=39 >= args.Term=26, reject to vote to server=1
heart beat handle success, leader=4, me=3, term=39, myCommit=102, time=1705032573160
server=4, currentTerm=39 >= args.Term=22, reject to vote to server=1
对于index=102日志, 有5个节点已经达成共识, 一共有5个节点
server=3, currentTerm=39 >= args.Term=7, reject to vote to server=1
server=2, currentTerm=39 >= args.Term=15, reject to vote to server=3
对于index=102日志, 有5个节点已经达成共识, 一共有5个节点
server=4, currentTerm=39 >= args.Term=23, reject to vote to server=1
server=4, currentTerm=39 >= args.Term=23, reject to vote to server=3
server=0, currentTerm=39 >= args.Term=38, reject to vote to server=3
server=4, currentTerm=39 >= args.Term=33, reject to vote to server=3
对于index=102日志, 有5个节点已经达成共识, 一共有5个节点
server=2, currentTerm=39 >= args.Term=38, reject to vote to server=3
心跳超时, id=2, time=1705032573497
id=2 vote to itself, term=40, time=1705032573497
id=2 send to id=4
id=2 send to id=0
id=2 send to id=1
id=2 send to id=3
id=2 become leader, lastLogIdx=102, leaderCommit=102
heart beat handle success, leader=2, me=4, term=40, myCommit=102, time=1705032573501
heart beat handle success, leader=2, me=1, term=40, myCommit=102, time=1705032573501
server=0, currentTerm=40 >= args.Term=14, reject to vote to server=3
server=1, currentTerm=40 >= args.Term=14, reject to vote to server=3
leader=2 receive one log, logIndex=103
send cmd to 2, index=103
对于index=103日志, 有0个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=2, me=0, term=40, myCommit=102, time=1705032573542
server=3, currentTerm=40 >= args.Term=11, reject to vote to server=1
server=3, currentTerm=40 >= args.Term=15, reject to vote to server=1
follower=1 will handle count=1, curIndex=102
follower=1 receive log, firstTerm=40, firstIndex=103, lastTerm=40, lastIndex=103
对于index=103日志, 有0个节点已经达成共识, 一共有5个节点
server=1, currentTerm=40 >= args.Term=20, reject to vote to server=3
heart beat handle success, leader=2, me=3, term=40, myCommit=102, time=1705032573631
follower=0 will handle count=1, curIndex=102
follower=0 receive log, firstTerm=40, firstIndex=103, lastTerm=40, lastIndex=103
follower=4 will handle count=1, curIndex=102
follower=4 receive log, firstTerm=40, firstIndex=103, lastTerm=40, lastIndex=103
server=1, currentTerm=40 >= args.Term=21, reject to vote to server=3
server=0, currentTerm=40 >= args.Term=23, reject to vote to server=3
heart beat handle success, leader=2, me=1, term=40, myCommit=102, time=1705032573706
follower=3 will handle count=1, curIndex=102
follower=3 receive log, firstTerm=40, firstIndex=103, lastTerm=40, lastIndex=103
对于index=103日志, 有0个节点已经达成共识, 一共有5个节点
server=4, currentTerm=40 >= args.Term=18, reject to vote to server=3
heart beat handle success, leader=2, me=0, term=40, myCommit=102, time=1705032573776
对于index=103日志, 有1个节点已经达成共识, 一共有5个节点
leader=2 refresh commit success, put logIndex=[103], rf.matchIndex=[103 103 103 103 103]
server=3, currentTerm=40 >= args.Term=36, reject to vote to server=2
follower=1 refresh commit success, put logIndex=[103]
heart beat handle success, leader=2, me=1, term=40, myCommit=103, time=1705032573933
server=0, currentTerm=40 >= args.Term=3, reject to vote to server=4
follower=0 refresh commit success, put logIndex=[103]
heart beat handle success, leader=2, me=0, term=40, myCommit=103, time=1705032573934
id=2 change to follower from leader
follower=4 refresh commit success, put logIndex=[103]
heart beat handle success, leader=2, me=4, term=40, myCommit=103, time=1705032573935
server=0, currentTerm=40 >= args.Term=11, reject to vote to server=3
heart beat handle success, leader=2, me=3, term=40, myCommit=102, time=1705032573934
server=4, currentTerm=40 >= args.Term=22, reject to vote to server=3
server=1, currentTerm=40 >= args.Term=11, reject to vote to server=3
对于index=103日志, 有1个节点已经达成共识, 一共有5个节点
server=3, currentTerm=40 >= args.Term=10, reject to vote to server=1
server=3, currentTerm=40 >= args.Term=29, reject to vote to server=1
server=4, currentTerm=40 >= args.Term=35, reject to vote to server=0
server=2, currentTerm=40 >= args.Term=34, reject to vote to server=3
server=2, currentTerm=40 >= args.Term=30, reject to vote to server=3
server=3, currentTerm=40 >= args.Term=25, reject to vote to server=1
server=2, currentTerm=40 >= args.Term=32, reject to vote to server=3
server=4, currentTerm=40 >= args.Term=24, reject to vote to server=3
server=4, currentTerm=40 >= args.Term=9, reject to vote to server=3
对于index=103日志, 有4个节点已经达成共识, 一共有5个节点
server=4, currentTerm=40 >= args.Term=14, reject to vote to server=1
server=4, currentTerm=40 >= args.Term=33, reject to vote to server=1
server=4, currentTerm=40 >= args.Term=13, reject to vote to server=3
server=4, currentTerm=40 >= args.Term=9, reject to vote to server=1
server=1, currentTerm=40 >= args.Term=22, reject to vote to server=3
server=3, currentTerm=40 >= args.Term=3, reject to vote to server=1
server=3, currentTerm=40 >= args.Term=30, reject to vote to server=1
对于index=103日志, 有4个节点已经达成共识, 一共有5个节点
server=4, currentTerm=40 >= args.Term=23, reject to vote to server=2
server=4, currentTerm=40 >= args.Term=30, reject to vote to server=3
server=4, currentTerm=40 >= args.Term=8, reject to vote to server=3
server=0, currentTerm=40 >= args.Term=2, reject to vote to server=3
server=0, currentTerm=40 >= args.Term=29, reject to vote to server=3
server=0, currentTerm=40 >= args.Term=6, reject to vote to server=3
server=3, currentTerm=40 >= args.Term=28, reject to vote to server=1
对于index=103日志, 有4个节点已经达成共识, 一共有5个节点
server=2, currentTerm=40 >= args.Term=36, reject to vote to server=3
server=1, currentTerm=40 >= args.Term=26, reject to vote to server=3
server=4, currentTerm=40 >= args.Term=12, reject to vote to server=3
心跳超时, id=4, time=1705032574519
id=4 vote to itself, term=41, time=1705032574519
id=4 send to id=3
id=4 send to id=0
id=4 become leader, lastLogIdx=103, leaderCommit=103
follower=3 refresh commit success, put logIndex=[103]
heart beat handle success, leader=4, me=3, term=41, myCommit=103, time=1705032574522
id=4 send to id=1
id=4 send to id=2
heart beat handle success, leader=4, me=1, term=41, myCommit=103, time=1705032574523
heart beat handle success, leader=4, me=2, term=41, myCommit=103, time=1705032574523
heart beat handle success, leader=4, me=0, term=41, myCommit=103, time=1705032574523
server=0, currentTerm=41 >= args.Term=34, reject to vote to server=3
server=0, currentTerm=41 >= args.Term=16, reject to vote to server=3
对于index=103日志, 有4个节点已经达成共识, 一共有5个节点
server=3, currentTerm=41 >= args.Term=19, reject to vote to server=1
server=4, currentTerm=41 >= args.Term=26, reject to vote to server=3
server=3, currentTerm=41 >= args.Term=34, reject to vote to server=2
heart beat handle success, leader=4, me=3, term=41, myCommit=103, time=1705032574623
server=1, currentTerm=41 >= args.Term=5, reject to vote to server=3
对于index=103日志, 有5个节点已经达成共识, 一共有5个节点
  ... Passed --  58.2  5 4639 2799035  103
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
connect(0)
connect(1)
connect(2)
Test (2B): RPC counts aren't too high ...
heart beat handle success, leader=4, me=1, term=41, myCommit=103, time=1705032574669
heart beat handle success, leader=4, me=0, term=41, myCommit=103, time=1705032574712
选举超时, id=2, time=1705032574876
id=2 vote to itself, term=1, time=1705032574876
id=2 send to id=1
id=2 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=2, me=1, term=1, myCommit=0, time=1705032574877
id=2 send to id=0
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705032574878
heart beat handle success, leader=2, me=1, term=1, myCommit=0, time=1705032574878
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705032574878
heart beat handle success, leader=2, me=1, term=1, myCommit=0, time=1705032574987
heart beat handle success, leader=2, me=1, term=1, myCommit=0, time=1705032575089
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705032575144
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705032575160
心跳超时, id=1, time=1705032575178
id=1 vote to itself, term=42, time=1705032575178
id=1 send to id=4
id=1 send to id=0
id=1 send to id=3
id=1 send to id=2
heart beat handle success, leader=2, me=1, term=1, myCommit=0, time=1705032575191
心跳超时, id=3, time=1705032575221
id=3 vote to itself, term=42, time=1705032575222
id=3 send to id=4
id=3 send to id=0
id=3 send to id=2
id=3 send to id=1
心跳超时, id=0, time=1705032575250
id=0 vote to itself, term=42, time=1705032575250
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705032575261
heart beat handle success, leader=2, me=1, term=1, myCommit=0, time=1705032575294
心跳超时, id=2, time=1705032575282
id=2 vote to itself, term=42, time=1705032575296
id=2 send to id=4
id=2 send to id=1
id=2 send to id=3
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705032575362
id=2 send to id=0
heart beat handle success, leader=2, me=1, term=1, myCommit=0, time=1705032575397
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705032575463
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705032575666
heart beat handle success, leader=2, me=1, term=1, myCommit=0, time=1705032575679
leader=2 receive one log, logIndex=1
leader=2 receive one log, logIndex=2
leader=2 receive one log, logIndex=3
leader=2 receive one log, logIndex=4
leader=2 receive one log, logIndex=5
leader=2 receive one log, logIndex=6
leader=2 receive one log, logIndex=7
leader=2 receive one log, logIndex=8
leader=2 receive one log, logIndex=9
leader=2 receive one log, logIndex=10
leader=2 receive one log, logIndex=11
leader=2 receive one log, logIndex=12
follower=0 will handle count=12, curIndex=0
leader=2 refresh commit success, put logIndex=[1 2 3 4 5 6 7 8 9 10 11 12], rf.matchIndex=[12 0 12]
follower=0 refresh commit success, put logIndex=[1 2 3 4 5 6 7 8 9 10 11 12]
heart beat handle success, leader=2, me=0, term=1, myCommit=12, time=1705032575871
follower=1 will handle count=12, curIndex=0
heart beat handle success, leader=2, me=0, term=1, myCommit=12, time=1705032576088
heart beat handle success, leader=2, me=0, term=1, myCommit=12, time=1705032576157
heart beat handle success, leader=2, me=0, term=1, myCommit=12, time=1705032576299
follower=1 refresh commit success, put logIndex=[1 2 3 4 5 6 7 8 9 10 11 12]
heart beat handle success, leader=2, me=1, term=1, myCommit=12, time=1705032576346
heart beat handle success, leader=2, me=0, term=1, myCommit=12, time=1705032576400
heart beat handle success, leader=2, me=1, term=1, myCommit=12, time=1705032576446
heart beat handle success, leader=2, me=1, term=1, myCommit=12, time=1705032576487
heart beat handle success, leader=2, me=1, term=1, myCommit=12, time=1705032576547
heart beat handle success, leader=2, me=1, term=1, myCommit=12, time=1705032576684
heart beat handle success, leader=2, me=0, term=1, myCommit=12, time=1705032576748
heart beat handle success, leader=2, me=0, term=1, myCommit=12, time=1705032576758
heart beat handle success, leader=2, me=1, term=1, myCommit=12, time=1705032576786
heart beat handle success, leader=2, me=0, term=1, myCommit=12, time=1705032576849
heart beat handle success, leader=2, me=1, term=1, myCommit=12, time=1705032576888
heart beat handle success, leader=2, me=0, term=1, myCommit=12, time=1705032577122
heart beat handle success, leader=2, me=1, term=1, myCommit=12, time=1705032577256
heart beat handle success, leader=2, me=1, term=1, myCommit=12, time=1705032577261
heart beat handle success, leader=2, me=0, term=1, myCommit=12, time=1705032577295
  ... Passed --   2.8  3   40   14922   12
FAIL
exit status 1
FAIL	6.5840/raft	87.815s
