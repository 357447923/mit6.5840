disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
connect(0)
connect(1)
connect(2)
Test (2B): basic agreement ...
选举超时, id=0, time=1705031286623
id=0 vote to itself, term=1, time=1705031286623
id=0 send to id=2
id=0 send to id=1
id=0 become leader, lastLogIdx=0, leaderCommit=0
leader=0 receive one log, logIndex=1
send cmd to 0, index=1
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705031286624
follower=2 will handle count=1, curIndex=0
follower=1 will handle count=1, curIndex=0
follower=1 will handle count=1, curIndex=1
follower=1 sync hole leader=0's log
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705031286726
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705031286726
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705031286828
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705031286828
leader=0 refresh commit success, put logIndex=[1], rf.matchIndex=[1 1 1]
对于index=1日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[1]
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705031286929
follower=1 refresh commit success, put logIndex=[1]
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705031286929
对于index=1日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=2
send cmd to 0, index=2
对于index=2日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=1
follower=1 receive log, firstTerm=1, firstIndex=2, lastTerm=1, lastIndex=2
follower=2 will handle count=1, curIndex=1
follower=2 receive log, firstTerm=1, firstIndex=2, lastTerm=1, lastIndex=2
leader=0 refresh commit success, put logIndex=[2], rf.matchIndex=[2 2 2]
对于index=2日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[2]
heart beat handle success, leader=0, me=2, term=1, myCommit=2, time=1705031287131
follower=1 refresh commit success, put logIndex=[2]
heart beat handle success, leader=0, me=1, term=1, myCommit=2, time=1705031287131
对于index=2日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=3
send cmd to 0, index=3
对于index=3日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=2
follower=1 receive log, firstTerm=1, firstIndex=3, lastTerm=1, lastIndex=3
follower=2 will handle count=1, curIndex=2
follower=2 receive log, firstTerm=1, firstIndex=3, lastTerm=1, lastIndex=3
leader=0 refresh commit success, put logIndex=[3], rf.matchIndex=[3 3 3]
对于index=3日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[3]
heart beat handle success, leader=0, me=1, term=1, myCommit=3, time=1705031287334
follower=2 refresh commit success, put logIndex=[3]
heart beat handle success, leader=0, me=2, term=1, myCommit=3, time=1705031287334
对于index=3日志, 有3个节点已经达成共识, 一共有3个节点
  ... Passed --   1.0  3   20    7157    3
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
connect(0)
connect(1)
connect(2)
Test (2B): RPC byte count ...
选举超时, id=0, time=1705031287661
id=0 vote to itself, term=1, time=1705031287661
id=0 send to id=2
id=0 send to id=1
id=0 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705031287662
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705031287662
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705031287662
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705031287662
leader=0 receive one log, logIndex=1
send cmd to 0, index=1
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=0
follower=2 will handle count=1, curIndex=0
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705031287863
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705031287863
心跳超时, id=1, time=1705031287876
id=1 vote to itself, term=2, time=1705031287876
id=1 send to id=2
id=1 send to id=0
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031287905
id=2 vote to itself, term=2, time=1705031287905
id=2 send to id=1
id=2 send to id=0
leader=0 refresh commit success, put logIndex=[1], rf.matchIndex=[1 1 1]
follower=1 refresh commit success, put logIndex=[1]
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705031287964
follower=2 refresh commit success, put logIndex=[1]
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705031287964
对于index=1日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=2
send cmd to 0, index=2
对于index=2日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=1
follower=2 receive log, firstTerm=1, firstIndex=2, lastTerm=1, lastIndex=2
follower=1 will handle count=1, curIndex=1
follower=1 receive log, firstTerm=1, firstIndex=2, lastTerm=1, lastIndex=2
对于index=2日志, 有0个节点已经达成共识, 一共有3个节点
leader=0 refresh commit success, put logIndex=[2], rf.matchIndex=[2 2 2]
follower=1 refresh commit success, put logIndex=[2]
heart beat handle success, leader=0, me=1, term=1, myCommit=2, time=1705031288169
follower=2 refresh commit success, put logIndex=[2]
heart beat handle success, leader=0, me=2, term=1, myCommit=2, time=1705031288175
对于index=2日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=3
send cmd to 0, index=3
对于index=3日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=2
follower=1 receive log, firstTerm=1, firstIndex=3, lastTerm=1, lastIndex=3
follower=2 will handle count=1, curIndex=2
follower=2 receive log, firstTerm=1, firstIndex=3, lastTerm=1, lastIndex=3
对于index=3日志, 有0个节点已经达成共识, 一共有3个节点
leader=0 refresh commit success, put logIndex=[3], rf.matchIndex=[3 3 3]
follower=2 refresh commit success, put logIndex=[3]
heart beat handle success, leader=0, me=2, term=1, myCommit=3, time=1705031288384
follower=1 refresh commit success, put logIndex=[3]
heart beat handle success, leader=0, me=1, term=1, myCommit=3, time=1705031288385
对于index=3日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=4
send cmd to 0, index=4
对于index=4日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=3
follower=1 receive log, firstTerm=1, firstIndex=4, lastTerm=1, lastIndex=4
对于index=4日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=3
follower=2 receive log, firstTerm=1, firstIndex=4, lastTerm=1, lastIndex=4
leader=0 refresh commit success, put logIndex=[4], rf.matchIndex=[4 4 4]
对于index=4日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[4]
heart beat handle success, leader=0, me=1, term=1, myCommit=4, time=1705031288598
follower=2 refresh commit success, put logIndex=[4]
heart beat handle success, leader=0, me=2, term=1, myCommit=4, time=1705031288606
对于index=4日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=5
send cmd to 0, index=5
对于index=5日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=4
follower=1 receive log, firstTerm=1, firstIndex=5, lastTerm=1, lastIndex=5
follower=2 will handle count=1, curIndex=4
follower=2 receive log, firstTerm=1, firstIndex=5, lastTerm=1, lastIndex=5
leader=0 refresh commit success, put logIndex=[5], rf.matchIndex=[5 5 5]
对于index=5日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[5]
heart beat handle success, leader=0, me=1, term=1, myCommit=5, time=1705031288805
follower=2 refresh commit success, put logIndex=[5]
heart beat handle success, leader=0, me=2, term=1, myCommit=5, time=1705031288817
对于index=5日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=6
send cmd to 0, index=6
对于index=6日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=5
follower=1 receive log, firstTerm=1, firstIndex=6, lastTerm=1, lastIndex=6
follower=2 will handle count=1, curIndex=5
follower=2 receive log, firstTerm=1, firstIndex=6, lastTerm=1, lastIndex=6
leader=0 refresh commit success, put logIndex=[6], rf.matchIndex=[6 6 6]
对于index=6日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[6]
heart beat handle success, leader=0, me=1, term=1, myCommit=6, time=1705031289018
follower=2 refresh commit success, put logIndex=[6]
heart beat handle success, leader=0, me=2, term=1, myCommit=6, time=1705031289024
对于index=6日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=7
send cmd to 0, index=7
对于index=7日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=6
follower=1 receive log, firstTerm=1, firstIndex=7, lastTerm=1, lastIndex=7
follower=2 will handle count=1, curIndex=6
follower=2 receive log, firstTerm=1, firstIndex=7, lastTerm=1, lastIndex=7
leader=0 refresh commit success, put logIndex=[7], rf.matchIndex=[7 7 7]
对于index=7日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[7]
heart beat handle success, leader=0, me=1, term=1, myCommit=7, time=1705031289224
follower=2 refresh commit success, put logIndex=[7]
heart beat handle success, leader=0, me=2, term=1, myCommit=7, time=1705031289232
对于index=7日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=8
send cmd to 0, index=8
对于index=8日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=7
follower=1 receive log, firstTerm=1, firstIndex=8, lastTerm=1, lastIndex=8
follower=2 will handle count=1, curIndex=7
follower=2 receive log, firstTerm=1, firstIndex=8, lastTerm=1, lastIndex=8
leader=0 refresh commit success, put logIndex=[8], rf.matchIndex=[8 8 8]
对于index=8日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[8]
heart beat handle success, leader=0, me=1, term=1, myCommit=8, time=1705031289433
follower=2 refresh commit success, put logIndex=[8]
heart beat handle success, leader=0, me=2, term=1, myCommit=8, time=1705031289437
对于index=8日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=9
send cmd to 0, index=9
对于index=9日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=8
follower=1 receive log, firstTerm=1, firstIndex=9, lastTerm=1, lastIndex=9
follower=2 will handle count=1, curIndex=8
follower=2 receive log, firstTerm=1, firstIndex=9, lastTerm=1, lastIndex=9
leader=0 refresh commit success, put logIndex=[9], rf.matchIndex=[9 9 9]
对于index=9日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[9]
heart beat handle success, leader=0, me=1, term=1, myCommit=9, time=1705031289639
follower=2 refresh commit success, put logIndex=[9]
heart beat handle success, leader=0, me=2, term=1, myCommit=9, time=1705031289644
对于index=9日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=10
send cmd to 0, index=10
对于index=10日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=9
follower=1 receive log, firstTerm=1, firstIndex=10, lastTerm=1, lastIndex=10
follower=2 will handle count=1, curIndex=9
follower=2 receive log, firstTerm=1, firstIndex=10, lastTerm=1, lastIndex=10
leader=0 refresh commit success, put logIndex=[10], rf.matchIndex=[10 10 10]
对于index=10日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[10]
heart beat handle success, leader=0, me=1, term=1, myCommit=10, time=1705031289841
follower=2 refresh commit success, put logIndex=[10]
heart beat handle success, leader=0, me=2, term=1, myCommit=10, time=1705031289850
对于index=10日志, 有3个节点已经达成共识, 一共有3个节点
leader=0 receive one log, logIndex=11
send cmd to 0, index=11
对于index=11日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=10
follower=1 receive log, firstTerm=1, firstIndex=11, lastTerm=1, lastIndex=11
follower=2 will handle count=1, curIndex=10
follower=2 receive log, firstTerm=1, firstIndex=11, lastTerm=1, lastIndex=11
leader=0 refresh commit success, put logIndex=[11], rf.matchIndex=[11 11 11]
对于index=11日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[11]
heart beat handle success, leader=0, me=1, term=1, myCommit=11, time=1705031290049
follower=2 refresh commit success, put logIndex=[11]
heart beat handle success, leader=0, me=2, term=1, myCommit=11, time=1705031290053
对于index=11日志, 有3个节点已经达成共识, 一共有3个节点
  ... Passed --   2.7  3   52  119558   11
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
connect(0)
connect(1)
connect(2)
Test (2B): test progressive failure of followers ...
选举超时, id=2, time=1705031290384
id=2 vote to itself, term=1, time=1705031290385
id=2 send to id=1
id=2 send to id=0
id=2 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=2, me=1, term=1, myCommit=0, time=1705031290386
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705031290386
heart beat handle success, leader=2, me=1, term=1, myCommit=0, time=1705031290387
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705031290387
leader=2 receive one log, logIndex=1
send cmd to 2, index=1
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=0
follower=1 will handle count=1, curIndex=0
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031290576
id=2 vote to itself, term=2, time=1705031290576
id=2 send to id=1
id=2 send to id=0
heart beat handle success, leader=2, me=1, term=1, myCommit=0, time=1705031290589
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705031290589
心跳超时, id=1, time=1705031290593
id=1 vote to itself, term=2, time=1705031290629
id=1 send to id=2
id=1 send to id=0
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705031290692
leader=2 refresh commit success, put logIndex=[1], rf.matchIndex=[1 1 1]
heart beat handle success, leader=2, me=1, term=1, myCommit=0, time=1705031290715
对于index=1日志, 有1个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[1]
heart beat handle success, leader=2, me=0, term=1, myCommit=1, time=1705031290794
follower=1 refresh commit success, put logIndex=[1]
heart beat handle success, leader=2, me=1, term=1, myCommit=1, time=1705031290834
对于index=1日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=2, me=0, term=1, myCommit=1, time=1705031290912
heart beat handle success, leader=2, me=1, term=1, myCommit=1, time=1705031290942
对于index=1日志, 有3个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=2, me=0, term=1, myCommit=1, time=1705031291020
heart beat handle success, leader=2, me=1, term=1, myCommit=1, time=1705031291044
heart beat handle success, leader=2, me=0, term=1, myCommit=1, time=1705031291124
heart beat handle success, leader=2, me=1, term=1, myCommit=1, time=1705031291152
heart beat handle success, leader=2, me=0, term=1, myCommit=1, time=1705031291234
heart beat handle success, leader=2, me=1, term=1, myCommit=1, time=1705031291256
heart beat handle success, leader=2, me=0, term=1, myCommit=1, time=1705031291337
heart beat handle success, leader=2, me=1, term=1, myCommit=1, time=1705031291357
disconnect(0)
leader=2 receive one log, logIndex=2
send cmd to 2, index=2
对于index=2日志, 有0个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=2, me=0, term=1, myCommit=1, time=1705031291442
follower=1 will handle count=1, curIndex=1
follower=1 receive log, firstTerm=1, firstIndex=2, lastTerm=1, lastIndex=2
leader=2 refresh commit success, put logIndex=[2], rf.matchIndex=[1 2 2]
对于index=2日志, 有1个节点已经达成共识, 一共有2个节点
follower=1 refresh commit success, put logIndex=[2]
heart beat handle success, leader=2, me=1, term=1, myCommit=2, time=1705031291570
对于index=2日志, 有2个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=2, me=1, term=1, myCommit=2, time=1705031291682
heart beat handle success, leader=2, me=1, term=1, myCommit=2, time=1705031291803
心跳超时, id=0, time=1705031291953
id=0 vote to itself, term=2, time=1705031291954
id=0 send to id=2
id=0 send to id=1
heart beat handle success, leader=2, me=1, term=1, myCommit=2, time=1705031291964
heart beat handle success, leader=2, me=1, term=1, myCommit=2, time=1705031292073
leader=2 receive one log, logIndex=3
send cmd to 2, index=3
对于index=3日志, 有0个节点已经达成共识, 一共有2个节点
follower=1 will handle count=1, curIndex=2
follower=1 receive log, firstTerm=1, firstIndex=3, lastTerm=1, lastIndex=3
leader=2 refresh commit success, put logIndex=[3], rf.matchIndex=[1 3 3]
对于index=3日志, 有1个节点已经达成共识, 一共有2个节点
follower=1 refresh commit success, put logIndex=[3]
heart beat handle success, leader=2, me=1, term=1, myCommit=3, time=1705031292280
对于index=3日志, 有2个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=2, me=1, term=1, myCommit=3, time=1705031292393
heart beat handle success, leader=2, me=1, term=1, myCommit=3, time=1705031292531
heart beat handle success, leader=2, me=1, term=1, myCommit=3, time=1705031292639
heart beat handle success, leader=2, me=1, term=1, myCommit=3, time=1705031292740
心跳超时, id=0, time=1705031292764
id=0 vote to itself, term=3, time=1705031292764
id=0 send to id=2
id=0 send to id=1
heart beat handle success, leader=2, me=1, term=1, myCommit=3, time=1705031292848
disconnect(0)
disconnect(1)
leader=2 receive one log, logIndex=4
心跳超时, id=1, time=1705031293351
id=1 vote to itself, term=2, time=1705031293361
id=1 send to id=2
id=1 send to id=0
心跳超时, id=0, time=1705031293562
id=0 vote to itself, term=4, time=1705031293578
id=0 send to id=2
id=0 send to id=1
  ... Passed --   3.8  3   65   20948    3
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
connect(0)
connect(1)
connect(2)
Test (2B): test failure of leaders ...
心跳超时, id=1, time=1705031294113
id=1 vote to itself, term=3, time=1705031294117
id=1 send to id=0
id=1 send to id=2
选举超时, id=2, time=1705031294200
id=2 vote to itself, term=1, time=1705031294200
id=2 send to id=1
选举超时, id=0, time=1705031294190
id=0 vote to itself, term=1, time=1705031294203
id=0 send to id=2
id=2 become leader, lastLogIdx=0, leaderCommit=0
id=2 change to follower from leader
id=0 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705031294203
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705031294203
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705031294204
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705031294206
id=0 send to id=1
id=2 send to id=0
id=0 change to follower from leader
心跳超时, id=0, time=1705031294424
id=0 vote to itself, term=5, time=1705031294437
id=0 send to id=2
id=0 send to id=1
心跳超时, id=0, time=1705031294757
id=0 vote to itself, term=2, time=1705031294757
id=0 send to id=2
id=0 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=0, me=2, term=2, myCommit=0, time=1705031294758
id=0 send to id=1
heart beat handle success, leader=0, me=1, term=2, myCommit=0, time=1705031294760
leader=0 receive one log, logIndex=1
send cmd to 0, index=1
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=0
follower=1 will handle count=1, curIndex=0
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=2, myCommit=0, time=1705031294975
heart beat handle success, leader=0, me=1, term=2, myCommit=0, time=1705031294983
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
leader=0 refresh commit success, put logIndex=[1], rf.matchIndex=[1 1 1]
follower=1 refresh commit success, put logIndex=[1]
heart beat handle success, leader=0, me=1, term=2, myCommit=1, time=1705031295132
follower=2 refresh commit success, put logIndex=[1]
heart beat handle success, leader=0, me=2, term=2, myCommit=1, time=1705031295134
对于index=1日志, 有3个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=2, myCommit=1, time=1705031295250
heart beat handle success, leader=0, me=1, term=2, myCommit=1, time=1705031295251
heart beat handle success, leader=0, me=2, term=2, myCommit=1, time=1705031295398
heart beat handle success, leader=0, me=1, term=2, myCommit=1, time=1705031295459
heart beat handle success, leader=0, me=2, term=2, myCommit=1, time=1705031295503
heart beat handle success, leader=0, me=1, term=2, myCommit=1, time=1705031295559
heart beat handle success, leader=0, me=2, term=2, myCommit=1, time=1705031295654
heart beat handle success, leader=0, me=1, term=2, myCommit=1, time=1705031295660
disconnect(0)
心跳超时, id=1, time=1705031296183
id=1 vote to itself, term=3, time=1705031296183
id=1 send to id=2
心跳超时, id=2, time=1705031296189
id=2 vote to itself, term=3, time=1705031296190
id=2 send to id=0
id=2 send to id=1
id=1 send to id=0
心跳超时, id=2, time=1705031296984
id=2 vote to itself, term=4, time=1705031296985
id=2 send to id=1
id=2 send to id=0
id=2 become leader, lastLogIdx=1, leaderCommit=1
leader=2 receive one log, logIndex=2
send cmd to 2, index=2
对于index=2日志, 有0个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=2, me=1, term=4, myCommit=1, time=1705031297040
对于index=2日志, 有0个节点已经达成共识, 一共有2个节点
follower=1 will handle count=1, curIndex=1
follower=1 receive log, firstTerm=4, firstIndex=2, lastTerm=4, lastIndex=2
heart beat handle success, leader=2, me=1, term=4, myCommit=1, time=1705031297168
对于index=2日志, 有0个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=2, me=1, term=4, myCommit=1, time=1705031297269
leader=2 refresh commit success, put logIndex=[2], rf.matchIndex=[1 2 2]
对于index=2日志, 有1个节点已经达成共识, 一共有2个节点
follower=1 refresh commit success, put logIndex=[2]
heart beat handle success, leader=2, me=1, term=4, myCommit=2, time=1705031297386
对于index=2日志, 有2个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=2, me=1, term=4, myCommit=2, time=1705031297527
heart beat handle success, leader=2, me=1, term=4, myCommit=2, time=1705031297664
heart beat handle success, leader=2, me=1, term=4, myCommit=2, time=1705031297818
leader=2 receive one log, logIndex=3
send cmd to 2, index=3
对于index=3日志, 有0个节点已经达成共识, 一共有2个节点
follower=1 will handle count=1, curIndex=2
follower=1 receive log, firstTerm=4, firstIndex=3, lastTerm=4, lastIndex=3
对于index=3日志, 有1个节点已经达成共识, 一共有2个节点
leader=2 refresh commit success, put logIndex=[3], rf.matchIndex=[1 3 3]
follower=1 refresh commit success, put logIndex=[3]
heart beat handle success, leader=2, me=1, term=4, myCommit=3, time=1705031298058
对于index=3日志, 有2个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=2, me=1, term=4, myCommit=3, time=1705031298183
heart beat handle success, leader=2, me=1, term=4, myCommit=3, time=1705031298380
heart beat handle success, leader=2, me=1, term=4, myCommit=3, time=1705031298482
disconnect(2)
leader=0 receive one log, logIndex=2
leader=2 receive one log, logIndex=4
heart beat handle success, leader=2, me=1, term=4, myCommit=3, time=1705031298708
心跳超时, id=1, time=1705031299275
id=1 vote to itself, term=5, time=1705031299275
id=1 send to id=2
id=1 send to id=0
  ... Passed --   5.7  3  110   34452    3
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
connect(0)
connect(1)
connect(2)
Test (2B): agreement after follower reconnects ...
选举超时, id=2, time=1705031299818
id=2 vote to itself, term=1, time=1705031299818
id=2 send to id=1
id=2 send to id=0
选举超时, id=0, time=1705031299827
id=0 vote to itself, term=1, time=1705031299827
id=0 send to id=2
id=0 send to id=1
id=0 become leader, lastLogIdx=0, leaderCommit=0
id=0 change to follower from leader
id=2 become leader, lastLogIdx=0, leaderCommit=0
id=2 change to follower from leader
heart beat handle success, leader=2, me=0, term=1, myCommit=0, time=1705031299870
心跳超时, id=1, time=1705031300106
id=1 vote to itself, term=6, time=1705031300106
id=1 send to id=2
id=1 send to id=0
心跳超时, id=0, time=1705031300433
id=0 vote to itself, term=2, time=1705031300437
id=0 send to id=2
心跳超时, id=1, time=1705031300472
id=1 vote to itself, term=2, time=1705031300472
id=1 send to id=2
心跳超时, id=2, time=1705031300473
id=1 send to id=0
id=0 send to id=1
id=2 vote to itself, term=2, time=1705031300492
id=2 send to id=1
id=2 send to id=0
id=1 become leader, lastLogIdx=0, leaderCommit=0
id=1 change to follower from leader
id=2 become leader, lastLogIdx=0, leaderCommit=0
id=2 change to follower from leader
leader=1 receive one log, logIndex=1
send cmd to 1, index=1
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=0, time=1705031301159
id=0 vote to itself, term=3, time=1705031301159
id=0 send to id=2
id=0 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705031301164
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705031301164
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705031301164
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705031301164
id=0 send to id=1
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705031301266
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705031301320
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705031301389
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705031301426
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705031301552
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705031301580
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705031301653
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705031301730
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705031301832
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705031301845
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705031301935
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705031301986
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705031302111
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705031302128
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705031302220
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705031302229
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705031302320
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705031302331
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705031302423
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705031302435
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=3, myCommit=0, time=1705031302526
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705031302564
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
--- FAIL: TestFailAgree2B (3.04s)
    config.go:596: one(101) failed to reach agreement
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
disconnect(3)
make an entry id=3
disconnect(4)
make an entry id=4
connect(0)
connect(1)
connect(2)
connect(3)
connect(4)
Test (2B): no agreement if too many followers disconnect ...
heart beat handle success, leader=0, me=1, term=3, myCommit=0, time=1705031302732
选举超时, id=3, time=1705031302906
id=3 vote to itself, term=1, time=1705031302907
id=3 send to id=4
id=3 send to id=1
id=3 send to id=2
id=3 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=3, me=4, term=1, myCommit=0, time=1705031302909
id=3 send to id=0
leader=3 receive one log, logIndex=1
send cmd to 3, index=1
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=3, me=4, term=1, myCommit=0, time=1705031302960
heart beat handle success, leader=3, me=1, term=1, myCommit=0, time=1705031302961
follower=0 will handle count=1, curIndex=0
follower=1 will handle count=1, curIndex=0
follower=2 will handle count=1, curIndex=0
server=0 currentTerm=1 > args.Term=1, vote reject
follower=2 will handle count=1, curIndex=1
follower=2 sync hole leader=3's log
heart beat handle success, leader=3, me=0, term=1, myCommit=0, time=1705031303039
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
follower=4 will handle count=1, curIndex=0
follower=0's logs are diff from leader, need to sync
heart beat handle success, leader=3, me=1, term=1, myCommit=0, time=1705031303098
follower=0 will handle count=1, curIndex=0
heart beat handle success, leader=3, me=2, term=1, myCommit=0, time=1705031303127
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
心跳超时, id=2, time=1705031303059
id=2 vote to itself, term=4, time=1705031303151
id=2 send to id=1
id=2 send to id=0
heart beat handle success, leader=3, me=4, term=1, myCommit=0, time=1705031303165
leader=3 refresh commit success, put logIndex=[1], rf.matchIndex=[1 1 1 1 1]
heart beat handle success, leader=3, me=0, term=1, myCommit=0, time=1705031303225
heart beat handle success, leader=3, me=1, term=1, myCommit=0, time=1705031303233
对于index=1日志, 有1个节点已经达成共识, 一共有5个节点
心跳超时, id=1, time=1705031303244
id=1 vote to itself, term=4, time=1705031303244
id=1 send to id=2
id=1 send to id=0
follower=4 refresh commit success, put logIndex=[1]
heart beat handle success, leader=3, me=4, term=1, myCommit=1, time=1705031303278
follower=2 refresh commit success, put logIndex=[1]
heart beat handle success, leader=3, me=2, term=1, myCommit=1, time=1705031303310
对于index=1日志, 有3个节点已经达成共识, 一共有5个节点
follower=1 refresh commit success, put logIndex=[1]
heart beat handle success, leader=3, me=1, term=1, myCommit=1, time=1705031303345
follower=0 refresh commit success, put logIndex=[1]
heart beat handle success, leader=3, me=0, term=1, myCommit=1, time=1705031303348
对于index=1日志, 有5个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=3, me=2, term=1, myCommit=1, time=1705031303461
heart beat handle success, leader=3, me=1, term=1, myCommit=1, time=1705031303536
heart beat handle success, leader=3, me=4, term=1, myCommit=1, time=1705031303555
heart beat handle success, leader=3, me=4, term=1, myCommit=1, time=1705031303589
heart beat handle success, leader=3, me=2, term=1, myCommit=1, time=1705031303696
heart beat handle success, leader=3, me=1, term=1, myCommit=1, time=1705031303696
heart beat handle success, leader=3, me=4, term=1, myCommit=1, time=1705031303697
heart beat handle success, leader=3, me=0, term=1, myCommit=1, time=1705031303705
heart beat handle success, leader=3, me=0, term=1, myCommit=1, time=1705031303709
heart beat handle success, leader=3, me=4, term=1, myCommit=1, time=1705031303906
heart beat handle success, leader=3, me=1, term=1, myCommit=1, time=1705031303936
disconnect(4)
disconnect(0)
disconnect(1)
leader=3 receive one log, logIndex=2
heart beat handle success, leader=3, me=2, term=1, myCommit=1, time=1705031303957
heart beat handle success, leader=3, me=0, term=1, myCommit=1, time=1705031303958
follower=2 will handle count=1, curIndex=1
follower=2 receive log, firstTerm=1, firstIndex=2, lastTerm=1, lastIndex=2
heart beat handle success, leader=3, me=2, term=1, myCommit=1, time=1705031304230
心跳超时, id=4, time=1705031304424
id=4 vote to itself, term=2, time=1705031304424
id=4 send to id=3
heart beat handle success, leader=3, me=2, term=1, myCommit=1, time=1705031304464
id=4 send to id=0
id=4 send to id=1
id=4 send to id=2
心跳超时, id=1, time=1705031304487
id=1 vote to itself, term=2, time=1705031304487
id=1 send to id=4
id=1 send to id=2
id=1 send to id=0
heart beat handle success, leader=3, me=2, term=1, myCommit=1, time=1705031304527
心跳超时, id=0, time=1705031304549
id=0 vote to itself, term=2, time=1705031304579
id=0 send to id=4
id=0 send to id=2
id=0 send to id=1
id=0 send to id=3
id=1 send to id=3
heart beat handle success, leader=3, me=2, term=1, myCommit=1, time=1705031304684
heart beat handle success, leader=3, me=2, term=1, myCommit=1, time=1705031304831
heart beat handle success, leader=3, me=2, term=1, myCommit=1, time=1705031304934
connect(4)
connect(0)
connect(1)
id=3 change to follower from leader
心跳超时, id=4, time=1705031305185
id=4 vote to itself, term=3, time=1705031305185
id=4 send to id=0
id=4 send to id=1
id=4 send to id=2
server=2 currentTerm=3 > args.Term=3, vote reject
id=4 send to id=3
server=3 currentTerm=3 > args.Term=3, vote reject
id=4 become leader, lastLogIdx=1, leaderCommit=1
heart beat handle success, leader=4, me=2, term=3, myCommit=1, time=1705031305354
heart beat handle success, leader=4, me=1, term=3, myCommit=1, time=1705031305355
heart beat handle success, leader=4, me=0, term=3, myCommit=1, time=1705031305355
heart beat handle success, leader=4, me=3, term=3, myCommit=1, time=1705031305355
heart beat handle success, leader=4, me=3, term=3, myCommit=1, time=1705031305373
heart beat handle success, leader=4, me=2, term=3, myCommit=1, time=1705031305406
heart beat handle success, leader=4, me=1, term=3, myCommit=1, time=1705031305423
follower=2 will handle count=1, curIndex=1
follower=2 receive log, firstTerm=3, firstIndex=2, lastTerm=3, lastIndex=2
follower=1 will handle count=1, curIndex=1
follower=1 receive log, firstTerm=3, firstIndex=2, lastTerm=3, lastIndex=2
heart beat handle success, leader=4, me=0, term=3, myCommit=1, time=1705031305533
follower=3 will handle count=1, curIndex=1
follower=3 receive log, firstTerm=3, firstIndex=2, lastTerm=3, lastIndex=2
leader=4 receive one log, logIndex=2
leader=4 receive one log, logIndex=3
send cmd to 4, index=3
对于index=3日志, 有0个节点已经达成共识, 一共有5个节点
follower=2 will handle count=1, curIndex=2
follower=2 receive log, firstTerm=3, firstIndex=3, lastTerm=3, lastIndex=3
follower=0 will handle count=1, curIndex=1
follower=0 receive log, firstTerm=3, firstIndex=2, lastTerm=3, lastIndex=2
follower=1 will handle count=1, curIndex=2
follower=1 receive log, firstTerm=3, firstIndex=3, lastTerm=3, lastIndex=3
server=3, currentTerm=3 >= args.Term=2, reject to vote to server=4
id=4 change to follower from leader
对于index=3日志, 有1个节点已经达成共识, 一共有5个节点
leader=4 refresh commit success, put logIndex=[2 3], rf.matchIndex=[1 3 3 2 3]
对于index=3日志, 有1个节点已经达成共识, 一共有5个节点
server=0, currentTerm=3 >= args.Term=2, reject to vote to server=1
对于index=3日志, 有1个节点已经达成共识, 一共有5个节点
对于index=3日志, 有1个节点已经达成共识, 一共有5个节点
对于index=3日志, 有1个节点已经达成共识, 一共有5个节点
心跳超时, id=2, time=1705031306154
id=2 vote to itself, term=4, time=1705031306154
id=2 send to id=4
id=2 send to id=0
id=2 become leader, lastLogIdx=3, leaderCommit=1
heart beat handle success, leader=2, me=4, term=4, myCommit=1, time=1705031306155
id=2 send to id=1
id=2 send to id=3
follower=0's logs are diff from leader, need to sync
follower=0 will handle count=1, curIndex=2
follower=0 receive log, firstTerm=3, firstIndex=3, lastTerm=3, lastIndex=3
follower=0 will handle count=1, curIndex=3
follower=0 receive log, firstTerm=3, firstIndex=3, lastTerm=3, lastIndex=3
heart beat handle success, leader=2, me=1, term=4, myCommit=1, time=1705031306161
follower=3's logs are diff from leader, need to sync
heart beat handle success, leader=2, me=1, term=4, myCommit=1, time=1705031306161
follower=3 will handle count=1, curIndex=2
follower=3 receive log, firstTerm=3, firstIndex=3, lastTerm=3, lastIndex=3
follower=3 will handle count=1, curIndex=3
follower=3 receive log, firstTerm=3, firstIndex=3, lastTerm=3, lastIndex=3
heart beat handle success, leader=2, me=4, term=4, myCommit=1, time=1705031306161
心跳超时, id=3, time=1705031306048
id=3 vote to itself, term=5, time=1705031306185
id=3 send to id=4
id=3 send to id=1
id=3 send to id=2
id=3 send to id=0
id=3 become leader, lastLogIdx=3, leaderCommit=1
heart beat handle success, leader=3, me=4, term=5, myCommit=1, time=1705031306196
对于index=3日志, 有1个节点已经达成共识, 一共有5个节点
server=2 rf.currentTerm=4, args.Term=5
id=2 change to follower from leader
heart beat handle success, leader=3, me=1, term=5, myCommit=1, time=1705031306276
heart beat handle success, leader=3, me=2, term=5, myCommit=1, time=1705031306319
对于index=3日志, 有1个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=3, me=0, term=5, myCommit=1, time=1705031306371
heart beat handle success, leader=3, me=2, term=5, myCommit=1, time=1705031306382
heart beat handle success, leader=3, me=4, term=5, myCommit=1, time=1705031306387
heart beat handle success, leader=3, me=0, term=5, myCommit=1, time=1705031306415
heart beat handle success, leader=3, me=1, term=5, myCommit=1, time=1705031306452
对于index=3日志, 有1个节点已经达成共识, 一共有5个节点
leader=2 refresh commit success, put logIndex=[2 3], rf.matchIndex=[3 3 3 3 3]
heart beat handle success, leader=3, me=2, term=5, myCommit=1, time=1705031306485
follower=4 refresh commit success, put logIndex=[2 3]
heart beat handle success, leader=3, me=4, term=5, myCommit=3, time=1705031306501
leader=3 refresh commit success, put logIndex=[2 3], rf.matchIndex=[3 3 3 3 3]
follower=0 refresh commit success, put logIndex=[2 3]
heart beat handle success, leader=3, me=0, term=5, myCommit=3, time=1705031306559
对于index=3日志, 有3个节点已经达成共识, 一共有5个节点
follower=1 refresh commit success, put logIndex=[2 3]
heart beat handle success, leader=3, me=1, term=5, myCommit=3, time=1705031306588
heart beat handle success, leader=3, me=4, term=5, myCommit=3, time=1705031306678
follower=2 refresh commit success, put logIndex=[2 3]
heart beat handle success, leader=3, me=2, term=5, myCommit=3, time=1705031306680
对于index=3日志, 有5个节点已经达成共识, 一共有5个节点
  ... Passed --   4.0  5  128   39870    3
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
connect(0)
connect(1)
connect(2)
Test (2B): concurrent Start()s ...
heart beat handle success, leader=3, me=0, term=5, myCommit=3, time=1705031306796
选举超时, id=0, time=1705031306852
id=0 vote to itself, term=1, time=1705031306888
id=0 send to id=2
id=0 send to id=1
id=0 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705031306904
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705031306906
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705031306938
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705031306940
心跳超时, id=1, time=1705031307088
id=1 vote to itself, term=6, time=1705031307090
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705031307108
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705031307110
id=1 send to id=3
心跳超时, id=4, time=1705031307184
id=4 vote to itself, term=6, time=1705031307184
id=4 send to id=3
id=4 send to id=0
id=4 send to id=2
id=4 send to id=1
leader=0 receive one log, logIndex=1
leader=0 receive one log, logIndex=2
leader=0 receive one log, logIndex=3
leader=0 receive one log, logIndex=4
leader=0 receive one log, logIndex=5
leader=0 receive one log, logIndex=6
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705031307269
心跳超时, id=2, time=1705031307224
id=2 vote to itself, term=6, time=1705031307278
id=2 send to id=4
id=2 send to id=0
id=2 send to id=3
id=2 send to id=1
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705031307321
心跳超时, id=0, time=1705031307377
id=0 vote to itself, term=6, time=1705031307377
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
follower=2 will handle count=6, curIndex=0
follower=1 will handle count=6, curIndex=0
leader=0 refresh commit success, put logIndex=[1 2 3 4 5 6], rf.matchIndex=[6 6 6]
follower=1 refresh commit success, put logIndex=[1 2 3 4 5 6]
heart beat handle success, leader=0, me=1, term=1, myCommit=6, time=1705031307661
follower=2 refresh commit success, put logIndex=[1 2 3 4 5 6]
heart beat handle success, leader=0, me=2, term=1, myCommit=6, time=1705031307771
heart beat handle success, leader=0, me=2, term=1, myCommit=6, time=1705031307772
heart beat handle success, leader=0, me=1, term=1, myCommit=6, time=1705031307813
heart beat handle success, leader=0, me=2, term=1, myCommit=6, time=1705031307874
  ... Passed --   1.2  3   17    6078    6
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
connect(0)
connect(1)
connect(2)
Test (2B): rejoin of partitioned leader ...
选举超时, id=0, time=1705031308121
id=0 vote to itself, term=1, time=1705031308123
id=0 send to id=2
id=0 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705031308126
id=0 send to id=1
heart beat handle success, leader=0, me=1, term=1, myCommit=0, time=1705031308127
leader=0 receive one log, logIndex=1
send cmd to 0, index=1
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=0
follower=1 will handle count=1, curIndex=0
follower=2 will handle count=1, curIndex=1
follower=2 sync hole leader=0's log
心跳超时, id=1, time=1705031308331
id=1 vote to itself, term=2, time=1705031308332
id=1 send to id=2
id=1 send to id=0
对于index=1日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=1
follower=1 sync hole leader=0's log
leader=0 refresh commit success, put logIndex=[1], rf.matchIndex=[1 0 1]
心跳超时, id=2, time=1705031308444
id=2 vote to itself, term=2, time=1705031308444
id=2 send to id=1
id=2 send to id=0
heart beat handle success, leader=0, me=2, term=1, myCommit=0, time=1705031308478
对于index=1日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=1
follower=1 sync hole leader=0's log
follower=1 refresh commit success, put logIndex=[1]
对于index=1日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705031308676
follower=2 refresh commit success, put logIndex=[1]
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705031308691
对于index=1日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705031308730
对于index=1日志, 有3个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705031308835
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705031308836
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705031308936
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705031308937
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705031309079
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705031309119
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705031309211
heart beat handle success, leader=0, me=2, term=1, myCommit=1, time=1705031309283
heart beat handle success, leader=0, me=1, term=1, myCommit=1, time=1705031309318
disconnect(0)
leader=0 receive one log, logIndex=2
leader=0 receive one log, logIndex=3
leader=0 receive one log, logIndex=4
心跳超时, id=2, time=1705031309868
id=2 vote to itself, term=2, time=1705031309868
id=2 send to id=1
id=2 send to id=0
id=2 become leader, lastLogIdx=1, leaderCommit=1
leader=2 receive one log, logIndex=2
send cmd to 2, index=2
对于index=2日志, 有0个节点已经达成共识, 一共有2个节点
follower=1 will handle count=1, curIndex=1
follower=1 receive log, firstTerm=2, firstIndex=2, lastTerm=2, lastIndex=2
对于index=2日志, 有0个节点已经达成共识, 一共有2个节点
follower=1 will handle count=1, curIndex=2
follower=1 receive log, firstTerm=2, firstIndex=2, lastTerm=2, lastIndex=2
heart beat handle success, leader=2, me=1, term=2, myCommit=1, time=1705031310014
对于index=2日志, 有0个节点已经达成共识, 一共有2个节点
leader=2 refresh commit success, put logIndex=[2], rf.matchIndex=[1 2 2]
对于index=2日志, 有1个节点已经达成共识, 一共有2个节点
对于index=2日志, 有1个节点已经达成共识, 一共有2个节点
follower=1 refresh commit success, put logIndex=[2]
heart beat handle success, leader=2, me=1, term=2, myCommit=2, time=1705031310300
heart beat handle success, leader=2, me=1, term=2, myCommit=1, time=1705031310320
对于index=2日志, 有2个节点已经达成共识, 一共有2个节点
follower=1 refresh commit success, put logIndex=[2]
heart beat handle success, leader=2, me=1, term=2, myCommit=2, time=1705031310485
heart beat handle success, leader=2, me=1, term=2, myCommit=2, time=1705031310593
heart beat handle success, leader=2, me=1, term=2, myCommit=2, time=1705031310696
heart beat handle success, leader=2, me=1, term=2, myCommit=2, time=1705031310798
disconnect(2)
connect(0)
leader=0 receive one log, logIndex=5
send cmd to 0, index=5
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
id=0 change to follower from leader
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
心跳超时, id=1, time=1705031311363
id=1 vote to itself, term=3, time=1705031311363
id=1 send to id=2
id=1 send to id=0
id=1 become leader, lastLogIdx=2, leaderCommit=2
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
follower=0's logs are diff from leader, need to sync
follower=0 will handle count=1, curIndex=2
follower=0 refresh commit success, put logIndex=[2]
follower=0 receive log, firstTerm=2, firstIndex=2, lastTerm=2, lastIndex=2
heart beat handle success, leader=1, me=0, term=3, myCommit=2, time=1705031311435
heart beat handle success, leader=1, me=0, term=3, myCommit=2, time=1705031311536
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=1, me=0, term=3, myCommit=2, time=1705031311684
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=1, me=0, term=3, myCommit=2, time=1705031312009
heart beat handle success, leader=1, me=0, term=3, myCommit=2, time=1705031312046
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=1, me=0, term=3, myCommit=2, time=1705031312149
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=1, me=0, term=3, myCommit=2, time=1705031312252
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=1, me=0, term=3, myCommit=2, time=1705031312569
heart beat handle success, leader=1, me=0, term=3, myCommit=2, time=1705031312639
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
对于index=5日志, 有0个节点已经达成共识, 一共有2个节点
heart beat handle success, leader=1, me=0, term=3, myCommit=2, time=1705031312963
heart beat handle success, leader=1, me=0, term=3, myCommit=2, time=1705031312993
leader=1 receive one log, logIndex=3
send cmd to 1, index=3
对于index=3日志, 有0个节点已经达成共识, 一共有2个节点
follower=0 will handle count=1, curIndex=2
follower=0 receive log, firstTerm=3, firstIndex=3, lastTerm=3, lastIndex=3
对于index=3日志, 有0个节点已经达成共识, 一共有2个节点
follower=0 refresh commit success, put logIndex=[3]
heart beat handle success, leader=1, me=0, term=3, myCommit=3, time=1705031313195
leader=1 refresh commit success, put logIndex=[3], rf.matchIndex=[3 3 2]
对于index=3日志, 有2个节点已经达成共识, 一共有2个节点
connect(2)
leader=1 receive one log, logIndex=4
send cmd to 1, index=4
对于index=4日志, 有0个节点已经达成共识, 一共有3个节点
id=2 change to follower from leader
follower=2 will handle count=2, curIndex=2
follower=2 refresh commit success, put logIndex=[3]
follower=2 receive log, firstTerm=3, firstIndex=3, lastTerm=3, lastIndex=4
follower=2 will handle count=1, curIndex=4
follower=2 receive log, firstTerm=3, firstIndex=3, lastTerm=3, lastIndex=3
对于index=4日志, 有1个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=3
follower=0 refresh commit success, put logIndex=[4]
follower=0 receive log, firstTerm=3, firstIndex=4, lastTerm=3, lastIndex=4
leader=1 refresh commit success, put logIndex=[4], rf.matchIndex=[3 4 4]
对于index=4日志, 有2个节点已经达成共识, 一共有3个节点
follower=2's logs are diff from leader, need to sync
server=2 currentTerm=3 > args.Term=3, vote reject
对于index=4日志, 有2个节点已经达成共识, 一共有3个节点
follower=2's logs are diff from leader, need to sync
follower=2 will handle count=1, curIndex=3
follower=2 refresh commit success, put logIndex=[3 4]
follower=2 receive log, firstTerm=3, firstIndex=4, lastTerm=3, lastIndex=4
对于index=4日志, 有3个节点已经达成共识, 一共有3个节点
  ... Passed --   5.8  3  117   40281    4
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
disconnect(3)
make an entry id=3
disconnect(4)
make an entry id=4
connect(0)
connect(1)
connect(2)
connect(3)
connect(4)
Test (2B): leader backs up quickly over incorrect follower logs ...
选举超时, id=4, time=1705031313904
id=4 vote to itself, term=1, time=1705031313905
id=4 send to id=0
id=4 send to id=1
id=4 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=4, me=3, term=1, myCommit=0, time=1705031313906
id=4 send to id=2
id=4 send to id=3
heart beat handle success, leader=4, me=0, term=1, myCommit=0, time=1705031313906
heart beat handle success, leader=4, me=1, term=1, myCommit=0, time=1705031313906
heart beat handle success, leader=4, me=2, term=1, myCommit=0, time=1705031313907
heart beat handle success, leader=4, me=3, term=1, myCommit=0, time=1705031313907
heart beat handle success, leader=4, me=0, term=1, myCommit=0, time=1705031313907
heart beat handle success, leader=4, me=1, term=1, myCommit=0, time=1705031313907
heart beat handle success, leader=4, me=2, term=1, myCommit=0, time=1705031313907
心跳超时, id=0, time=1705031313999
id=0 vote to itself, term=4, time=1705031314000
id=0 send to id=2
id=0 send to id=1
heart beat handle success, leader=4, me=0, term=1, myCommit=0, time=1705031314008
heart beat handle success, leader=4, me=1, term=1, myCommit=0, time=1705031314008
heart beat handle success, leader=4, me=3, term=1, myCommit=0, time=1705031314008
heart beat handle success, leader=4, me=2, term=1, myCommit=0, time=1705031314011
选举超时, id=3, time=1705031313890
leader=4 receive one log, logIndex=1
send cmd to 4, index=1
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
心跳超时, id=2, time=1705031314151
id=2 vote to itself, term=4, time=1705031314151
id=2 send to id=1
follower=3 will handle count=1, curIndex=0
follower=1 will handle count=1, curIndex=0
follower=0 will handle count=1, curIndex=0
id=2 send to id=0
leader=4 refresh commit success, put logIndex=[1], rf.matchIndex=[1 1 0 1 1]
对于index=1日志, 有0个节点已经达成共识, 一共有5个节点
follower=3 refresh commit success, put logIndex=[1]
heart beat handle success, leader=4, me=3, term=1, myCommit=1, time=1705031314272
follower=1 refresh commit success, put logIndex=[1]
heart beat handle success, leader=4, me=1, term=1, myCommit=1, time=1705031314277
follower=2 will handle count=1, curIndex=0
follower=0 refresh commit success, put logIndex=[1]
heart beat handle success, leader=4, me=0, term=1, myCommit=1, time=1705031314316
follower=2 will handle count=1, curIndex=1
follower=2 sync hole leader=4's log
对于index=1日志, 有4个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=4, me=1, term=1, myCommit=1, time=1705031314378
follower=2 refresh commit success, put logIndex=[1]
heart beat handle success, leader=4, me=2, term=1, myCommit=1, time=1705031314397
heart beat handle success, leader=4, me=0, term=1, myCommit=1, time=1705031314418
对于index=1日志, 有5个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=4, me=0, term=1, myCommit=1, time=1705031314518
heart beat handle success, leader=4, me=3, term=1, myCommit=1, time=1705031314528
heart beat handle success, leader=4, me=1, term=1, myCommit=1, time=1705031314585
heart beat handle success, leader=4, me=3, term=1, myCommit=1, time=1705031314588
heart beat handle success, leader=4, me=0, term=1, myCommit=1, time=1705031314619
heart beat handle success, leader=4, me=2, term=1, myCommit=1, time=1705031314664
heart beat handle success, leader=4, me=1, term=1, myCommit=1, time=1705031314665
heart beat handle success, leader=4, me=3, term=1, myCommit=1, time=1705031314693
heart beat handle success, leader=4, me=0, term=1, myCommit=1, time=1705031314724
heart beat handle success, leader=4, me=2, term=1, myCommit=1, time=1705031314745
heart beat handle success, leader=4, me=1, term=1, myCommit=1, time=1705031314816
heart beat handle success, leader=4, me=0, term=1, myCommit=1, time=1705031314834
heart beat handle success, leader=4, me=3, term=1, myCommit=1, time=1705031314894
heart beat handle success, leader=4, me=2, term=1, myCommit=1, time=1705031314925
heart beat handle success, leader=4, me=1, term=1, myCommit=1, time=1705031314933
disconnect(1)
disconnect(2)
disconnect(3)
leader=4 receive one log, logIndex=2
leader=4 receive one log, logIndex=3
leader=4 receive one log, logIndex=4
leader=4 receive one log, logIndex=5
leader=4 receive one log, logIndex=6
leader=4 receive one log, logIndex=7
leader=4 receive one log, logIndex=8
leader=4 receive one log, logIndex=9
leader=4 receive one log, logIndex=10
leader=4 receive one log, logIndex=11
leader=4 receive one log, logIndex=12
leader=4 receive one log, logIndex=13
leader=4 receive one log, logIndex=14
leader=4 receive one log, logIndex=15
leader=4 receive one log, logIndex=16
leader=4 receive one log, logIndex=17
leader=4 receive one log, logIndex=18
leader=4 receive one log, logIndex=19
leader=4 receive one log, logIndex=20
leader=4 receive one log, logIndex=21
leader=4 receive one log, logIndex=22
leader=4 receive one log, logIndex=23
leader=4 receive one log, logIndex=24
leader=4 receive one log, logIndex=25
leader=4 receive one log, logIndex=26
leader=4 receive one log, logIndex=27
leader=4 receive one log, logIndex=28
leader=4 receive one log, logIndex=29
leader=4 receive one log, logIndex=30
leader=4 receive one log, logIndex=31
leader=4 receive one log, logIndex=32
leader=4 receive one log, logIndex=33
leader=4 receive one log, logIndex=34
leader=4 receive one log, logIndex=35
leader=4 receive one log, logIndex=36
leader=4 receive one log, logIndex=37
leader=4 receive one log, logIndex=38
leader=4 receive one log, logIndex=39
leader=4 receive one log, logIndex=40
leader=4 receive one log, logIndex=41
leader=4 receive one log, logIndex=42
leader=4 receive one log, logIndex=43
leader=4 receive one log, logIndex=44
leader=4 receive one log, logIndex=45
leader=4 receive one log, logIndex=46
leader=4 receive one log, logIndex=47
leader=4 receive one log, logIndex=48
leader=4 receive one log, logIndex=49
leader=4 receive one log, logIndex=50
leader=4 receive one log, logIndex=51
follower=0 will handle count=50, curIndex=1
follower=0 receive log, firstTerm=1, firstIndex=2, lastTerm=1, lastIndex=51
heart beat handle success, leader=4, me=0, term=1, myCommit=1, time=1705031315098
heart beat handle success, leader=4, me=0, term=1, myCommit=1, time=1705031315200
disconnect(4)
disconnect(0)
connect(1)
connect(2)
connect(3)
心跳超时, id=3, time=1705031315415
id=3 vote to itself, term=2, time=1705031315415
id=3 send to id=1
id=3 send to id=4
id=3 send to id=2
id=3 become leader, lastLogIdx=1, leaderCommit=1
leader=3 receive one log, logIndex=2
send cmd to 3, index=2
对于index=2日志, 有0个节点已经达成共识, 一共有3个节点
id=3 send to id=0
follower=1 will handle count=1, curIndex=1
follower=1 receive log, firstTerm=2, firstIndex=2, lastTerm=2, lastIndex=2
follower=1 will handle count=1, curIndex=2
follower=1 receive log, firstTerm=2, firstIndex=2, lastTerm=2, lastIndex=2
heart beat handle success, leader=3, me=1, term=2, myCommit=1, time=1705031315548
follower=2 will handle count=1, curIndex=1
follower=2 receive log, firstTerm=2, firstIndex=2, lastTerm=2, lastIndex=2
follower=2 will handle count=1, curIndex=2
follower=2 receive log, firstTerm=2, firstIndex=2, lastTerm=2, lastIndex=2
heart beat handle success, leader=3, me=2, term=2, myCommit=1, time=1705031315549
对于index=2日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=2, term=2, myCommit=1, time=1705031315651
heart beat handle success, leader=3, me=1, term=2, myCommit=1, time=1705031315653
对于index=2日志, 有0个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[2], rf.matchIndex=[1 2 2 2 1]
心跳超时, id=0, time=1705031315750
id=0 vote to itself, term=2, time=1705031315750
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
follower=1 refresh commit success, put logIndex=[2]
heart beat handle success, leader=3, me=1, term=2, myCommit=2, time=1705031315759
对于index=2日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=1, term=2, myCommit=2, time=1705031315878
follower=2 refresh commit success, put logIndex=[2]
heart beat handle success, leader=3, me=2, term=2, myCommit=2, time=1705031315907
对于index=2日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=3
send cmd to 3, index=3
对于index=3日志, 有0个节点已经达成共识, 一共有3个节点
对于index=3日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=2
follower=1 receive log, firstTerm=2, firstIndex=3, lastTerm=2, lastIndex=3
follower=2 will handle count=1, curIndex=2
follower=2 receive log, firstTerm=2, firstIndex=3, lastTerm=2, lastIndex=3
leader=3 refresh commit success, put logIndex=[3], rf.matchIndex=[1 3 3 3 1]
对于index=3日志, 有1个节点已经达成共识, 一共有3个节点
对于index=3日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[3]
heart beat handle success, leader=3, me=1, term=2, myCommit=3, time=1705031316328
follower=2 refresh commit success, put logIndex=[3]
heart beat handle success, leader=3, me=2, term=2, myCommit=3, time=1705031316332
对于index=3日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=4
send cmd to 3, index=4
对于index=4日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=3
follower=2 receive log, firstTerm=2, firstIndex=4, lastTerm=2, lastIndex=4
follower=1 will handle count=1, curIndex=3
follower=1 receive log, firstTerm=2, firstIndex=4, lastTerm=2, lastIndex=4
对于index=4日志, 有1个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[4], rf.matchIndex=[1 4 4 4 1]
heart beat handle success, leader=3, me=2, term=2, myCommit=3, time=1705031316481
心跳超时, id=0, time=1705031316497
id=0 vote to itself, term=3, time=1705031316499
id=0 send to id=4
id=0 send to id=2
id=0 send to id=3
对于index=4日志, 有1个节点已经达成共识, 一共有3个节点
id=0 send to id=1
follower=2 refresh commit success, put logIndex=[4]
heart beat handle success, leader=3, me=2, term=2, myCommit=4, time=1705031316583
follower=1 refresh commit success, put logIndex=[4]
heart beat handle success, leader=3, me=1, term=2, myCommit=4, time=1705031316584
对于index=4日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=5
send cmd to 3, index=5
对于index=5日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=4
follower=2 receive log, firstTerm=2, firstIndex=5, lastTerm=2, lastIndex=5
对于index=5日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=4
follower=1 receive log, firstTerm=2, firstIndex=5, lastTerm=2, lastIndex=5
leader=3 refresh commit success, put logIndex=[5], rf.matchIndex=[1 5 5 5 1]
对于index=5日志, 有1个节点已经达成共识, 一共有3个节点
对于index=5日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[5]
heart beat handle success, leader=3, me=2, term=2, myCommit=5, time=1705031316946
heart beat handle success, leader=3, me=2, term=2, myCommit=5, time=1705031317021
follower=1 refresh commit success, put logIndex=[5]
heart beat handle success, leader=3, me=1, term=2, myCommit=5, time=1705031317031
对于index=5日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=6
send cmd to 3, index=6
对于index=6日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=1, term=2, myCommit=5, time=1705031317090
对于index=6日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=5
follower=2 receive log, firstTerm=2, firstIndex=6, lastTerm=2, lastIndex=6
follower=1 will handle count=1, curIndex=5
follower=1 receive log, firstTerm=2, firstIndex=6, lastTerm=2, lastIndex=6
对于index=6日志, 有1个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[6], rf.matchIndex=[1 6 6 6 1]
heart beat handle success, leader=3, me=2, term=2, myCommit=5, time=1705031317316
心跳超时, id=0, time=1705031317297
id=0 vote to itself, term=4, time=1705031317343
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
id=0 send to id=4
对于index=6日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[6]
heart beat handle success, leader=3, me=2, term=2, myCommit=6, time=1705031317420
对于index=6日志, 有2个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[6]
heart beat handle success, leader=3, me=1, term=2, myCommit=6, time=1705031317518
heart beat handle success, leader=3, me=2, term=2, myCommit=6, time=1705031317528
对于index=6日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=7
send cmd to 3, index=7
对于index=7日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=1, term=2, myCommit=6, time=1705031317604
对于index=7日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=6
follower=2 receive log, firstTerm=2, firstIndex=7, lastTerm=2, lastIndex=7
follower=1 will handle count=1, curIndex=6
follower=1 receive log, firstTerm=2, firstIndex=7, lastTerm=2, lastIndex=7
对于index=7日志, 有0个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[7], rf.matchIndex=[1 7 7 7 1]
follower=1 refresh commit success, put logIndex=[7]
heart beat handle success, leader=3, me=1, term=2, myCommit=7, time=1705031317842
对于index=7日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[7]
heart beat handle success, leader=3, me=2, term=2, myCommit=7, time=1705031318018
对于index=7日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=2, term=2, myCommit=7, time=1705031318083
心跳超时, id=0, time=1705031318037
id=0 vote to itself, term=5, time=1705031318083
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
heart beat handle success, leader=3, me=1, term=2, myCommit=7, time=1705031318122
对于index=7日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=8
send cmd to 3, index=8
对于index=8日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=7
follower=2 receive log, firstTerm=2, firstIndex=8, lastTerm=2, lastIndex=8
对于index=8日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=7
follower=1 receive log, firstTerm=2, firstIndex=8, lastTerm=2, lastIndex=8
heart beat handle success, leader=3, me=2, term=2, myCommit=7, time=1705031318287
leader=3 refresh commit success, put logIndex=[8], rf.matchIndex=[1 8 8 8 1]
对于index=8日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[8]
heart beat handle success, leader=3, me=1, term=2, myCommit=8, time=1705031318372
follower=2 refresh commit success, put logIndex=[8]
heart beat handle success, leader=3, me=2, term=2, myCommit=8, time=1705031318388
对于index=8日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=9
send cmd to 3, index=9
对于index=9日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=8
follower=2 receive log, firstTerm=2, firstIndex=9, lastTerm=2, lastIndex=9
对于index=9日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=8
follower=1 receive log, firstTerm=2, firstIndex=9, lastTerm=2, lastIndex=9
leader=3 refresh commit success, put logIndex=[9], rf.matchIndex=[1 9 9 9 1]
对于index=9日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[9]
heart beat handle success, leader=3, me=1, term=2, myCommit=9, time=1705031318649
follower=2 refresh commit success, put logIndex=[9]
heart beat handle success, leader=3, me=2, term=2, myCommit=9, time=1705031318673
对于index=9日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=10
send cmd to 3, index=10
对于index=10日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=9
follower=1 receive log, firstTerm=2, firstIndex=10, lastTerm=2, lastIndex=10
follower=2 will handle count=1, curIndex=9
follower=2 receive log, firstTerm=2, firstIndex=10, lastTerm=2, lastIndex=10
心跳超时, id=0, time=1705031318843
id=0 vote to itself, term=6, time=1705031318843
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
对于index=10日志, 有0个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[10], rf.matchIndex=[1 10 10 10 1]
heart beat handle success, leader=3, me=1, term=2, myCommit=9, time=1705031318954
对于index=10日志, 有1个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=2, term=2, myCommit=9, time=1705031319003
follower=1 refresh commit success, put logIndex=[10]
heart beat handle success, leader=3, me=1, term=2, myCommit=10, time=1705031319067
对于index=10日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[10]
heart beat handle success, leader=3, me=2, term=2, myCommit=10, time=1705031319104
对于index=10日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=11
send cmd to 3, index=11
对于index=11日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=10
follower=2 receive log, firstTerm=2, firstIndex=11, lastTerm=2, lastIndex=11
follower=1 will handle count=1, curIndex=10
follower=1 receive log, firstTerm=2, firstIndex=11, lastTerm=2, lastIndex=11
leader=3 refresh commit success, put logIndex=[11], rf.matchIndex=[1 11 11 11 1]
对于index=11日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[11]
heart beat handle success, leader=3, me=2, term=2, myCommit=11, time=1705031319307
follower=1 refresh commit success, put logIndex=[11]
heart beat handle success, leader=3, me=1, term=2, myCommit=11, time=1705031319315
对于index=11日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=12
send cmd to 3, index=12
对于index=12日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=11
follower=1 receive log, firstTerm=2, firstIndex=12, lastTerm=2, lastIndex=12
follower=2 will handle count=1, curIndex=11
follower=2 receive log, firstTerm=2, firstIndex=12, lastTerm=2, lastIndex=12
对于index=12日志, 有0个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[12], rf.matchIndex=[1 12 12 12 1]
follower=2 refresh commit success, put logIndex=[12]
heart beat handle success, leader=3, me=2, term=2, myCommit=12, time=1705031319614
对于index=12日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[12]
heart beat handle success, leader=3, me=1, term=2, myCommit=12, time=1705031319632
心跳超时, id=0, time=1705031319636
id=0 vote to itself, term=7, time=1705031319636
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
heart beat handle success, leader=3, me=1, term=2, myCommit=12, time=1705031319734
heart beat handle success, leader=3, me=2, term=2, myCommit=12, time=1705031319753
对于index=12日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=13
send cmd to 3, index=13
对于index=13日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=12
follower=2 receive log, firstTerm=2, firstIndex=13, lastTerm=2, lastIndex=13
对于index=13日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=12
follower=1 receive log, firstTerm=2, firstIndex=13, lastTerm=2, lastIndex=13
对于index=13日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=13
follower=1 receive log, firstTerm=2, firstIndex=13, lastTerm=2, lastIndex=13
follower=2 will handle count=1, curIndex=13
follower=2 receive log, firstTerm=2, firstIndex=13, lastTerm=2, lastIndex=13
leader=3 refresh commit success, put logIndex=[13], rf.matchIndex=[1 13 13 13 1]
对于index=13日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[13]
heart beat handle success, leader=3, me=1, term=2, myCommit=13, time=1705031320157
对于index=13日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[13]
heart beat handle success, leader=3, me=2, term=2, myCommit=13, time=1705031320297
heart beat handle success, leader=3, me=1, term=2, myCommit=13, time=1705031320373
对于index=13日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=14
send cmd to 3, index=14
对于index=14日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=0, time=1705031320406
id=0 vote to itself, term=8, time=1705031320406
id=0 send to id=4
id=0 send to id=3
follower=1 will handle count=1, curIndex=13
follower=1 receive log, firstTerm=2, firstIndex=14, lastTerm=2, lastIndex=14
对于index=14日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=13
follower=2 receive log, firstTerm=2, firstIndex=14, lastTerm=2, lastIndex=14
id=0 send to id=1
leader=3 refresh commit success, put logIndex=[14], rf.matchIndex=[1 14 14 14 1]
id=0 send to id=2
对于index=14日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[14]
heart beat handle success, leader=3, me=1, term=2, myCommit=14, time=1705031320646
follower=2 refresh commit success, put logIndex=[14]
heart beat handle success, leader=3, me=2, term=2, myCommit=14, time=1705031320689
对于index=14日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=15
send cmd to 3, index=15
对于index=15日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=14
follower=1 receive log, firstTerm=2, firstIndex=15, lastTerm=2, lastIndex=15
follower=2 will handle count=1, curIndex=14
follower=2 receive log, firstTerm=2, firstIndex=15, lastTerm=2, lastIndex=15
对于index=15日志, 有1个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[15], rf.matchIndex=[1 15 15 15 1]
follower=1 refresh commit success, put logIndex=[15]
heart beat handle success, leader=3, me=1, term=2, myCommit=15, time=1705031320896
follower=2 refresh commit success, put logIndex=[15]
heart beat handle success, leader=3, me=2, term=2, myCommit=15, time=1705031320896
heart beat handle success, leader=3, me=2, term=2, myCommit=15, time=1705031320998
heart beat handle success, leader=3, me=1, term=2, myCommit=15, time=1705031321001
对于index=15日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=16
send cmd to 3, index=16
对于index=16日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=15
follower=2 receive log, firstTerm=2, firstIndex=16, lastTerm=2, lastIndex=16
follower=1 will handle count=1, curIndex=15
follower=1 receive log, firstTerm=2, firstIndex=16, lastTerm=2, lastIndex=16
对于index=16日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=0, time=1705031321162
id=0 vote to itself, term=9, time=1705031321162
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
leader=3 refresh commit success, put logIndex=[16], rf.matchIndex=[1 16 16 16 1]
对于index=16日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[16]
heart beat handle success, leader=3, me=2, term=2, myCommit=16, time=1705031321264
follower=1 refresh commit success, put logIndex=[16]
heart beat handle success, leader=3, me=1, term=2, myCommit=16, time=1705031321284
对于index=16日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=17
send cmd to 3, index=17
对于index=17日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=16
follower=2 receive log, firstTerm=2, firstIndex=17, lastTerm=2, lastIndex=17
follower=1 will handle count=1, curIndex=16
follower=1 receive log, firstTerm=2, firstIndex=17, lastTerm=2, lastIndex=17
对于index=17日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=2, term=2, myCommit=16, time=1705031321527
对于index=17日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=17
follower=1 receive log, firstTerm=2, firstIndex=17, lastTerm=2, lastIndex=17
heart beat handle success, leader=3, me=2, term=2, myCommit=16, time=1705031321677
leader=3 refresh commit success, put logIndex=[17], rf.matchIndex=[1 17 17 17 1]
对于index=17日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[17]
heart beat handle success, leader=3, me=2, term=2, myCommit=17, time=1705031321779
follower=1 refresh commit success, put logIndex=[17]
heart beat handle success, leader=3, me=1, term=2, myCommit=17, time=1705031321795
对于index=17日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=18
send cmd to 3, index=18
对于index=18日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=17
follower=1 receive log, firstTerm=2, firstIndex=18, lastTerm=2, lastIndex=18
follower=2 will handle count=1, curIndex=17
follower=2 receive log, firstTerm=2, firstIndex=18, lastTerm=2, lastIndex=18
对于index=18日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=1, term=2, myCommit=17, time=1705031321989
心跳超时, id=0, time=1705031321999
id=0 vote to itself, term=10, time=1705031321999
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
heart beat handle success, leader=3, me=2, term=2, myCommit=17, time=1705031322028
leader=3 refresh commit success, put logIndex=[18], rf.matchIndex=[1 18 18 18 1]
对于index=18日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[18]
heart beat handle success, leader=3, me=1, term=2, myCommit=18, time=1705031322160
heart beat handle success, leader=3, me=1, term=2, myCommit=18, time=1705031322266
对于index=18日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=1, term=2, myCommit=18, time=1705031322369
follower=2 refresh commit success, put logIndex=[18]
heart beat handle success, leader=3, me=2, term=2, myCommit=18, time=1705031322394
heart beat handle success, leader=3, me=2, term=2, myCommit=18, time=1705031322395
对于index=18日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=19
send cmd to 3, index=19
对于index=19日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=18
follower=1 receive log, firstTerm=2, firstIndex=19, lastTerm=2, lastIndex=19
follower=2 will handle count=1, curIndex=18
follower=2 receive log, firstTerm=2, firstIndex=19, lastTerm=2, lastIndex=19
leader=3 refresh commit success, put logIndex=[19], rf.matchIndex=[1 19 19 19 1]
对于index=19日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[19]
heart beat handle success, leader=3, me=2, term=2, myCommit=19, time=1705031322608
follower=1 refresh commit success, put logIndex=[19]
heart beat handle success, leader=3, me=1, term=2, myCommit=19, time=1705031322673
对于index=19日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=2, term=2, myCommit=19, time=1705031322711
heart beat handle success, leader=3, me=1, term=2, myCommit=19, time=1705031322804
对于index=19日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=20
send cmd to 3, index=20
对于index=20日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=0, time=1705031322868
id=0 vote to itself, term=11, time=1705031322868
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
id=0 send to id=4
heart beat handle success, leader=3, me=2, term=2, myCommit=19, time=1705031322979
follower=2 will handle count=1, curIndex=19
follower=2 receive log, firstTerm=2, firstIndex=20, lastTerm=2, lastIndex=20
对于index=20日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=19
follower=1 receive log, firstTerm=2, firstIndex=20, lastTerm=2, lastIndex=20
heart beat handle success, leader=3, me=2, term=2, myCommit=19, time=1705031323097
对于index=20日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=20
follower=1 receive log, firstTerm=2, firstIndex=20, lastTerm=2, lastIndex=20
heart beat handle success, leader=3, me=2, term=2, myCommit=19, time=1705031323230
leader=3 refresh commit success, put logIndex=[20], rf.matchIndex=[1 20 20 20 1]
follower=1 refresh commit success, put logIndex=[20]
heart beat handle success, leader=3, me=1, term=2, myCommit=20, time=1705031323282
对于index=20日志, 有1个节点已经达成共识, 一共有3个节点
对于index=20日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[20]
heart beat handle success, leader=3, me=2, term=2, myCommit=20, time=1705031323436
对于index=20日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=21
send cmd to 3, index=21
对于index=21日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=1, term=2, myCommit=20, time=1705031323500
follower=2 will handle count=1, curIndex=20
follower=2 receive log, firstTerm=2, firstIndex=21, lastTerm=2, lastIndex=21
对于index=21日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=20
follower=1 receive log, firstTerm=2, firstIndex=21, lastTerm=2, lastIndex=21
对于index=21日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=0, time=1705031323680
id=0 vote to itself, term=12, time=1705031323717
leader=3 refresh commit success, put logIndex=[21], rf.matchIndex=[1 21 21 21 1]
heart beat handle success, leader=3, me=2, term=2, myCommit=20, time=1705031323760
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
对于index=21日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[21]
heart beat handle success, leader=3, me=1, term=2, myCommit=21, time=1705031323808
follower=2 refresh commit success, put logIndex=[21]
heart beat handle success, leader=3, me=2, term=2, myCommit=21, time=1705031323895
对于index=21日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=22
send cmd to 3, index=22
对于index=22日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=21
follower=1 receive log, firstTerm=2, firstIndex=22, lastTerm=2, lastIndex=22
对于index=22日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=21
follower=2 receive log, firstTerm=2, firstIndex=22, lastTerm=2, lastIndex=22
leader=3 refresh commit success, put logIndex=[22], rf.matchIndex=[1 22 22 22 1]
follower=1 refresh commit success, put logIndex=[22]
heart beat handle success, leader=3, me=1, term=2, myCommit=22, time=1705031324083
对于index=22日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[22]
heart beat handle success, leader=3, me=2, term=2, myCommit=22, time=1705031324137
heart beat handle success, leader=3, me=1, term=2, myCommit=22, time=1705031324194
对于index=22日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=23
send cmd to 3, index=23
对于index=23日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=22
follower=2 receive log, firstTerm=2, firstIndex=23, lastTerm=2, lastIndex=23
follower=1 will handle count=1, curIndex=22
follower=1 receive log, firstTerm=2, firstIndex=23, lastTerm=2, lastIndex=23
对于index=23日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=2, term=2, myCommit=22, time=1705031324342
leader=3 refresh commit success, put logIndex=[23], rf.matchIndex=[1 23 23 23 1]
follower=1 refresh commit success, put logIndex=[23]
heart beat handle success, leader=3, me=1, term=2, myCommit=23, time=1705031324397
对于index=23日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[23]
heart beat handle success, leader=3, me=2, term=2, myCommit=23, time=1705031324442
心跳超时, id=0, time=1705031324525
id=0 vote to itself, term=13, time=1705031324525
对于index=23日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=24
send cmd to 3, index=24
对于index=24日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=23
follower=1 receive log, firstTerm=2, firstIndex=24, lastTerm=2, lastIndex=24
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
follower=2 will handle count=1, curIndex=23
follower=2 receive log, firstTerm=2, firstIndex=24, lastTerm=2, lastIndex=24
对于index=24日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=1, term=2, myCommit=23, time=1705031324651
heart beat handle success, leader=3, me=2, term=2, myCommit=23, time=1705031324725
id=0 send to id=4
leader=3 refresh commit success, put logIndex=[24], rf.matchIndex=[1 24 24 24 1]
对于index=24日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[24]
heart beat handle success, leader=3, me=1, term=2, myCommit=24, time=1705031324805
heart beat handle success, leader=3, me=1, term=2, myCommit=24, time=1705031324908
对于index=24日志, 有2个节点已经达成共识, 一共有3个节点
对于index=24日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[24]
heart beat handle success, leader=3, me=2, term=2, myCommit=24, time=1705031325020
heart beat handle success, leader=3, me=2, term=2, myCommit=24, time=1705031325034
对于index=24日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=25
send cmd to 3, index=25
对于index=25日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=1, term=2, myCommit=24, time=1705031325116
对于index=25日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=24
follower=2 receive log, firstTerm=2, firstIndex=25, lastTerm=2, lastIndex=25
follower=1 will handle count=1, curIndex=24
follower=1 receive log, firstTerm=2, firstIndex=25, lastTerm=2, lastIndex=25
心跳超时, id=0, time=1705031325261
id=0 vote to itself, term=14, time=1705031325261
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
leader=3 refresh commit success, put logIndex=[25], rf.matchIndex=[1 25 25 25 1]
对于index=25日志, 有1个节点已经达成共识, 一共有3个节点
对于index=25日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[25]
heart beat handle success, leader=3, me=2, term=2, myCommit=25, time=1705031325473
follower=1 refresh commit success, put logIndex=[25]
heart beat handle success, leader=3, me=1, term=2, myCommit=25, time=1705031325474
对于index=25日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=26
send cmd to 3, index=26
对于index=26日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=25
follower=2 receive log, firstTerm=2, firstIndex=26, lastTerm=2, lastIndex=26
对于index=26日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=2, term=2, myCommit=25, time=1705031325677
follower=1 will handle count=1, curIndex=25
follower=1 receive log, firstTerm=2, firstIndex=26, lastTerm=2, lastIndex=26
对于index=26日志, 有0个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[26], rf.matchIndex=[1 26 26 26 1]
对于index=26日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[26]
heart beat handle success, leader=3, me=1, term=2, myCommit=26, time=1705031325863
对于index=26日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=1, term=2, myCommit=26, time=1705031325964
follower=2 refresh commit success, put logIndex=[26]
heart beat handle success, leader=3, me=2, term=2, myCommit=26, time=1705031325997
heart beat handle success, leader=3, me=2, term=2, myCommit=26, time=1705031326023
心跳超时, id=0, time=1705031326065
id=0 vote to itself, term=15, time=1705031326065
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
heart beat handle success, leader=3, me=1, term=2, myCommit=26, time=1705031326067
对于index=26日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=27
send cmd to 3, index=27
对于index=27日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=26
follower=2 receive log, firstTerm=2, firstIndex=27, lastTerm=2, lastIndex=27
follower=1 will handle count=1, curIndex=26
follower=1 receive log, firstTerm=2, firstIndex=27, lastTerm=2, lastIndex=27
对于index=27日志, 有0个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[27], rf.matchIndex=[1 27 27 27 1]
follower=2 refresh commit success, put logIndex=[27]
heart beat handle success, leader=3, me=2, term=2, myCommit=27, time=1705031326304
follower=1 refresh commit success, put logIndex=[27]
heart beat handle success, leader=3, me=1, term=2, myCommit=27, time=1705031326317
对于index=27日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=28
send cmd to 3, index=28
对于index=28日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=27
follower=2 receive log, firstTerm=2, firstIndex=28, lastTerm=2, lastIndex=28
follower=1 will handle count=1, curIndex=27
follower=1 receive log, firstTerm=2, firstIndex=28, lastTerm=2, lastIndex=28
对于index=28日志, 有1个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=2, term=2, myCommit=27, time=1705031326506
heart beat handle success, leader=3, me=1, term=2, myCommit=27, time=1705031326541
leader=3 refresh commit success, put logIndex=[28], rf.matchIndex=[1 28 28 28 1]
对于index=28日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[28]
heart beat handle success, leader=3, me=2, term=2, myCommit=28, time=1705031326608
对于index=28日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=2, term=2, myCommit=28, time=1705031326761
follower=1 refresh commit success, put logIndex=[28]
heart beat handle success, leader=3, me=1, term=2, myCommit=28, time=1705031326781
对于index=28日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=29
send cmd to 3, index=29
对于index=29日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=28
follower=1 receive log, firstTerm=2, firstIndex=29, lastTerm=2, lastIndex=29
心跳超时, id=0, time=1705031326882
id=0 vote to itself, term=16, time=1705031326882
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
follower=2 will handle count=1, curIndex=28
follower=2 receive log, firstTerm=2, firstIndex=29, lastTerm=2, lastIndex=29
对于index=29日志, 有0个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[29], rf.matchIndex=[1 29 29 29 1]
follower=1 refresh commit success, put logIndex=[29]
heart beat handle success, leader=3, me=1, term=2, myCommit=29, time=1705031327007
对于index=29日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[29]
heart beat handle success, leader=3, me=2, term=2, myCommit=29, time=1705031327050
heart beat handle success, leader=3, me=1, term=2, myCommit=29, time=1705031327113
对于index=29日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=30
send cmd to 3, index=30
对于index=30日志, 有0个节点已经达成共识, 一共有3个节点
对于index=30日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=29
follower=1 receive log, firstTerm=2, firstIndex=30, lastTerm=2, lastIndex=30
heart beat handle success, leader=3, me=2, term=2, myCommit=29, time=1705031327340
follower=2 will handle count=1, curIndex=29
follower=2 receive log, firstTerm=2, firstIndex=30, lastTerm=2, lastIndex=30
对于index=30日志, 有0个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[30], rf.matchIndex=[1 30 30 30 1]
对于index=30日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[30]
heart beat handle success, leader=3, me=2, term=2, myCommit=30, time=1705031327484
follower=1 refresh commit success, put logIndex=[30]
heart beat handle success, leader=3, me=1, term=2, myCommit=30, time=1705031327486
heart beat handle success, leader=3, me=2, term=2, myCommit=30, time=1705031327588
heart beat handle success, leader=3, me=1, term=2, myCommit=30, time=1705031327589
对于index=30日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=31
send cmd to 3, index=31
对于index=31日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=30
follower=2 receive log, firstTerm=2, firstIndex=31, lastTerm=2, lastIndex=31
心跳超时, id=0, time=1705031327684
id=0 vote to itself, term=17, time=1705031327734
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
对于index=31日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=2, term=2, myCommit=30, time=1705031327792
follower=1 will handle count=1, curIndex=30
follower=1 receive log, firstTerm=2, firstIndex=31, lastTerm=2, lastIndex=31
对于index=31日志, 有0个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[31], rf.matchIndex=[1 31 31 31 1]
follower=2 refresh commit success, put logIndex=[31]
heart beat handle success, leader=3, me=2, term=2, myCommit=31, time=1705031327915
对于index=31日志, 有2个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[31]
heart beat handle success, leader=3, me=1, term=2, myCommit=31, time=1705031328014
heart beat handle success, leader=3, me=2, term=2, myCommit=31, time=1705031328017
对于index=31日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=32
send cmd to 3, index=32
对于index=32日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=31
follower=2 receive log, firstTerm=2, firstIndex=32, lastTerm=2, lastIndex=32
follower=1 will handle count=1, curIndex=31
follower=1 receive log, firstTerm=2, firstIndex=32, lastTerm=2, lastIndex=32
对于index=32日志, 有0个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[32], rf.matchIndex=[1 32 32 32 1]
对于index=32日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[32]
heart beat handle success, leader=3, me=1, term=2, myCommit=32, time=1705031328346
follower=2 refresh commit success, put logIndex=[32]
heart beat handle success, leader=3, me=2, term=2, myCommit=32, time=1705031328372
heart beat handle success, leader=3, me=2, term=2, myCommit=32, time=1705031328440
heart beat handle success, leader=3, me=1, term=2, myCommit=32, time=1705031328444
对于index=32日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=33
send cmd to 3, index=33
对于index=33日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=32
follower=2 receive log, firstTerm=2, firstIndex=33, lastTerm=2, lastIndex=33
follower=1 will handle count=1, curIndex=32
follower=1 receive log, firstTerm=2, firstIndex=33, lastTerm=2, lastIndex=33
对于index=33日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=2, term=2, myCommit=32, time=1705031328643
heart beat handle success, leader=3, me=1, term=2, myCommit=32, time=1705031328648
心跳超时, id=0, time=1705031328570
id=0 vote to itself, term=18, time=1705031328672
id=0 send to id=4
id=0 send to id=2
id=0 send to id=1
id=0 send to id=3
对于index=33日志, 有1个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[33], rf.matchIndex=[1 33 33 33 1]
follower=2 refresh commit success, put logIndex=[33]
heart beat handle success, leader=3, me=2, term=2, myCommit=33, time=1705031328748
follower=1 refresh commit success, put logIndex=[33]
heart beat handle success, leader=3, me=1, term=2, myCommit=33, time=1705031328765
对于index=33日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=34
send cmd to 3, index=34
对于index=34日志, 有0个节点已经达成共识, 一共有3个节点
对于index=34日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=33
follower=1 receive log, firstTerm=2, firstIndex=34, lastTerm=2, lastIndex=34
follower=2 will handle count=1, curIndex=33
follower=2 receive log, firstTerm=2, firstIndex=34, lastTerm=2, lastIndex=34
对于index=34日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=34
follower=2 receive log, firstTerm=2, firstIndex=34, lastTerm=2, lastIndex=34
heart beat handle success, leader=3, me=1, term=2, myCommit=33, time=1705031329098
对于index=34日志, 有0个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[34], rf.matchIndex=[1 34 34 34 1]
follower=1 refresh commit success, put logIndex=[34]
heart beat handle success, leader=3, me=1, term=2, myCommit=34, time=1705031329239
对于index=34日志, 有2个节点已经达成共识, 一共有3个节点
对于index=34日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[34]
heart beat handle success, leader=3, me=2, term=2, myCommit=34, time=1705031329379
heart beat handle success, leader=3, me=1, term=2, myCommit=34, time=1705031329424
对于index=34日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=35
send cmd to 3, index=35
对于index=35日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=1, term=2, myCommit=34, time=1705031329548
heart beat handle success, leader=3, me=2, term=2, myCommit=34, time=1705031329549
心跳超时, id=0, time=1705031329499
id=0 vote to itself, term=19, time=1705031329569
id=0 send to id=4
id=0 send to id=1
对于index=35日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=34
follower=2 receive log, firstTerm=2, firstIndex=35, lastTerm=2, lastIndex=35
follower=1 will handle count=1, curIndex=34
follower=1 receive log, firstTerm=2, firstIndex=35, lastTerm=2, lastIndex=35
id=0 send to id=2
id=0 send to id=3
leader=3 refresh commit success, put logIndex=[35], rf.matchIndex=[1 35 35 35 1]
对于index=35日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[35]
heart beat handle success, leader=3, me=1, term=2, myCommit=35, time=1705031329756
follower=2 refresh commit success, put logIndex=[35]
heart beat handle success, leader=3, me=2, term=2, myCommit=35, time=1705031329797
对于index=35日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=36
send cmd to 3, index=36
对于index=36日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=35
follower=1 receive log, firstTerm=2, firstIndex=36, lastTerm=2, lastIndex=36
对于index=36日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=35
follower=2 receive log, firstTerm=2, firstIndex=36, lastTerm=2, lastIndex=36
对于index=36日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=36
follower=1 receive log, firstTerm=2, firstIndex=36, lastTerm=2, lastIndex=36
heart beat handle success, leader=3, me=2, term=2, myCommit=35, time=1705031330158
leader=3 refresh commit success, put logIndex=[36], rf.matchIndex=[1 36 36 36 1]
对于index=36日志, 有1个节点已经达成共识, 一共有3个节点
对于index=36日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[36]
heart beat handle success, leader=3, me=1, term=2, myCommit=36, time=1705031330285
follower=2 refresh commit success, put logIndex=[36]
heart beat handle success, leader=3, me=2, term=2, myCommit=36, time=1705031330292
心跳超时, id=0, time=1705031330315
id=0 vote to itself, term=20, time=1705031330316
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
heart beat handle success, leader=3, me=1, term=2, myCommit=36, time=1705031330385
对于index=36日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=37
send cmd to 3, index=37
对于index=37日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=36
follower=2 receive log, firstTerm=2, firstIndex=37, lastTerm=2, lastIndex=37
follower=1 will handle count=1, curIndex=36
follower=1 receive log, firstTerm=2, firstIndex=37, lastTerm=2, lastIndex=37
对于index=37日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=2, term=2, myCommit=36, time=1705031330546
leader=3 refresh commit success, put logIndex=[37], rf.matchIndex=[1 37 37 37 1]
follower=1 refresh commit success, put logIndex=[37]
heart beat handle success, leader=3, me=1, term=2, myCommit=37, time=1705031330600
follower=2 refresh commit success, put logIndex=[37]
heart beat handle success, leader=3, me=2, term=2, myCommit=37, time=1705031330648
对于index=37日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=1, term=2, myCommit=37, time=1705031330725
heart beat handle success, leader=3, me=2, term=2, myCommit=37, time=1705031330750
对于index=37日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=38
send cmd to 3, index=38
对于index=38日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=37
follower=2 receive log, firstTerm=2, firstIndex=38, lastTerm=2, lastIndex=38
follower=1 will handle count=1, curIndex=37
follower=1 receive log, firstTerm=2, firstIndex=38, lastTerm=2, lastIndex=38
leader=3 refresh commit success, put logIndex=[38], rf.matchIndex=[1 38 38 38 1]
对于index=38日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[38]
heart beat handle success, leader=3, me=2, term=2, myCommit=38, time=1705031330999
follower=1 refresh commit success, put logIndex=[38]
heart beat handle success, leader=3, me=1, term=2, myCommit=38, time=1705031331002
对于index=38日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=39
send cmd to 3, index=39
对于index=39日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=0, time=1705031331079
id=0 vote to itself, term=21, time=1705031331081
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
follower=1 will handle count=1, curIndex=38
follower=1 receive log, firstTerm=2, firstIndex=39, lastTerm=2, lastIndex=39
对于index=39日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=38
follower=2 receive log, firstTerm=2, firstIndex=39, lastTerm=2, lastIndex=39
对于index=39日志, 有1个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[39], rf.matchIndex=[1 39 39 39 1]
follower=1 refresh commit success, put logIndex=[39]
heart beat handle success, leader=3, me=1, term=2, myCommit=39, time=1705031331285
follower=2 refresh commit success, put logIndex=[39]
heart beat handle success, leader=3, me=2, term=2, myCommit=39, time=1705031331314
对于index=39日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=40
send cmd to 3, index=40
对于index=40日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=39
follower=1 receive log, firstTerm=2, firstIndex=40, lastTerm=2, lastIndex=40
对于index=40日志, 有0个节点已经达成共识, 一共有3个节点
对于index=40日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=1, term=2, myCommit=39, time=1705031331608
follower=2 will handle count=1, curIndex=39
follower=2 receive log, firstTerm=2, firstIndex=40, lastTerm=2, lastIndex=40
对于index=40日志, 有0个节点已经达成共识, 一共有3个节点
对于index=40日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=1, term=2, myCommit=39, time=1705031331759
follower=2 will handle count=1, curIndex=40
follower=2 receive log, firstTerm=2, firstIndex=40, lastTerm=2, lastIndex=40
leader=3 refresh commit success, put logIndex=[40], rf.matchIndex=[1 40 40 40 1]
对于index=40日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[40]
heart beat handle success, leader=3, me=2, term=2, myCommit=40, time=1705031331912
心跳超时, id=0, time=1705031331870
id=0 vote to itself, term=22, time=1705031331925
id=0 send to id=4
id=0 send to id=2
id=0 send to id=1
id=0 send to id=3
对于index=40日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=1, term=2, myCommit=39, time=1705031332032
follower=1 refresh commit success, put logIndex=[40]
heart beat handle success, leader=3, me=1, term=2, myCommit=40, time=1705031332077
对于index=40日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=41
send cmd to 3, index=41
对于index=41日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=40
follower=2 receive log, firstTerm=2, firstIndex=41, lastTerm=2, lastIndex=41
follower=1 will handle count=1, curIndex=40
follower=1 receive log, firstTerm=2, firstIndex=41, lastTerm=2, lastIndex=41
heart beat handle success, leader=3, me=2, term=2, myCommit=40, time=1705031332250
leader=3 refresh commit success, put logIndex=[41], rf.matchIndex=[1 41 41 41 1]
对于index=41日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[41]
heart beat handle success, leader=3, me=1, term=2, myCommit=41, time=1705031332347
follower=2 refresh commit success, put logIndex=[41]
heart beat handle success, leader=3, me=2, term=2, myCommit=41, time=1705031332353
对于index=41日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=42
send cmd to 3, index=42
对于index=42日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=41
follower=1 receive log, firstTerm=2, firstIndex=42, lastTerm=2, lastIndex=42
对于index=42日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=41
follower=2 receive log, firstTerm=2, firstIndex=42, lastTerm=2, lastIndex=42
follower=2 will handle count=1, curIndex=42
follower=2 receive log, firstTerm=2, firstIndex=42, lastTerm=2, lastIndex=42
heart beat handle success, leader=3, me=1, term=2, myCommit=41, time=1705031332653
对于index=42日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=0, time=1705031332689
id=0 vote to itself, term=23, time=1705031332689
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
leader=3 refresh commit success, put logIndex=[42], rf.matchIndex=[1 42 42 42 1]
follower=1 refresh commit success, put logIndex=[42]
heart beat handle success, leader=3, me=1, term=2, myCommit=42, time=1705031332754
对于index=42日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[42]
heart beat handle success, leader=3, me=2, term=2, myCommit=42, time=1705031332799
heart beat handle success, leader=3, me=1, term=2, myCommit=42, time=1705031332892
对于index=42日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=43
send cmd to 3, index=43
对于index=43日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=2, term=2, myCommit=42, time=1705031333024
follower=1 will handle count=1, curIndex=42
follower=1 receive log, firstTerm=2, firstIndex=43, lastTerm=2, lastIndex=43
对于index=43日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=42
follower=2 receive log, firstTerm=2, firstIndex=43, lastTerm=2, lastIndex=43
leader=3 refresh commit success, put logIndex=[43], rf.matchIndex=[1 43 43 43 1]
follower=1 refresh commit success, put logIndex=[43]
heart beat handle success, leader=3, me=1, term=2, myCommit=43, time=1705031333131
对于index=43日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[43]
heart beat handle success, leader=3, me=2, term=2, myCommit=43, time=1705031333186
heart beat handle success, leader=3, me=1, term=2, myCommit=43, time=1705031333277
对于index=43日志, 有3个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=2, term=2, myCommit=43, time=1705031333287
leader=3 receive one log, logIndex=44
send cmd to 3, index=44
对于index=44日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=43
follower=1 receive log, firstTerm=2, firstIndex=44, lastTerm=2, lastIndex=44
follower=2 will handle count=1, curIndex=43
follower=2 receive log, firstTerm=2, firstIndex=44, lastTerm=2, lastIndex=44
leader=3 refresh commit success, put logIndex=[44], rf.matchIndex=[1 44 44 44 1]
对于index=44日志, 有1个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[44]
heart beat handle success, leader=3, me=1, term=2, myCommit=44, time=1705031333485
follower=2 refresh commit success, put logIndex=[44]
heart beat handle success, leader=3, me=2, term=2, myCommit=44, time=1705031333492
心跳超时, id=0, time=1705031333530
id=0 vote to itself, term=24, time=1705031333530
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
对于index=44日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=45
send cmd to 3, index=45
对于index=45日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=44
follower=1 receive log, firstTerm=2, firstIndex=45, lastTerm=2, lastIndex=45
follower=2 will handle count=1, curIndex=44
follower=2 receive log, firstTerm=2, firstIndex=45, lastTerm=2, lastIndex=45
对于index=45日志, 有0个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[45], rf.matchIndex=[1 45 45 45 1]
follower=1 refresh commit success, put logIndex=[45]
heart beat handle success, leader=3, me=1, term=2, myCommit=45, time=1705031333729
对于index=45日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[45]
heart beat handle success, leader=3, me=2, term=2, myCommit=45, time=1705031333813
对于index=45日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=46
send cmd to 3, index=46
对于index=46日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=45
follower=1 receive log, firstTerm=2, firstIndex=46, lastTerm=2, lastIndex=46
对于index=46日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=45
follower=2 receive log, firstTerm=2, firstIndex=46, lastTerm=2, lastIndex=46
heart beat handle success, leader=3, me=1, term=2, myCommit=45, time=1705031334056
对于index=46日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=46
follower=2 receive log, firstTerm=2, firstIndex=46, lastTerm=2, lastIndex=46
heart beat handle success, leader=3, me=1, term=2, myCommit=45, time=1705031334200
leader=3 refresh commit success, put logIndex=[46], rf.matchIndex=[1 46 46 46 1]
follower=2 refresh commit success, put logIndex=[46]
heart beat handle success, leader=3, me=2, term=2, myCommit=46, time=1705031334237
对于index=46日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[46]
heart beat handle success, leader=3, me=1, term=2, myCommit=46, time=1705031334302
heart beat handle success, leader=3, me=2, term=2, myCommit=46, time=1705031334339
心跳超时, id=0, time=1705031334380
id=0 vote to itself, term=25, time=1705031334381
对于index=46日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=47
send cmd to 3, index=47
对于index=47日志, 有0个节点已经达成共识, 一共有3个节点
id=0 send to id=2
id=0 send to id=3
follower=2 will handle count=1, curIndex=46
follower=2 receive log, firstTerm=2, firstIndex=47, lastTerm=2, lastIndex=47
id=0 send to id=1
对于index=47日志, 有0个节点已经达成共识, 一共有3个节点
id=0 send to id=4
follower=1 will handle count=1, curIndex=46
follower=1 receive log, firstTerm=2, firstIndex=47, lastTerm=2, lastIndex=47
heart beat handle success, leader=3, me=2, term=2, myCommit=46, time=1705031334688
对于index=47日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=47
follower=1 receive log, firstTerm=2, firstIndex=47, lastTerm=2, lastIndex=47
heart beat handle success, leader=3, me=2, term=2, myCommit=46, time=1705031334776
对于index=47日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=2, term=2, myCommit=46, time=1705031334879
对于index=47日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=2, term=2, myCommit=46, time=1705031334979
follower=1 will handle count=1, curIndex=47
follower=1 receive log, firstTerm=2, firstIndex=47, lastTerm=2, lastIndex=47
leader=3 refresh commit success, put logIndex=[47], rf.matchIndex=[1 47 47 47 1]
对于index=47日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 refresh commit success, put logIndex=[47]
heart beat handle success, leader=3, me=1, term=2, myCommit=47, time=1705031335151
对于index=47日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[47]
heart beat handle success, leader=3, me=2, term=2, myCommit=47, time=1705031335199
heart beat handle success, leader=3, me=2, term=2, myCommit=47, time=1705031335262
对于index=47日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=48
send cmd to 3, index=48
对于index=48日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=0, time=1705031335260
id=0 vote to itself, term=26, time=1705031335301
id=0 send to id=4
id=0 send to id=2
id=0 send to id=1
id=0 send to id=3
follower=1 will handle count=1, curIndex=47
follower=1 receive log, firstTerm=2, firstIndex=48, lastTerm=2, lastIndex=48
对于index=48日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=1, term=2, myCommit=47, time=1705031335459
对于index=48日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=47
follower=2 receive log, firstTerm=2, firstIndex=48, lastTerm=2, lastIndex=48
heart beat handle success, leader=3, me=1, term=2, myCommit=47, time=1705031335559
follower=2 will handle count=1, curIndex=48
follower=2 receive log, firstTerm=2, firstIndex=48, lastTerm=2, lastIndex=48
对于index=48日志, 有0个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[48], rf.matchIndex=[1 48 48 48 1]
follower=1 refresh commit success, put logIndex=[48]
heart beat handle success, leader=3, me=1, term=2, myCommit=48, time=1705031335753
对于index=48日志, 有1个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=1, term=2, myCommit=48, time=1705031335858
对于index=48日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[48]
heart beat handle success, leader=3, me=2, term=2, myCommit=48, time=1705031335997
heart beat handle success, leader=3, me=2, term=2, myCommit=48, time=1705031336006
heart beat handle success, leader=3, me=1, term=2, myCommit=48, time=1705031336009
对于index=48日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=49
send cmd to 3, index=49
对于index=49日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=48
follower=1 receive log, firstTerm=2, firstIndex=49, lastTerm=2, lastIndex=49
对于index=49日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=48
follower=2 receive log, firstTerm=2, firstIndex=49, lastTerm=2, lastIndex=49
heart beat handle success, leader=3, me=1, term=2, myCommit=48, time=1705031336266
心跳超时, id=0, time=1705031336134
id=0 vote to itself, term=27, time=1705031336295
id=0 send to id=4
id=0 send to id=3
id=0 send to id=1
id=0 send to id=2
对于index=49日志, 有1个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[49]
heart beat handle success, leader=3, me=2, term=2, myCommit=49, time=1705031336332
leader=3 refresh commit success, put logIndex=[49], rf.matchIndex=[1 49 49 49 1]
follower=1 refresh commit success, put logIndex=[49]
heart beat handle success, leader=3, me=1, term=2, myCommit=49, time=1705031336370
对于index=49日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=50
send cmd to 3, index=50
对于index=50日志, 有0个节点已经达成共识, 一共有3个节点
follower=1 will handle count=1, curIndex=49
follower=1 receive log, firstTerm=2, firstIndex=50, lastTerm=2, lastIndex=50
follower=2 will handle count=1, curIndex=49
follower=2 receive log, firstTerm=2, firstIndex=50, lastTerm=2, lastIndex=50
leader=3 refresh commit success, put logIndex=[50], rf.matchIndex=[1 50 50 50 1]
follower=1 refresh commit success, put logIndex=[50]
heart beat handle success, leader=3, me=1, term=2, myCommit=50, time=1705031336746
follower=2 refresh commit success, put logIndex=[50]
heart beat handle success, leader=3, me=2, term=2, myCommit=50, time=1705031336752
heart beat handle success, leader=3, me=1, term=2, myCommit=50, time=1705031336755
对于index=50日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=2, term=2, myCommit=50, time=1705031336854
heart beat handle success, leader=3, me=1, term=2, myCommit=50, time=1705031336857
对于index=50日志, 有3个节点已经达成共识, 一共有3个节点
leader=3 receive one log, logIndex=51
send cmd to 3, index=51
对于index=51日志, 有0个节点已经达成共识, 一共有3个节点
follower=2 will handle count=1, curIndex=50
follower=2 receive log, firstTerm=2, firstIndex=51, lastTerm=2, lastIndex=51
follower=1 will handle count=1, curIndex=50
follower=1 receive log, firstTerm=2, firstIndex=51, lastTerm=2, lastIndex=51
对于index=51日志, 有0个节点已经达成共识, 一共有3个节点
leader=3 refresh commit success, put logIndex=[51], rf.matchIndex=[1 51 51 51 1]
follower=1 refresh commit success, put logIndex=[51]
heart beat handle success, leader=3, me=1, term=2, myCommit=51, time=1705031337062
对于index=51日志, 有2个节点已经达成共识, 一共有3个节点
follower=2 refresh commit success, put logIndex=[51]
heart beat handle success, leader=3, me=2, term=2, myCommit=51, time=1705031337066
心跳超时, id=0, time=1705031337089
id=0 vote to itself, term=28, time=1705031337090
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
id=0 send to id=3
heart beat handle success, leader=3, me=2, term=2, myCommit=51, time=1705031337243
对于index=51日志, 有3个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=3, me=1, term=2, myCommit=51, time=1705031337245
heart beat handle success, leader=3, me=1, term=2, myCommit=51, time=1705031337371
heart beat handle success, leader=3, me=2, term=2, myCommit=51, time=1705031337381
heart beat handle success, leader=3, me=1, term=2, myCommit=51, time=1705031337508
heart beat handle success, leader=3, me=2, term=2, myCommit=51, time=1705031337508
heart beat handle success, leader=3, me=1, term=2, myCommit=51, time=1705031337612
heart beat handle success, leader=3, me=1, term=2, myCommit=51, time=1705031337757
disconnect(1)
leader=3 receive one log, logIndex=52
leader=3 receive one log, logIndex=53
leader=3 receive one log, logIndex=54
leader=3 receive one log, logIndex=55
leader=3 receive one log, logIndex=56
leader=3 receive one log, logIndex=57
leader=3 receive one log, logIndex=58
leader=3 receive one log, logIndex=59
leader=3 receive one log, logIndex=60
leader=3 receive one log, logIndex=61
leader=3 receive one log, logIndex=62
leader=3 receive one log, logIndex=63
leader=3 receive one log, logIndex=64
leader=3 receive one log, logIndex=65
leader=3 receive one log, logIndex=66
leader=3 receive one log, logIndex=67
leader=3 receive one log, logIndex=68
leader=3 receive one log, logIndex=69
leader=3 receive one log, logIndex=70
leader=3 receive one log, logIndex=71
leader=3 receive one log, logIndex=72
leader=3 receive one log, logIndex=73
leader=3 receive one log, logIndex=74
leader=3 receive one log, logIndex=75
leader=3 receive one log, logIndex=76
leader=3 receive one log, logIndex=77
leader=3 receive one log, logIndex=78
leader=3 receive one log, logIndex=79
leader=3 receive one log, logIndex=80
leader=3 receive one log, logIndex=81
leader=3 receive one log, logIndex=82
leader=3 receive one log, logIndex=83
leader=3 receive one log, logIndex=84
leader=3 receive one log, logIndex=85
leader=3 receive one log, logIndex=86
leader=3 receive one log, logIndex=87
leader=3 receive one log, logIndex=88
leader=3 receive one log, logIndex=89
leader=3 receive one log, logIndex=90
leader=3 receive one log, logIndex=91
leader=3 receive one log, logIndex=92
leader=3 receive one log, logIndex=93
leader=3 receive one log, logIndex=94
leader=3 receive one log, logIndex=95
leader=3 receive one log, logIndex=96
leader=3 receive one log, logIndex=97
leader=3 receive one log, logIndex=98
leader=3 receive one log, logIndex=99
leader=3 receive one log, logIndex=100
leader=3 receive one log, logIndex=101
heart beat handle success, leader=3, me=2, term=2, myCommit=51, time=1705031337807
follower=2 will handle count=50, curIndex=51
follower=2 receive log, firstTerm=2, firstIndex=52, lastTerm=2, lastIndex=101
心跳超时, id=0, time=1705031337877
id=0 vote to itself, term=29, time=1705031337886
id=0 send to id=4
id=0 send to id=2
id=0 send to id=1
id=0 send to id=3
heart beat handle success, leader=3, me=2, term=2, myCommit=51, time=1705031337986
disconnect(0)
disconnect(1)
disconnect(2)
disconnect(3)
disconnect(4)
connect(4)
connect(0)
connect(1)
leader=4 receive one log, logIndex=52
send cmd to 4, index=52
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=1 currentTerm=24 > args.Term=24, vote reject
id=4 change to follower from leader
server=4 currentTerm=24 > args.Term=24, vote reject
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=4, currentTerm=24 >= args.Term=11, reject to vote to server=0
server=4, currentTerm=24 >= args.Term=17, reject to vote to server=0
server=1, currentTerm=24 >= args.Term=8, reject to vote to server=0
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=1, currentTerm=24 >= args.Term=23, reject to vote to server=0
server=4 currentTerm=28 > args.Term=28, vote reject
心跳超时, id=1, time=1705031338354
id=1 vote to itself, term=25, time=1705031338354
id=1 send to id=4
server=4, currentTerm=28 >= args.Term=25, reject to vote to server=1
id=1 send to id=0
id=1 send to id=3
id=1 send to id=2
server=4, currentTerm=28 >= args.Term=19, reject to vote to server=0
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031338524
id=2 vote to itself, term=3, time=1705031338539
id=2 send to id=4
id=2 send to id=0
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
id=2 send to id=1
server=1, currentTerm=28 >= args.Term=14, reject to vote to server=0
server=1, currentTerm=28 >= args.Term=13, reject to vote to server=0
id=2 send to id=3
server=1, currentTerm=28 >= args.Term=12, reject to vote to server=0
server=4 currentTerm=29 > args.Term=29, vote reject
server=1, currentTerm=28 >= args.Term=27, reject to vote to server=0
server=1, currentTerm=28 >= args.Term=22, reject to vote to server=0
server=1, currentTerm=28 >= args.Term=15, reject to vote to server=0
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=4, currentTerm=29 >= args.Term=14, reject to vote to server=0
心跳超时, id=4, time=1705031338746
id=4 vote to itself, term=30, time=1705031338746
id=4 send to id=3
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
id=4 send to id=2
id=4 send to id=1
id=4 send to id=0
server=1, currentTerm=28 >= args.Term=4, reject to vote to server=0
server=1, currentTerm=28 >= args.Term=25, reject to vote to server=0
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=4, currentTerm=30 >= args.Term=26, reject to vote to server=0
server=1, currentTerm=28 >= args.Term=11, reject to vote to server=0
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=1 currentTerm=30 > args.Term=30, vote reject
server=4, currentTerm=30 >= args.Term=5, reject to vote to server=0
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=4, currentTerm=30 >= args.Term=27, reject to vote to server=0
server=1, currentTerm=30 >= args.Term=17, reject to vote to server=0
server=1, currentTerm=30 >= args.Term=2, reject to vote to server=0
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031339211
id=2 vote to itself, term=4, time=1705031339211
id=2 send to id=4
id=2 send to id=0
id=2 send to id=1
id=2 send to id=3
心跳超时, id=1, time=1705031339178
id=1 vote to itself, term=31, time=1705031339220
id=1 send to id=4
id=1 send to id=2
id=1 send to id=0
id=1 send to id=3
id=1 become leader, lastLogIdx=51, leaderCommit=51
follower=0's logs are diff from leader, need to sync
follower=4's logs are diff from leader, need to sync
follower=4's logs are diff from leader, need to sync
follower=4 will handle count=1, curIndex=51
follower=4 will handle count=2, curIndex=51
follower=4 will handle count=3, curIndex=51
follower=4 will handle count=4, curIndex=51
follower=4 will handle count=5, curIndex=51
follower=4 will handle count=6, curIndex=51
follower=4 will handle count=7, curIndex=51
follower=0 will handle count=1, curIndex=51
follower=4 will handle count=8, curIndex=51
follower=4 will handle count=9, curIndex=51
follower=0 will handle count=2, curIndex=51
follower=4 will handle count=11, curIndex=51
follower=0 will handle count=3, curIndex=51
follower=4 will handle count=12, curIndex=51
follower=0 will handle count=4, curIndex=51
follower=4 will handle count=10, curIndex=51
follower=4 will handle count=13, curIndex=51
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=15, curIndex=51
follower=4 will handle count=16, curIndex=51
follower=4 will handle count=17, curIndex=51
follower=4 will handle count=18, curIndex=51
follower=4 will handle count=19, curIndex=51
follower=4 will handle count=20, curIndex=51
follower=4 will handle count=21, curIndex=51
follower=4 will handle count=22, curIndex=51
follower=4 will handle count=23, curIndex=51
follower=4 will handle count=24, curIndex=51
follower=4 will handle count=25, curIndex=51
follower=4 will handle count=26, curIndex=51
follower=4 will handle count=14, curIndex=51
follower=0 will handle count=5, curIndex=51
follower=4 will handle count=27, curIndex=51
server=1, currentTerm=31 >= args.Term=7, reject to vote to server=0
follower=4 will handle count=28, curIndex=51
server=4, currentTerm=31 >= args.Term=9, reject to vote to server=0
follower=4 will handle count=29, curIndex=51
follower=4 will handle count=30, curIndex=51
follower=4 will handle count=31, curIndex=51
follower=4 will handle count=32, curIndex=51
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=33, curIndex=51
follower=0 will handle count=4, curIndex=51
server=4, currentTerm=31 >= args.Term=23, reject to vote to server=0
follower=4 will handle count=34, curIndex=51
server=1, currentTerm=31 >= args.Term=18, reject to vote to server=0
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=4, currentTerm=31 >= args.Term=18, reject to vote to server=0
follower=4 will handle count=35, curIndex=51
follower=4 will handle count=36, curIndex=51
follower=4 will handle count=37, curIndex=51
follower=4 will handle count=38, curIndex=51
server=4, currentTerm=31 >= args.Term=6, reject to vote to server=0
follower=0 will handle count=5, curIndex=51
follower=4 will handle count=39, curIndex=51
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=40, curIndex=51
follower=0 will handle count=5, curIndex=51
follower=0 will handle count=6, curIndex=51
follower=0 will handle count=7, curIndex=51
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=40, curIndex=51
follower=4 will handle count=41, curIndex=51
follower=4 will handle count=42, curIndex=51
follower=4 will handle count=43, curIndex=51
follower=4 will handle count=44, curIndex=51
follower=4 will handle count=45, curIndex=51
follower=4 will handle count=46, curIndex=51
follower=4 will handle count=47, curIndex=51
follower=4 will handle count=48, curIndex=51
follower=4 will handle count=49, curIndex=51
follower=4 will handle count=50, curIndex=51
follower=4 refresh commit success, put logIndex=[2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51]
follower=4 receive log, firstTerm=2, firstIndex=2, lastTerm=2, lastIndex=51
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=51, time=1705031339946
follower=0 will handle count=7, curIndex=51
follower=0 will handle count=8, curIndex=51
follower=0 will handle count=9, curIndex=51
follower=0 will handle count=10, curIndex=51
follower=0 will handle count=11, curIndex=51
follower=0 will handle count=12, curIndex=51
follower=0 will handle count=13, curIndex=51
follower=0 will handle count=14, curIndex=51
follower=0 will handle count=15, curIndex=51
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031340010
id=2 vote to itself, term=5, time=1705031340010
id=2 send to id=4
id=2 send to id=0
id=2 send to id=1
follower=0 will handle count=16, curIndex=51
id=2 send to id=3
heart beat handle success, leader=1, me=4, term=31, myCommit=51, time=1705031340064
leader=1 receive one log, logIndex=52
send cmd to 1, index=52
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=51
follower=4 receive log, firstTerm=31, firstIndex=52, lastTerm=31, lastIndex=52
heart beat handle success, leader=1, me=4, term=31, myCommit=51, time=1705031340267
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=4, currentTerm=31 >= args.Term=7, reject to vote to server=0
heart beat handle success, leader=1, me=4, term=31, myCommit=51, time=1705031340368
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=17, curIndex=51
heart beat handle success, leader=1, me=4, term=31, myCommit=51, time=1705031340470
follower=0 will handle count=17, curIndex=51
follower=0 will handle count=18, curIndex=51
follower=0 will handle count=19, curIndex=51
follower=0 will handle count=20, curIndex=51
follower=0 will handle count=21, curIndex=51
follower=0 will handle count=22, curIndex=51
follower=0 will handle count=23, curIndex=51
follower=0 will handle count=24, curIndex=51
follower=0 will handle count=25, curIndex=51
follower=0 will handle count=26, curIndex=51
follower=0 will handle count=27, curIndex=51
follower=0 will handle count=28, curIndex=51
follower=0 will handle count=29, curIndex=51
follower=0 will handle count=30, curIndex=51
follower=0 will handle count=31, curIndex=51
follower=0 will handle count=32, curIndex=51
follower=0 will handle count=33, curIndex=51
follower=0 will handle count=34, curIndex=51
follower=0 will handle count=35, curIndex=51
follower=0 will handle count=36, curIndex=51
follower=0 will handle count=37, curIndex=51
follower=0 will handle count=38, curIndex=51
follower=0 will handle count=39, curIndex=51
follower=0 will handle count=40, curIndex=51
follower=0 will handle count=41, curIndex=51
follower=0 will handle count=42, curIndex=51
follower=0 will handle count=43, curIndex=51
follower=0 will handle count=44, curIndex=51
server=4, currentTerm=31 >= args.Term=20, reject to vote to server=0
follower=0 will handle count=45, curIndex=51
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
server=1, currentTerm=31 >= args.Term=29, reject to vote to server=0
heart beat handle success, leader=1, me=4, term=31, myCommit=51, time=1705031340613
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=51, time=1705031340745
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031340816
id=2 vote to itself, term=6, time=1705031340816
id=2 send to id=4
id=2 send to id=0
follower=0 will handle count=45, curIndex=51
follower=0 will handle count=46, curIndex=51
follower=0 will handle count=47, curIndex=51
follower=0 will handle count=48, curIndex=51
follower=0 will handle count=49, curIndex=51
heart beat handle success, leader=1, me=4, term=31, myCommit=51, time=1705031340850
follower=0 will handle count=50, curIndex=51
follower=0 will handle count=51, curIndex=51
follower=0 refresh commit success, put logIndex=[2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51]
follower=0 receive log, firstTerm=2, firstIndex=2, lastTerm=31, lastIndex=52
对于index=52日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=45, curIndex=52
follower=0 receive log, firstTerm=2, firstIndex=8, lastTerm=31, lastIndex=52
leader=1 refresh commit success, put logIndex=[52], rf.matchIndex=[52 52 51 51 52]
id=2 send to id=1
id=2 send to id=3
follower=0 refresh commit success, put logIndex=[52]
heart beat handle success, leader=1, me=0, term=31, myCommit=52, time=1705031340954
对于index=52日志, 有2个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[52]
heart beat handle success, leader=1, me=4, term=31, myCommit=52, time=1705031341008
heart beat handle success, leader=1, me=0, term=31, myCommit=52, time=1705031341056
对于index=52日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=53
send cmd to 1, index=53
对于index=53日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=52, time=1705031341120
server=1, currentTerm=31 >= args.Term=19, reject to vote to server=0
server=1, currentTerm=31 >= args.Term=20, reject to vote to server=0
follower=0 will handle count=1, curIndex=52
follower=0 receive log, firstTerm=31, firstIndex=53, lastTerm=31, lastIndex=53
server=4, currentTerm=31 >= args.Term=25, reject to vote to server=0
对于index=53日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=52
follower=4 receive log, firstTerm=31, firstIndex=53, lastTerm=31, lastIndex=53
heart beat handle success, leader=1, me=0, term=31, myCommit=52, time=1705031341259
leader=1 refresh commit success, put logIndex=[53], rf.matchIndex=[53 53 51 51 53]
对于index=53日志, 有1个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[53]
heart beat handle success, leader=1, me=4, term=31, myCommit=53, time=1705031341332
follower=0 refresh commit success, put logIndex=[53]
heart beat handle success, leader=1, me=0, term=31, myCommit=53, time=1705031341360
对于index=53日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=54
send cmd to 1, index=54
对于index=54日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=53
follower=0 receive log, firstTerm=31, firstIndex=54, lastTerm=31, lastIndex=54
follower=4 will handle count=1, curIndex=53
follower=4 receive log, firstTerm=31, firstIndex=54, lastTerm=31, lastIndex=54
server=1, currentTerm=31 >= args.Term=21, reject to vote to server=0
server=4, currentTerm=31 >= args.Term=13, reject to vote to server=0
对于index=54日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[54], rf.matchIndex=[54 54 51 51 54]
server=1, currentTerm=31 >= args.Term=28, reject to vote to server=0
心跳超时, id=2, time=1705031341568
id=2 vote to itself, term=7, time=1705031341568
id=2 send to id=4
id=2 send to id=1
id=2 send to id=3
id=2 send to id=0
follower=4 refresh commit success, put logIndex=[54]
heart beat handle success, leader=1, me=4, term=31, myCommit=54, time=1705031341602
follower=0 refresh commit success, put logIndex=[54]
heart beat handle success, leader=1, me=0, term=31, myCommit=54, time=1705031341610
server=1, currentTerm=31 >= args.Term=16, reject to vote to server=0
对于index=54日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=55
send cmd to 1, index=55
对于index=55日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=54
follower=0 receive log, firstTerm=31, firstIndex=55, lastTerm=31, lastIndex=55
server=4, currentTerm=31 >= args.Term=4, reject to vote to server=0
server=1, currentTerm=31 >= args.Term=6, reject to vote to server=0
对于index=55日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=54
follower=4 receive log, firstTerm=31, firstIndex=55, lastTerm=31, lastIndex=55
heart beat handle success, leader=1, me=0, term=31, myCommit=54, time=1705031341812
对于index=55日志, 有1个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[55]
heart beat handle success, leader=1, me=4, term=31, myCommit=55, time=1705031341911
leader=1 refresh commit success, put logIndex=[55], rf.matchIndex=[55 55 51 51 55]
follower=0 refresh commit success, put logIndex=[55]
heart beat handle success, leader=1, me=0, term=31, myCommit=55, time=1705031341917
server=4, currentTerm=31 >= args.Term=16, reject to vote to server=0
server=4, currentTerm=31 >= args.Term=12, reject to vote to server=0
server=1, currentTerm=31 >= args.Term=26, reject to vote to server=0
heart beat handle success, leader=1, me=4, term=31, myCommit=55, time=1705031342013
heart beat handle success, leader=1, me=0, term=31, myCommit=55, time=1705031342022
对于index=55日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=56
send cmd to 1, index=56
对于index=56日志, 有0个节点已经达成共识, 一共有3个节点
server=4, currentTerm=31 >= args.Term=22, reject to vote to server=0
follower=0 will handle count=1, curIndex=55
follower=0 receive log, firstTerm=31, firstIndex=56, lastTerm=31, lastIndex=56
follower=4 will handle count=1, curIndex=55
follower=4 receive log, firstTerm=31, firstIndex=56, lastTerm=31, lastIndex=56
对于index=56日志, 有0个节点已经达成共识, 一共有3个节点
对于index=56日志, 有1个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[56]
heart beat handle success, leader=1, me=0, term=31, myCommit=56, time=1705031342289
leader=1 refresh commit success, put logIndex=[56], rf.matchIndex=[56 56 51 51 56]
server=1, currentTerm=31 >= args.Term=5, reject to vote to server=0
follower=4 refresh commit success, put logIndex=[56]
heart beat handle success, leader=1, me=4, term=31, myCommit=56, time=1705031342327
心跳超时, id=2, time=1705031342375
id=2 vote to itself, term=8, time=1705031342375
id=2 send to id=4
id=2 send to id=0
id=2 send to id=1
id=2 send to id=3
对于index=56日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=57
send cmd to 1, index=57
对于index=57日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=56
follower=0 receive log, firstTerm=31, firstIndex=57, lastTerm=31, lastIndex=57
follower=4 will handle count=1, curIndex=56
follower=4 receive log, firstTerm=31, firstIndex=57, lastTerm=31, lastIndex=57
leader=1 refresh commit success, put logIndex=[57], rf.matchIndex=[57 57 51 51 57]
对于index=57日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[57]
heart beat handle success, leader=1, me=0, term=31, myCommit=57, time=1705031342563
follower=4 refresh commit success, put logIndex=[57]
heart beat handle success, leader=1, me=4, term=31, myCommit=57, time=1705031342608
server=1, currentTerm=31 >= args.Term=10, reject to vote to server=0
对于index=57日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=58
send cmd to 1, index=58
对于index=58日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=57
follower=0 receive log, firstTerm=31, firstIndex=58, lastTerm=31, lastIndex=58
server=4, currentTerm=31 >= args.Term=3, reject to vote to server=0
follower=4 will handle count=1, curIndex=57
follower=4 receive log, firstTerm=31, firstIndex=58, lastTerm=31, lastIndex=58
server=4, currentTerm=31 >= args.Term=2, reject to vote to server=0
对于index=58日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=31, myCommit=57, time=1705031342768
对于index=58日志, 有1个节点已经达成共识, 一共有3个节点
server=4, currentTerm=31 >= args.Term=8, reject to vote to server=0
heart beat handle success, leader=1, me=4, term=31, myCommit=57, time=1705031342867
follower=0 refresh commit success, put logIndex=[58]
heart beat handle success, leader=1, me=0, term=31, myCommit=58, time=1705031342870
对于index=58日志, 有2个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[58], rf.matchIndex=[58 58 51 51 58]
对于index=58日志, 有2个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[58]
heart beat handle success, leader=1, me=4, term=31, myCommit=58, time=1705031343049
heart beat handle success, leader=1, me=0, term=31, myCommit=58, time=1705031343050
server=1, currentTerm=31 >= args.Term=9, reject to vote to server=0
server=4, currentTerm=31 >= args.Term=15, reject to vote to server=0
对于index=58日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=59
send cmd to 1, index=59
对于index=59日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031343157
id=2 vote to itself, term=9, time=1705031343157
id=2 send to id=4
id=2 send to id=0
id=2 send to id=1
id=2 send to id=3
follower=4 will handle count=1, curIndex=58
follower=4 receive log, firstTerm=31, firstIndex=59, lastTerm=31, lastIndex=59
follower=0 will handle count=1, curIndex=58
follower=0 receive log, firstTerm=31, firstIndex=59, lastTerm=31, lastIndex=59
对于index=59日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=59
follower=0 receive log, firstTerm=31, firstIndex=59, lastTerm=31, lastIndex=59
follower=4 will handle count=1, curIndex=59
follower=4 receive log, firstTerm=31, firstIndex=59, lastTerm=31, lastIndex=59
server=4, currentTerm=31 >= args.Term=10, reject to vote to server=0
对于index=59日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=31, myCommit=58, time=1705031343476
leader=1 refresh commit success, put logIndex=[59], rf.matchIndex=[59 59 51 51 59]
follower=4 refresh commit success, put logIndex=[59]
heart beat handle success, leader=1, me=4, term=31, myCommit=59, time=1705031343548
对于index=59日志, 有2个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[59]
heart beat handle success, leader=1, me=0, term=31, myCommit=59, time=1705031343616
heart beat handle success, leader=1, me=4, term=31, myCommit=59, time=1705031343706
heart beat handle success, leader=1, me=0, term=31, myCommit=59, time=1705031343766
对于index=59日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=60
send cmd to 1, index=60
对于index=60日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=59, time=1705031343896
对于index=60日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=59
follower=4 receive log, firstTerm=31, firstIndex=60, lastTerm=31, lastIndex=60
follower=0 will handle count=1, curIndex=59
follower=0 receive log, firstTerm=31, firstIndex=60, lastTerm=31, lastIndex=60
心跳超时, id=2, time=1705031343955
id=2 vote to itself, term=10, time=1705031344002
id=2 send to id=4
id=2 send to id=1
id=2 send to id=0
id=2 send to id=3
对于index=60日志, 有0个节点已经达成共识, 一共有3个节点
server=1, currentTerm=31 >= args.Term=3, reject to vote to server=0
follower=0 will handle count=1, curIndex=60
follower=0 receive log, firstTerm=31, firstIndex=60, lastTerm=31, lastIndex=60
对于index=60日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[60], rf.matchIndex=[60 60 51 51 60]
follower=0 refresh commit success, put logIndex=[60]
heart beat handle success, leader=1, me=0, term=31, myCommit=60, time=1705031344207
heart beat handle success, leader=1, me=4, term=31, myCommit=59, time=1705031344207
对于index=60日志, 有2个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[60]
heart beat handle success, leader=1, me=4, term=31, myCommit=60, time=1705031344274
对于index=60日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=61
send cmd to 1, index=61
对于index=61日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=31, myCommit=60, time=1705031344381
对于index=61日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=60
follower=4 receive log, firstTerm=31, firstIndex=61, lastTerm=31, lastIndex=61
follower=0 will handle count=1, curIndex=60
follower=0 receive log, firstTerm=31, firstIndex=61, lastTerm=31, lastIndex=61
对于index=61日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[61], rf.matchIndex=[61 61 51 51 61]
对于index=61日志, 有1个节点已经达成共识, 一共有3个节点
server=4, currentTerm=31 >= args.Term=21, reject to vote to server=0
follower=4 refresh commit success, put logIndex=[61]
heart beat handle success, leader=1, me=4, term=31, myCommit=61, time=1705031344761
follower=0 refresh commit success, put logIndex=[61]
heart beat handle success, leader=1, me=0, term=31, myCommit=61, time=1705031344768
心跳超时, id=2, time=1705031344736
id=2 vote to itself, term=11, time=1705031344783
id=2 send to id=4
id=2 send to id=3
id=2 send to id=1
id=2 send to id=0
heart beat handle success, leader=1, me=4, term=31, myCommit=61, time=1705031344788
对于index=61日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=62
send cmd to 1, index=62
对于index=62日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=61
follower=0 receive log, firstTerm=31, firstIndex=62, lastTerm=31, lastIndex=62
对于index=62日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=31, myCommit=61, time=1705031344947
follower=4 will handle count=1, curIndex=61
follower=4 receive log, firstTerm=31, firstIndex=62, lastTerm=31, lastIndex=62
leader=1 refresh commit success, put logIndex=[62], rf.matchIndex=[62 62 51 51 62]
对于index=62日志, 有1个节点已经达成共识, 一共有3个节点
对于index=62日志, 有1个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[62]
heart beat handle success, leader=1, me=0, term=31, myCommit=62, time=1705031345174
follower=4 refresh commit success, put logIndex=[62]
heart beat handle success, leader=1, me=4, term=31, myCommit=62, time=1705031345180
对于index=62日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=63
send cmd to 1, index=63
对于index=63日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=62
follower=0 receive log, firstTerm=31, firstIndex=63, lastTerm=31, lastIndex=63
follower=4 will handle count=1, curIndex=62
follower=4 receive log, firstTerm=31, firstIndex=63, lastTerm=31, lastIndex=63
heart beat handle success, leader=1, me=0, term=31, myCommit=62, time=1705031345410
对于index=63日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=63
follower=4 receive log, firstTerm=31, firstIndex=63, lastTerm=31, lastIndex=63
follower=0 refresh commit success, put logIndex=[63]
heart beat handle success, leader=1, me=0, term=31, myCommit=63, time=1705031345513
对于index=63日志, 有2个节点已经达成共识, 一共有3个节点
对于index=63日志, 有2个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[63]
heart beat handle success, leader=1, me=4, term=31, myCommit=63, time=1705031345634
leader=1 refresh commit success, put logIndex=[63], rf.matchIndex=[63 63 51 51 63]
心跳超时, id=2, time=1705031345635
id=2 vote to itself, term=12, time=1705031345635
id=2 send to id=4
heart beat handle success, leader=1, me=0, term=31, myCommit=63, time=1705031345635
id=2 send to id=1
id=2 send to id=0
id=2 send to id=3
对于index=63日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=64
send cmd to 1, index=64
对于index=64日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=63
follower=4 receive log, firstTerm=31, firstIndex=64, lastTerm=31, lastIndex=64
follower=0 will handle count=1, curIndex=63
follower=0 receive log, firstTerm=31, firstIndex=64, lastTerm=31, lastIndex=64
对于index=64日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[64], rf.matchIndex=[64 64 51 51 64]
对于index=64日志, 有1个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=63, time=1705031345946
heart beat handle success, leader=1, me=0, term=31, myCommit=63, time=1705031345962
对于index=64日志, 有1个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[64]
heart beat handle success, leader=1, me=0, term=31, myCommit=64, time=1705031346136
对于index=64日志, 有1个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[64]
heart beat handle success, leader=1, me=4, term=31, myCommit=64, time=1705031346211
heart beat handle success, leader=1, me=0, term=31, myCommit=64, time=1705031346274
heart beat handle success, leader=1, me=4, term=31, myCommit=64, time=1705031346328
对于index=64日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=65
send cmd to 1, index=65
对于index=65日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=64
follower=0 receive log, firstTerm=31, firstIndex=65, lastTerm=31, lastIndex=65
follower=4 will handle count=1, curIndex=64
follower=4 receive log, firstTerm=31, firstIndex=65, lastTerm=31, lastIndex=65
对于index=65日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031346450
id=2 vote to itself, term=13, time=1705031346460
id=2 send to id=4
id=2 send to id=1
id=2 send to id=0
id=2 send to id=3
leader=1 refresh commit success, put logIndex=[65], rf.matchIndex=[65 65 51 51 65]
follower=4 refresh commit success, put logIndex=[65]
follower=0 refresh commit success, put logIndex=[65]
heart beat handle success, leader=1, me=0, term=31, myCommit=65, time=1705031346533
heart beat handle success, leader=1, me=4, term=31, myCommit=65, time=1705031346533
对于index=65日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=66
send cmd to 1, index=66
对于index=66日志, 有0个节点已经达成共识, 一共有3个节点
对于index=66日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=65
follower=4 receive log, firstTerm=31, firstIndex=66, lastTerm=31, lastIndex=66
follower=0 will handle count=1, curIndex=65
follower=0 receive log, firstTerm=31, firstIndex=66, lastTerm=31, lastIndex=66
对于index=66日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=65, time=1705031346806
follower=0 will handle count=1, curIndex=66
follower=0 receive log, firstTerm=31, firstIndex=66, lastTerm=31, lastIndex=66
对于index=66日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=65, time=1705031346907
leader=1 refresh commit success, put logIndex=[66], rf.matchIndex=[66 66 51 51 66]
对于index=66日志, 有1个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[66]
heart beat handle success, leader=1, me=4, term=31, myCommit=66, time=1705031347010
follower=0 refresh commit success, put logIndex=[66]
heart beat handle success, leader=1, me=0, term=31, myCommit=66, time=1705031347044
对于index=66日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=67
send cmd to 1, index=67
对于index=67日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=66
follower=4 receive log, firstTerm=31, firstIndex=67, lastTerm=31, lastIndex=67
follower=0 will handle count=1, curIndex=66
follower=0 receive log, firstTerm=31, firstIndex=67, lastTerm=31, lastIndex=67
对于index=67日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[67], rf.matchIndex=[67 67 51 51 67]
心跳超时, id=2, time=1705031347240
id=2 vote to itself, term=14, time=1705031347242
对于index=67日志, 有1个节点已经达成共识, 一共有3个节点
id=2 send to id=0
id=2 send to id=3
follower=0 refresh commit success, put logIndex=[67]
heart beat handle success, leader=1, me=0, term=31, myCommit=67, time=1705031347369
id=2 send to id=1
follower=4 refresh commit success, put logIndex=[67]
heart beat handle success, leader=1, me=4, term=31, myCommit=67, time=1705031347389
对于index=67日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=68
send cmd to 1, index=68
对于index=68日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=67, time=1705031347397
id=2 send to id=4
follower=0 will handle count=1, curIndex=67
follower=0 receive log, firstTerm=31, firstIndex=68, lastTerm=31, lastIndex=68
对于index=68日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=67
follower=4 receive log, firstTerm=31, firstIndex=68, lastTerm=31, lastIndex=68
对于index=68日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[68], rf.matchIndex=[68 68 51 51 68]
follower=4 refresh commit success, put logIndex=[68]
heart beat handle success, leader=1, me=4, term=31, myCommit=68, time=1705031347639
heart beat handle success, leader=1, me=0, term=31, myCommit=67, time=1705031347646
对于index=68日志, 有2个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[68]
heart beat handle success, leader=1, me=0, term=31, myCommit=68, time=1705031347747
对于index=68日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=69
send cmd to 1, index=69
对于index=69日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=68
follower=0 receive log, firstTerm=31, firstIndex=69, lastTerm=31, lastIndex=69
follower=4 will handle count=1, curIndex=68
follower=4 receive log, firstTerm=31, firstIndex=69, lastTerm=31, lastIndex=69
对于index=69日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[69], rf.matchIndex=[69 69 51 51 69]
follower=0 refresh commit success, put logIndex=[69]
heart beat handle success, leader=1, me=0, term=31, myCommit=69, time=1705031347971
follower=4 refresh commit success, put logIndex=[69]
heart beat handle success, leader=1, me=4, term=31, myCommit=69, time=1705031347971
对于index=69日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=70
send cmd to 1, index=70
对于index=70日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031348042
id=2 vote to itself, term=15, time=1705031348117
id=2 send to id=4
id=2 send to id=0
id=2 send to id=1
id=2 send to id=3
follower=0 will handle count=1, curIndex=69
follower=0 receive log, firstTerm=31, firstIndex=70, lastTerm=31, lastIndex=70
follower=4 will handle count=1, curIndex=69
follower=4 receive log, firstTerm=31, firstIndex=70, lastTerm=31, lastIndex=70
对于index=70日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[70], rf.matchIndex=[70 70 51 51 70]
follower=4 refresh commit success, put logIndex=[70]
heart beat handle success, leader=1, me=4, term=31, myCommit=70, time=1705031348230
follower=0 refresh commit success, put logIndex=[70]
heart beat handle success, leader=1, me=0, term=31, myCommit=70, time=1705031348281
对于index=70日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=71
send cmd to 1, index=71
对于index=71日志, 有0个节点已经达成共识, 一共有3个节点
对于index=71日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=70
follower=4 receive log, firstTerm=31, firstIndex=71, lastTerm=31, lastIndex=71
对于index=71日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=71
follower=4 receive log, firstTerm=31, firstIndex=71, lastTerm=31, lastIndex=71
对于index=71日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=70
follower=0 receive log, firstTerm=31, firstIndex=71, lastTerm=31, lastIndex=71
对于index=71日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=70, time=1705031348714
follower=0 will handle count=1, curIndex=71
follower=0 receive log, firstTerm=31, firstIndex=71, lastTerm=31, lastIndex=71
对于index=71日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=70, time=1705031348817
follower=0 will handle count=1, curIndex=71
follower=0 receive log, firstTerm=31, firstIndex=71, lastTerm=31, lastIndex=71
对于index=71日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[71], rf.matchIndex=[71 71 51 51 71]
心跳超时, id=2, time=1705031348933
id=2 vote to itself, term=16, time=1705031348933
heart beat handle success, leader=1, me=4, term=31, myCommit=70, time=1705031348975
follower=0 refresh commit success, put logIndex=[71]
heart beat handle success, leader=1, me=0, term=31, myCommit=71, time=1705031348976
id=2 send to id=4
对于index=71日志, 有2个节点已经达成共识, 一共有3个节点
id=2 send to id=1
id=2 send to id=3
id=2 send to id=0
对于index=71日志, 有2个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[71]
heart beat handle success, leader=1, me=4, term=31, myCommit=71, time=1705031349145
heart beat handle success, leader=1, me=0, term=31, myCommit=71, time=1705031349172
对于index=71日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=72
send cmd to 1, index=72
对于index=72日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=71
follower=0 receive log, firstTerm=31, firstIndex=72, lastTerm=31, lastIndex=72
follower=4 will handle count=1, curIndex=71
follower=4 receive log, firstTerm=31, firstIndex=72, lastTerm=31, lastIndex=72
对于index=72日志, 有0个节点已经达成共识, 一共有3个节点
对于index=72日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=72
follower=0 receive log, firstTerm=31, firstIndex=72, lastTerm=31, lastIndex=72
follower=4 will handle count=1, curIndex=72
follower=4 receive log, firstTerm=31, firstIndex=72, lastTerm=31, lastIndex=72
follower=4 will handle count=1, curIndex=72
follower=4 receive log, firstTerm=31, firstIndex=72, lastTerm=31, lastIndex=72
对于index=72日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=31, myCommit=71, time=1705031349624
leader=1 refresh commit success, put logIndex=[72], rf.matchIndex=[72 72 51 51 72]
follower=4 refresh commit success, put logIndex=[72]
heart beat handle success, leader=1, me=4, term=31, myCommit=72, time=1705031349714
对于index=72日志, 有2个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031349725
id=2 vote to itself, term=17, time=1705031349726
follower=0 refresh commit success, put logIndex=[72]
heart beat handle success, leader=1, me=0, term=31, myCommit=72, time=1705031349727
id=2 send to id=4
id=2 send to id=0
id=2 send to id=1
id=2 send to id=3
对于index=72日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=73
send cmd to 1, index=73
对于index=73日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=72, time=1705031349818
follower=0 will handle count=1, curIndex=72
follower=0 receive log, firstTerm=31, firstIndex=73, lastTerm=31, lastIndex=73
对于index=73日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=72
follower=4 receive log, firstTerm=31, firstIndex=73, lastTerm=31, lastIndex=73
heart beat handle success, leader=1, me=0, term=31, myCommit=72, time=1705031349960
leader=1 refresh commit success, put logIndex=[73], rf.matchIndex=[73 73 51 51 73]
对于index=73日志, 有1个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[73]
heart beat handle success, leader=1, me=4, term=31, myCommit=73, time=1705031350047
follower=0 refresh commit success, put logIndex=[73]
heart beat handle success, leader=1, me=0, term=31, myCommit=73, time=1705031350062
对于index=73日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=74
send cmd to 1, index=74
对于index=74日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=73
follower=4 receive log, firstTerm=31, firstIndex=74, lastTerm=31, lastIndex=74
follower=0 will handle count=1, curIndex=73
follower=0 receive log, firstTerm=31, firstIndex=74, lastTerm=31, lastIndex=74
leader=1 refresh commit success, put logIndex=[74], rf.matchIndex=[74 74 51 51 74]
对于index=74日志, 有1个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[74]
heart beat handle success, leader=1, me=0, term=31, myCommit=74, time=1705031350295
follower=4 refresh commit success, put logIndex=[74]
heart beat handle success, leader=1, me=4, term=31, myCommit=74, time=1705031350295
对于index=74日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=75
send cmd to 1, index=75
对于index=75日志, 有0个节点已经达成共识, 一共有3个节点
对于index=75日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=74
follower=4 receive log, firstTerm=31, firstIndex=75, lastTerm=31, lastIndex=75
心跳超时, id=2, time=1705031350453
id=2 vote to itself, term=18, time=1705031350499
id=2 send to id=4
id=2 send to id=3
id=2 send to id=1
id=2 send to id=0
对于index=75日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=74, time=1705031350577
follower=0 will handle count=1, curIndex=74
follower=0 receive log, firstTerm=31, firstIndex=75, lastTerm=31, lastIndex=75
对于index=75日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=75
follower=0 receive log, firstTerm=31, firstIndex=75, lastTerm=31, lastIndex=75
heart beat handle success, leader=1, me=4, term=31, myCommit=74, time=1705031350681
leader=1 refresh commit success, put logIndex=[75], rf.matchIndex=[75 75 51 51 75]
对于index=75日志, 有1个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[75]
heart beat handle success, leader=1, me=0, term=31, myCommit=75, time=1705031350748
follower=4 refresh commit success, put logIndex=[75]
heart beat handle success, leader=1, me=4, term=31, myCommit=75, time=1705031350784
对于index=75日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=76
send cmd to 1, index=76
对于index=76日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=75
follower=4 receive log, firstTerm=31, firstIndex=76, lastTerm=31, lastIndex=76
follower=0 will handle count=1, curIndex=75
follower=0 receive log, firstTerm=31, firstIndex=76, lastTerm=31, lastIndex=76
对于index=76日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=75, time=1705031350989
leader=1 refresh commit success, put logIndex=[76], rf.matchIndex=[76 76 51 51 76]
follower=0 refresh commit success, put logIndex=[76]
heart beat handle success, leader=1, me=0, term=31, myCommit=76, time=1705031351028
对于index=76日志, 有2个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[76]
heart beat handle success, leader=1, me=4, term=31, myCommit=76, time=1705031351122
对于index=76日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=77
send cmd to 1, index=77
对于index=77日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=76
follower=4 receive log, firstTerm=31, firstIndex=77, lastTerm=31, lastIndex=77
follower=0 will handle count=1, curIndex=76
follower=0 receive log, firstTerm=31, firstIndex=77, lastTerm=31, lastIndex=77
对于index=77日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[77], rf.matchIndex=[77 77 51 51 77]
心跳超时, id=2, time=1705031351322
id=2 vote to itself, term=19, time=1705031351322
id=2 send to id=4
follower=4 refresh commit success, put logIndex=[77]
heart beat handle success, leader=1, me=4, term=31, myCommit=77, time=1705031351325
id=2 send to id=0
id=2 send to id=1
id=2 send to id=3
对于index=77日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=77, time=1705031351426
follower=0 refresh commit success, put logIndex=[77]
heart beat handle success, leader=1, me=0, term=31, myCommit=77, time=1705031351433
对于index=77日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=78
send cmd to 1, index=78
对于index=78日志, 有0个节点已经达成共识, 一共有3个节点
对于index=78日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=77
follower=4 receive log, firstTerm=31, firstIndex=78, lastTerm=31, lastIndex=78
follower=0 will handle count=1, curIndex=77
follower=0 receive log, firstTerm=31, firstIndex=78, lastTerm=31, lastIndex=78
follower=0 will handle count=1, curIndex=78
follower=0 receive log, firstTerm=31, firstIndex=78, lastTerm=31, lastIndex=78
对于index=78日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=78
follower=4 receive log, firstTerm=31, firstIndex=78, lastTerm=31, lastIndex=78
对于index=78日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=78
follower=0 receive log, firstTerm=31, firstIndex=78, lastTerm=31, lastIndex=78
leader=1 refresh commit success, put logIndex=[78], rf.matchIndex=[78 78 51 51 78]
follower=4 refresh commit success, put logIndex=[78]
heart beat handle success, leader=1, me=4, term=31, myCommit=78, time=1705031351939
对于index=78日志, 有2个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[78]
heart beat handle success, leader=1, me=0, term=31, myCommit=78, time=1705031352003
对于index=78日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=79
send cmd to 1, index=79
对于index=79日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031352113
id=2 vote to itself, term=20, time=1705031352113
id=2 send to id=4
id=2 send to id=0
id=2 send to id=1
id=2 send to id=3
heart beat handle success, leader=1, me=4, term=31, myCommit=78, time=1705031352140
follower=0 will handle count=1, curIndex=78
follower=0 receive log, firstTerm=31, firstIndex=79, lastTerm=31, lastIndex=79
对于index=79日志, 有0个节点已经达成共识, 一共有3个节点
对于index=79日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=78
follower=4 receive log, firstTerm=31, firstIndex=79, lastTerm=31, lastIndex=79
heart beat handle success, leader=1, me=0, term=31, myCommit=78, time=1705031352433
对于index=79日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=31, myCommit=78, time=1705031352474
heart beat handle success, leader=1, me=0, term=31, myCommit=78, time=1705031352535
对于index=79日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=79
follower=4 receive log, firstTerm=31, firstIndex=79, lastTerm=31, lastIndex=79
对于index=79日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=79
follower=4 receive log, firstTerm=31, firstIndex=79, lastTerm=31, lastIndex=79
leader=1 refresh commit success, put logIndex=[79], rf.matchIndex=[79 79 51 51 79]
heart beat handle success, leader=1, me=0, term=31, myCommit=78, time=1705031352783
对于index=79日志, 有1个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[79]
heart beat handle success, leader=1, me=0, term=31, myCommit=79, time=1705031352818
follower=4 refresh commit success, put logIndex=[79]
heart beat handle success, leader=1, me=4, term=31, myCommit=79, time=1705031352829
心跳超时, id=2, time=1705031352870
id=2 vote to itself, term=21, time=1705031352870
id=2 send to id=1
id=2 send to id=3
对于index=79日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=80
send cmd to 1, index=80
对于index=80日志, 有0个节点已经达成共识, 一共有3个节点
id=2 send to id=4
id=2 send to id=0
对于index=80日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=79
follower=0 receive log, firstTerm=31, firstIndex=80, lastTerm=31, lastIndex=80
follower=4 will handle count=1, curIndex=79
follower=4 receive log, firstTerm=31, firstIndex=80, lastTerm=31, lastIndex=80
leader=1 refresh commit success, put logIndex=[80], rf.matchIndex=[80 80 51 51 80]
对于index=80日志, 有1个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[80]
heart beat handle success, leader=1, me=0, term=31, myCommit=80, time=1705031353142
follower=4 refresh commit success, put logIndex=[80]
heart beat handle success, leader=1, me=4, term=31, myCommit=80, time=1705031353162
heart beat handle success, leader=1, me=0, term=31, myCommit=80, time=1705031353244
对于index=80日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=81
send cmd to 1, index=81
对于index=81日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=80, time=1705031353308
对于index=81日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=80
follower=0 receive log, firstTerm=31, firstIndex=81, lastTerm=31, lastIndex=81
对于index=81日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=81
follower=0 receive log, firstTerm=31, firstIndex=81, lastTerm=31, lastIndex=81
follower=4 will handle count=1, curIndex=80
follower=4 receive log, firstTerm=31, firstIndex=81, lastTerm=31, lastIndex=81
对于index=81日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=81
follower=4 receive log, firstTerm=31, firstIndex=81, lastTerm=31, lastIndex=81
heart beat handle success, leader=1, me=0, term=31, myCommit=80, time=1705031353632
leader=1 refresh commit success, put logIndex=[81], rf.matchIndex=[81 81 51 51 81]
对于index=81日志, 有1个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031353689
id=2 vote to itself, term=22, time=1705031353690
id=2 send to id=4
id=2 send to id=3
id=2 send to id=1
follower=0 refresh commit success, put logIndex=[81]
heart beat handle success, leader=1, me=0, term=31, myCommit=81, time=1705031353735
对于index=81日志, 有2个节点已经达成共识, 一共有3个节点
id=2 send to id=0
heart beat handle success, leader=1, me=0, term=31, myCommit=81, time=1705031353856
follower=4 refresh commit success, put logIndex=[81]
heart beat handle success, leader=1, me=4, term=31, myCommit=81, time=1705031353857
对于index=81日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=82
send cmd to 1, index=82
对于index=82日志, 有0个节点已经达成共识, 一共有3个节点
对于index=82日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=81
follower=4 receive log, firstTerm=31, firstIndex=82, lastTerm=31, lastIndex=82
follower=0 will handle count=1, curIndex=81
follower=0 receive log, firstTerm=31, firstIndex=82, lastTerm=31, lastIndex=82
对于index=82日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=81, time=1705031354101
heart beat handle success, leader=1, me=0, term=31, myCommit=81, time=1705031354168
leader=1 refresh commit success, put logIndex=[82], rf.matchIndex=[82 82 51 51 82]
对于index=82日志, 有1个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[82]
heart beat handle success, leader=1, me=4, term=31, myCommit=82, time=1705031354261
follower=0 refresh commit success, put logIndex=[82]
heart beat handle success, leader=1, me=0, term=31, myCommit=82, time=1705031354340
对于index=82日志, 有2个节点已经达成共识, 一共有3个节点
对于index=82日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=83
send cmd to 1, index=83
对于index=83日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031354473
id=2 vote to itself, term=23, time=1705031354523
id=2 send to id=4
id=2 send to id=1
heart beat handle success, leader=1, me=4, term=31, myCommit=82, time=1705031354543
heart beat handle success, leader=1, me=0, term=31, myCommit=82, time=1705031354543
id=2 send to id=0
id=2 send to id=3
对于index=83日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=82
follower=0 receive log, firstTerm=31, firstIndex=83, lastTerm=31, lastIndex=83
对于index=83日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=82
follower=4 receive log, firstTerm=31, firstIndex=83, lastTerm=31, lastIndex=83
heart beat handle success, leader=1, me=0, term=31, myCommit=82, time=1705031354726
对于index=83日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=31, myCommit=82, time=1705031354829
leader=1 refresh commit success, put logIndex=[83], rf.matchIndex=[83 83 51 51 83]
follower=4 refresh commit success, put logIndex=[83]
heart beat handle success, leader=1, me=4, term=31, myCommit=83, time=1705031354870
对于index=83日志, 有2个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[83]
heart beat handle success, leader=1, me=0, term=31, myCommit=83, time=1705031354930
对于index=83日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=84
send cmd to 1, index=84
对于index=84日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=83, time=1705031355002
follower=0 will handle count=1, curIndex=83
follower=0 receive log, firstTerm=31, firstIndex=84, lastTerm=31, lastIndex=84
对于index=84日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=83
follower=4 receive log, firstTerm=31, firstIndex=84, lastTerm=31, lastIndex=84
对于index=84日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=31, myCommit=83, time=1705031355216
leader=1 refresh commit success, put logIndex=[84], rf.matchIndex=[84 84 51 51 84]
follower=4 refresh commit success, put logIndex=[84]
heart beat handle success, leader=1, me=4, term=31, myCommit=84, time=1705031355275
心跳超时, id=2, time=1705031355277
id=2 vote to itself, term=24, time=1705031355280
id=2 send to id=1
id=2 send to id=4
id=2 send to id=0
对于index=84日志, 有2个节点已经达成共识, 一共有3个节点
id=2 send to id=3
follower=0 refresh commit success, put logIndex=[84]
heart beat handle success, leader=1, me=0, term=31, myCommit=84, time=1705031355317
heart beat handle success, leader=1, me=4, term=31, myCommit=84, time=1705031355377
heart beat handle success, leader=1, me=0, term=31, myCommit=84, time=1705031355421
对于index=84日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=85
send cmd to 1, index=85
follower=4 will handle count=1, curIndex=84
follower=4 receive log, firstTerm=31, firstIndex=85, lastTerm=31, lastIndex=85
对于index=85日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=84
follower=0 receive log, firstTerm=31, firstIndex=85, lastTerm=31, lastIndex=85
leader=1 refresh commit success, put logIndex=[85], rf.matchIndex=[85 85 51 51 85]
对于index=85日志, 有1个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[85]
heart beat handle success, leader=1, me=4, term=31, myCommit=85, time=1705031355675
对于index=85日志, 有2个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[85]
heart beat handle success, leader=1, me=0, term=31, myCommit=85, time=1705031355729
heart beat handle success, leader=1, me=0, term=31, myCommit=85, time=1705031355881
heart beat handle success, leader=1, me=4, term=31, myCommit=85, time=1705031355881
对于index=85日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=86
send cmd to 1, index=86
对于index=86日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=85
follower=4 receive log, firstTerm=31, firstIndex=86, lastTerm=31, lastIndex=86
follower=0 will handle count=1, curIndex=85
follower=0 receive log, firstTerm=31, firstIndex=86, lastTerm=31, lastIndex=86
leader=1 refresh commit success, put logIndex=[86], rf.matchIndex=[86 86 51 51 86]
对于index=86日志, 有1个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031356087
id=2 vote to itself, term=25, time=1705031356088
id=2 send to id=4
follower=0 refresh commit success, put logIndex=[86]
heart beat handle success, leader=1, me=0, term=31, myCommit=86, time=1705031356106
follower=4 refresh commit success, put logIndex=[86]
heart beat handle success, leader=1, me=4, term=31, myCommit=86, time=1705031356111
id=2 send to id=0
id=2 send to id=1
id=2 send to id=3
对于index=86日志, 有1个节点已经达成共识, 一共有3个节点
对于index=86日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=87
send cmd to 1, index=87
对于index=87日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=86, time=1705031356324
heart beat handle success, leader=1, me=0, term=31, myCommit=86, time=1705031356345
follower=4 will handle count=1, curIndex=86
follower=4 receive log, firstTerm=31, firstIndex=87, lastTerm=31, lastIndex=87
对于index=87日志, 有0个节点已经达成共识, 一共有3个节点
对于index=87日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=86
follower=0 receive log, firstTerm=31, firstIndex=87, lastTerm=31, lastIndex=87
对于index=87日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=87
follower=0 receive log, firstTerm=31, firstIndex=87, lastTerm=31, lastIndex=87
heart beat handle success, leader=1, me=4, term=31, myCommit=86, time=1705031356719
对于index=87日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=86, time=1705031356763
心跳超时, id=2, time=1705031356804
id=2 vote to itself, term=26, time=1705031356804
id=2 send to id=4
id=2 send to id=0
id=2 send to id=3
id=2 send to id=1
对于index=87日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=86, time=1705031356902
follower=0 will handle count=1, curIndex=87
follower=0 receive log, firstTerm=31, firstIndex=87, lastTerm=31, lastIndex=87
heart beat handle success, leader=1, me=4, term=31, myCommit=86, time=1705031357049
follower=0 will handle count=1, curIndex=87
follower=0 receive log, firstTerm=31, firstIndex=87, lastTerm=31, lastIndex=87
对于index=87日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[87], rf.matchIndex=[87 87 51 51 87]
follower=4 refresh commit success, put logIndex=[87]
heart beat handle success, leader=1, me=4, term=31, myCommit=87, time=1705031357151
follower=0 refresh commit success, put logIndex=[87]
heart beat handle success, leader=1, me=0, term=31, myCommit=87, time=1705031357171
对于index=87日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=88
send cmd to 1, index=88
对于index=88日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=87
follower=4 receive log, firstTerm=31, firstIndex=88, lastTerm=31, lastIndex=88
对于index=88日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=87
follower=0 receive log, firstTerm=31, firstIndex=88, lastTerm=31, lastIndex=88
heart beat handle success, leader=1, me=4, term=31, myCommit=87, time=1705031357389
leader=1 refresh commit success, put logIndex=[88], rf.matchIndex=[88 88 51 51 88]
对于index=88日志, 有1个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[88]
heart beat handle success, leader=1, me=0, term=31, myCommit=88, time=1705031357459
follower=4 refresh commit success, put logIndex=[88]
heart beat handle success, leader=1, me=4, term=31, myCommit=88, time=1705031357530
对于index=88日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=89
send cmd to 1, index=89
对于index=89日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031357575
id=2 vote to itself, term=27, time=1705031357576
id=2 send to id=4
id=2 send to id=0
id=2 send to id=1
id=2 send to id=3
follower=0 will handle count=1, curIndex=88
follower=0 receive log, firstTerm=31, firstIndex=89, lastTerm=31, lastIndex=89
follower=4 will handle count=1, curIndex=88
follower=4 receive log, firstTerm=31, firstIndex=89, lastTerm=31, lastIndex=89
对于index=89日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=31, myCommit=88, time=1705031357773
leader=1 refresh commit success, put logIndex=[89], rf.matchIndex=[89 89 51 51 89]
对于index=89日志, 有1个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[89]
heart beat handle success, leader=1, me=4, term=31, myCommit=89, time=1705031357853
follower=0 refresh commit success, put logIndex=[89]
heart beat handle success, leader=1, me=0, term=31, myCommit=89, time=1705031357874
对于index=89日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=90
send cmd to 1, index=90
对于index=90日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=89
follower=0 receive log, firstTerm=31, firstIndex=90, lastTerm=31, lastIndex=90
follower=4 will handle count=1, curIndex=89
follower=4 receive log, firstTerm=31, firstIndex=90, lastTerm=31, lastIndex=90
follower=4 will handle count=1, curIndex=90
follower=4 receive log, firstTerm=31, firstIndex=90, lastTerm=31, lastIndex=90
heart beat handle success, leader=1, me=0, term=31, myCommit=89, time=1705031358141
对于index=90日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[90], rf.matchIndex=[90 90 51 51 90]
对于index=90日志, 有1个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[90]
heart beat handle success, leader=1, me=4, term=31, myCommit=90, time=1705031358288
follower=0 refresh commit success, put logIndex=[90]
heart beat handle success, leader=1, me=0, term=31, myCommit=90, time=1705031358295
对于index=90日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=91
send cmd to 1, index=91
对于index=91日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=90
follower=0 receive log, firstTerm=31, firstIndex=91, lastTerm=31, lastIndex=91
心跳超时, id=2, time=1705031358343
id=2 vote to itself, term=28, time=1705031358404
id=2 send to id=4
id=2 send to id=1
id=2 send to id=0
id=2 send to id=3
follower=4 will handle count=1, curIndex=90
follower=4 receive log, firstTerm=31, firstIndex=91, lastTerm=31, lastIndex=91
对于index=91日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[91], rf.matchIndex=[91 91 51 51 91]
follower=0 refresh commit success, put logIndex=[91]
heart beat handle success, leader=1, me=0, term=31, myCommit=91, time=1705031358543
follower=4 refresh commit success, put logIndex=[91]
heart beat handle success, leader=1, me=4, term=31, myCommit=91, time=1705031358580
对于index=91日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=92
send cmd to 1, index=92
对于index=92日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=91
follower=0 receive log, firstTerm=31, firstIndex=92, lastTerm=31, lastIndex=92
对于index=92日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=91
follower=4 receive log, firstTerm=31, firstIndex=92, lastTerm=31, lastIndex=92
heart beat handle success, leader=1, me=0, term=31, myCommit=91, time=1705031358797
leader=1 refresh commit success, put logIndex=[92], rf.matchIndex=[92 92 51 51 92]
对于index=92日志, 有1个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[92]
heart beat handle success, leader=1, me=4, term=31, myCommit=92, time=1705031358818
follower=0 refresh commit success, put logIndex=[92]
heart beat handle success, leader=1, me=0, term=31, myCommit=92, time=1705031358985
heart beat handle success, leader=1, me=4, term=31, myCommit=92, time=1705031359000
对于index=92日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=31, myCommit=92, time=1705031359088
心跳超时, id=2, time=1705031359105
id=2 vote to itself, term=29, time=1705031359105
id=2 send to id=4
id=2 send to id=0
id=2 send to id=3
heart beat handle success, leader=1, me=4, term=31, myCommit=92, time=1705031359159
对于index=92日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=93
send cmd to 1, index=93
对于index=93日志, 有0个节点已经达成共识, 一共有3个节点
id=2 send to id=1
follower=0 will handle count=1, curIndex=92
follower=0 receive log, firstTerm=31, firstIndex=93, lastTerm=31, lastIndex=93
对于index=93日志, 有0个节点已经达成共识, 一共有3个节点
对于index=93日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=31, myCommit=92, time=1705031359413
follower=4 will handle count=1, curIndex=92
follower=4 receive log, firstTerm=31, firstIndex=93, lastTerm=31, lastIndex=93
对于index=93日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=31, myCommit=92, time=1705031359517
对于index=93日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=93
follower=4 receive log, firstTerm=31, firstIndex=93, lastTerm=31, lastIndex=93
leader=1 refresh commit success, put logIndex=[93], rf.matchIndex=[93 93 51 51 93]
对于index=93日志, 有1个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=31, myCommit=92, time=1705031359679
follower=4 refresh commit success, put logIndex=[93]
heart beat handle success, leader=1, me=4, term=31, myCommit=93, time=1705031359722
follower=0 refresh commit success, put logIndex=[93]
heart beat handle success, leader=1, me=0, term=31, myCommit=93, time=1705031359782
对于index=93日志, 有2个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031359909
id=2 vote to itself, term=30, time=1705031359910
id=2 send to id=4
id=2 send to id=0
id=2 send to id=1
id=2 send to id=3
对于index=93日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=94
send cmd to 1, index=94
对于index=94日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=93, time=1705031359976
对于index=94日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=93
follower=4 receive log, firstTerm=31, firstIndex=94, lastTerm=31, lastIndex=94
对于index=94日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=93
follower=0 receive log, firstTerm=31, firstIndex=94, lastTerm=31, lastIndex=94
heart beat handle success, leader=1, me=4, term=31, myCommit=93, time=1705031360171
follower=0 will handle count=1, curIndex=94
follower=0 receive log, firstTerm=31, firstIndex=94, lastTerm=31, lastIndex=94
对于index=94日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[94]
heart beat handle success, leader=1, me=4, term=31, myCommit=94, time=1705031360272
follower=0 refresh commit success, put logIndex=[94]
heart beat handle success, leader=1, me=0, term=31, myCommit=94, time=1705031360316
leader=1 refresh commit success, put logIndex=[94], rf.matchIndex=[94 94 51 51 94]
对于index=94日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=95
send cmd to 1, index=95
对于index=95日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=94
follower=0 receive log, firstTerm=31, firstIndex=95, lastTerm=31, lastIndex=95
follower=4 will handle count=1, curIndex=94
follower=4 receive log, firstTerm=31, firstIndex=95, lastTerm=31, lastIndex=95
对于index=95日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[95], rf.matchIndex=[95 95 51 51 95]
follower=0 refresh commit success, put logIndex=[95]
heart beat handle success, leader=1, me=0, term=31, myCommit=95, time=1705031360594
follower=4 refresh commit success, put logIndex=[95]
heart beat handle success, leader=1, me=4, term=31, myCommit=95, time=1705031360594
对于index=95日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=96
send cmd to 1, index=96
对于index=96日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=95
follower=0 receive log, firstTerm=31, firstIndex=96, lastTerm=31, lastIndex=96
follower=4 will handle count=1, curIndex=95
follower=4 receive log, firstTerm=31, firstIndex=96, lastTerm=31, lastIndex=96
对于index=96日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031360720
leader=1 refresh commit success, put logIndex=[96], rf.matchIndex=[96 96 51 51 96]
id=2 vote to itself, term=31, time=1705031360775
id=2 send to id=4
id=2 send to id=0
id=2 send to id=1
id=2 send to id=3
follower=4 refresh commit success, put logIndex=[96]
heart beat handle success, leader=1, me=4, term=31, myCommit=96, time=1705031360818
对于index=96日志, 有2个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[96]
heart beat handle success, leader=1, me=0, term=31, myCommit=96, time=1705031360898
对于index=96日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=97
send cmd to 1, index=97
对于index=97日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=96
follower=0 receive log, firstTerm=31, firstIndex=97, lastTerm=31, lastIndex=97
follower=4 will handle count=1, curIndex=96
follower=4 receive log, firstTerm=31, firstIndex=97, lastTerm=31, lastIndex=97
对于index=97日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[97], rf.matchIndex=[97 97 51 51 97]
对于index=97日志, 有1个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=31, myCommit=96, time=1705031361173
对于index=97日志, 有1个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[97]
heart beat handle success, leader=1, me=4, term=31, myCommit=97, time=1705031361293
follower=0 refresh commit success, put logIndex=[97]
heart beat handle success, leader=1, me=0, term=31, myCommit=97, time=1705031361325
heart beat handle success, leader=1, me=4, term=31, myCommit=97, time=1705031361333
对于index=97日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=98
send cmd to 1, index=98
对于index=98日志, 有0个节点已经达成共识, 一共有3个节点
对于index=98日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=97
follower=4 receive log, firstTerm=31, firstIndex=98, lastTerm=31, lastIndex=98
心跳超时, id=2, time=1705031361500
id=2 vote to itself, term=32, time=1705031361542
id=2 send to id=4
id=2 send to id=0
id=2 send to id=1
id=2 send to id=3
follower=0 will handle count=1, curIndex=97
follower=0 receive log, firstTerm=31, firstIndex=98, lastTerm=31, lastIndex=98
对于index=98日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=97, time=1705031361616
follower=0 will handle count=1, curIndex=98
follower=0 receive log, firstTerm=31, firstIndex=98, lastTerm=31, lastIndex=98
对于index=98日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=97, time=1705031361761
heart beat handle success, leader=1, me=0, term=31, myCommit=97, time=1705031361782
leader=1 refresh commit success, put logIndex=[98], rf.matchIndex=[98 98 51 51 98]
对于index=98日志, 有1个节点已经达成共识, 一共有3个节点
follower=4 refresh commit success, put logIndex=[98]
heart beat handle success, leader=1, me=4, term=31, myCommit=98, time=1705031361866
对于index=98日志, 有2个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[98]
heart beat handle success, leader=1, me=0, term=31, myCommit=98, time=1705031361953
heart beat handle success, leader=1, me=4, term=31, myCommit=98, time=1705031361998
对于index=98日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=99
send cmd to 1, index=99
对于index=99日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=98
follower=4 receive log, firstTerm=31, firstIndex=99, lastTerm=31, lastIndex=99
对于index=99日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=98
follower=0 receive log, firstTerm=31, firstIndex=99, lastTerm=31, lastIndex=99
heart beat handle success, leader=1, me=4, term=31, myCommit=98, time=1705031362217
对于index=99日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=99
follower=0 receive log, firstTerm=31, firstIndex=99, lastTerm=31, lastIndex=99
对于index=99日志, 有0个节点已经达成共识, 一共有3个节点
心跳超时, id=2, time=1705031362376
id=2 vote to itself, term=33, time=1705031362439
id=2 send to id=4
leader=1 refresh commit success, put logIndex=[99], rf.matchIndex=[99 99 51 51 99]
id=2 send to id=3
id=2 send to id=0
id=2 send to id=1
heart beat handle success, leader=1, me=0, term=31, myCommit=98, time=1705031362439
heart beat handle success, leader=1, me=4, term=31, myCommit=98, time=1705031362488
对于index=99日志, 有1个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[99]
heart beat handle success, leader=1, me=0, term=31, myCommit=99, time=1705031362541
heart beat handle success, leader=1, me=0, term=31, myCommit=99, time=1705031362641
follower=4 refresh commit success, put logIndex=[99]
heart beat handle success, leader=1, me=4, term=31, myCommit=99, time=1705031362679
对于index=99日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=31, myCommit=99, time=1705031362787
对于index=99日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=100
send cmd to 1, index=100
对于index=100日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=99
follower=4 receive log, firstTerm=31, firstIndex=100, lastTerm=31, lastIndex=100
follower=0 will handle count=1, curIndex=99
follower=0 receive log, firstTerm=31, firstIndex=100, lastTerm=31, lastIndex=100
对于index=100日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[100], rf.matchIndex=[100 100 51 51 100]
follower=0 refresh commit success, put logIndex=[100]
heart beat handle success, leader=1, me=0, term=31, myCommit=100, time=1705031362991
follower=4 refresh commit success, put logIndex=[100]
heart beat handle success, leader=1, me=4, term=31, myCommit=100, time=1705031363025
对于index=100日志, 有2个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=4, term=31, myCommit=100, time=1705031363223
心跳超时, id=2, time=1705031363241
id=2 vote to itself, term=34, time=1705031363241
id=2 send to id=4
id=2 send to id=0
id=2 send to id=1
id=2 send to id=3
对于index=100日志, 有3个节点已经达成共识, 一共有3个节点
leader=1 receive one log, logIndex=101
send cmd to 1, index=101
对于index=101日志, 有0个节点已经达成共识, 一共有3个节点
follower=0 will handle count=1, curIndex=100
follower=0 receive log, firstTerm=31, firstIndex=101, lastTerm=31, lastIndex=101
heart beat handle success, leader=1, me=0, term=31, myCommit=100, time=1705031363419
heart beat handle success, leader=1, me=4, term=31, myCommit=100, time=1705031363434
对于index=101日志, 有0个节点已经达成共识, 一共有3个节点
follower=4 will handle count=1, curIndex=100
follower=4 receive log, firstTerm=31, firstIndex=101, lastTerm=31, lastIndex=101
follower=0's logs are diff from leader, need to sync
follower=0 will handle count=1, curIndex=100
follower=0 receive log, firstTerm=31, firstIndex=101, lastTerm=31, lastIndex=101
对于index=101日志, 有0个节点已经达成共识, 一共有3个节点
heart beat handle success, leader=1, me=0, term=31, myCommit=100, time=1705031363660
follower=4 will handle count=1, curIndex=101
follower=4 receive log, firstTerm=31, firstIndex=101, lastTerm=31, lastIndex=101
对于index=101日志, 有0个节点已经达成共识, 一共有3个节点
leader=1 refresh commit success, put logIndex=[101], rf.matchIndex=[101 101 51 51 101]
follower=4 refresh commit success, put logIndex=[101]
heart beat handle success, leader=1, me=4, term=31, myCommit=101, time=1705031363774
对于index=101日志, 有2个节点已经达成共识, 一共有3个节点
follower=0 refresh commit success, put logIndex=[101]
heart beat handle success, leader=1, me=0, term=31, myCommit=101, time=1705031363822
对于index=101日志, 有3个节点已经达成共识, 一共有3个节点
connect(0)
heart beat handle success, leader=1, me=0, term=31, myCommit=101, time=1705031363954
heart beat handle success, leader=1, me=4, term=31, myCommit=101, time=1705031363987
心跳超时, id=2, time=1705031363987
id=2 vote to itself, term=35, time=1705031363987
id=2 send to id=4
id=2 send to id=0
id=2 send to id=1
id=2 send to id=3
connect(1)
connect(2)
connect(3)
connect(4)
leader=1 receive one log, logIndex=102
send cmd to 1, index=102
对于index=102日志, 有0个节点已经达成共识, 一共有5个节点
id=3 change to follower from leader
server=4 currentTerm=33 > args.Term=33, vote reject
server=0, currentTerm=31 >= args.Term=11, reject to vote to server=2
follower=3 will handle count=51, curIndex=101
server=1, currentTerm=31 >= args.Term=18, reject to vote to server=2
follower=3 refresh commit success, put logIndex=[52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101]
follower=3 receive log, firstTerm=31, firstIndex=52, lastTerm=31, lastIndex=102
对于index=102日志, 有0个节点已经达成共识, 一共有5个节点
server=0, currentTerm=31 >= args.Term=14, reject to vote to server=2
id=1 change to follower from leader
对于index=102日志, 有0个节点已经达成共识, 一共有5个节点
server=3, currentTerm=31 >= args.Term=5, reject to vote to server=2
server=1, currentTerm=31 >= args.Term=10, reject to vote to server=2
server=3, currentTerm=31 >= args.Term=24, reject to vote to server=2
follower=0 will handle count=1, curIndex=101
follower=0 receive log, firstTerm=31, firstIndex=102, lastTerm=31, lastIndex=102
server=2, currentTerm=31 >= args.Term=24, reject to vote to server=0
server=2, currentTerm=31 >= args.Term=11, reject to vote to server=0
server=2, currentTerm=31 >= args.Term=19, reject to vote to server=0
server=2, currentTerm=31 >= args.Term=23, reject to vote to server=0
server=2, currentTerm=31 >= args.Term=10, reject to vote to server=0
server=2, currentTerm=31 >= args.Term=2, reject to vote to server=0
server=1, currentTerm=31 >= args.Term=9, reject to vote to server=2
对于index=102日志, 有0个节点已经达成共识, 一共有5个节点
server=1, currentTerm=31 >= args.Term=13, reject to vote to server=2
server=3, currentTerm=31 >= args.Term=29, reject to vote to server=2
server=0, currentTerm=31 >= args.Term=8, reject to vote to server=2
server=3, currentTerm=31 >= args.Term=30, reject to vote to server=4
server=1, currentTerm=31 >= args.Term=12, reject to vote to server=2
server=1, currentTerm=31 >= args.Term=29, reject to vote to server=2
对于index=102日志, 有0个节点已经达成共识, 一共有5个节点
server=3, currentTerm=31 >= args.Term=11, reject to vote to server=2
server=3, currentTerm=31 >= args.Term=25, reject to vote to server=1
server=0, currentTerm=31 >= args.Term=22, reject to vote to server=2
server=0, currentTerm=31 >= args.Term=29, reject to vote to server=2
server=4, currentTerm=31 >= args.Term=23, reject to vote to server=2
对于index=102日志, 有0个节点已经达成共识, 一共有5个节点
server=0, currentTerm=31 >= args.Term=30, reject to vote to server=2
server=1, currentTerm=31 >= args.Term=17, reject to vote to server=2
server=4, currentTerm=31 >= args.Term=7, reject to vote to server=2
server=1, currentTerm=31 >= args.Term=11, reject to vote to server=2
server=1, currentTerm=31 >= args.Term=4, reject to vote to server=2
server=0, currentTerm=31 >= args.Term=2, reject to vote to server=3
对于index=102日志, 有0个节点已经达成共识, 一共有5个节点
server=3, currentTerm=31 >= args.Term=13, reject to vote to server=0
server=2, currentTerm=31 >= args.Term=6, reject to vote to server=0
server=3, currentTerm=31 >= args.Term=9, reject to vote to server=0
server=3, currentTerm=31 >= args.Term=4, reject to vote to server=0
对于index=102日志, 有0个节点已经达成共识, 一共有5个节点
server=4, currentTerm=31 >= args.Term=13, reject to vote to server=2
server=0, currentTerm=31 >= args.Term=4, reject to vote to server=2
server=4, currentTerm=31 >= args.Term=21, reject to vote to server=2
server=3, currentTerm=31 >= args.Term=9, reject to vote to server=2
server=0, currentTerm=31 >= args.Term=26, reject to vote to server=2
server=0, currentTerm=31 >= args.Term=23, reject to vote to server=2
server=0, currentTerm=31 >= args.Term=9, reject to vote to server=2
server=4, currentTerm=31 >= args.Term=4, reject to vote to server=2
server=1, currentTerm=31 >= args.Term=19, reject to vote to server=2
server=0, currentTerm=31 >= args.Term=15, reject to vote to server=2
对于index=102日志, 有0个节点已经达成共识, 一共有5个节点
server=3, currentTerm=31 >= args.Term=27, reject to vote to server=0
心跳超时, id=4, time=1705031364884
id=4 vote to itself, term=32, time=1705031364884
id=4 send to id=3
server=3 currentTerm=32 > args.Term=32, vote reject
id=4 send to id=0
server=0 currentTerm=32 > args.Term=32, vote reject
id=4 send to id=1
server=1 currentTerm=32 > args.Term=32, vote reject
id=4 get vote less than 1/2 votes. grantedCount=1
id=4 send to id=2
心跳超时, id=1, time=1705031364956
id=1 vote to itself, term=33, time=1705031364957
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
id=1 send to id=3
server=2, currentTerm=32 >= args.Term=29, reject to vote to server=0
server=0, currentTerm=32 >= args.Term=12, reject to vote to server=2
对于index=102日志, 有0个节点已经达成共识, 一共有5个节点
server=4, currentTerm=32 >= args.Term=14, reject to vote to server=2
server=3 currentTerm=33 > args.Term=33, vote reject
server=2, currentTerm=33 >= args.Term=12, reject to vote to server=0
id=1 become leader, lastLogIdx=102, leaderCommit=101
follower=4's logs are diff from leader, need to sync
server=1, currentTerm=33 >= args.Term=15, reject to vote to server=2
follower=4 will handle count=1, curIndex=101
follower=4 receive log, firstTerm=31, firstIndex=102, lastTerm=31, lastIndex=102
server=1, currentTerm=33 >= args.Term=8, reject to vote to server=2
heart beat handle success, leader=1, me=0, term=33, myCommit=101, time=1705031364997
server=1, currentTerm=33 >= args.Term=6, reject to vote to server=2
follower=2's logs are diff from leader, need to sync
server=4, currentTerm=33 >= args.Term=11, reject to vote to server=2
follower=2 will handle count=1, curIndex=101
server=0, currentTerm=33 >= args.Term=18, reject to vote to server=2
follower=2 will handle count=2, curIndex=101
follower=2 will handle count=3, curIndex=101
follower=2 will handle count=4, curIndex=101
follower=2 will handle count=5, curIndex=101
follower=2 will handle count=6, curIndex=101
server=3, currentTerm=33 >= args.Term=5, reject to vote to server=0
server=2, currentTerm=33 >= args.Term=22, reject to vote to server=0
follower=2 will handle count=7, curIndex=101
对于index=102日志, 有0个节点已经达成共识, 一共有5个节点
server=1, currentTerm=33 >= args.Term=23, reject to vote to server=2
server=3, currentTerm=33 >= args.Term=18, reject to vote to server=2
server=1, currentTerm=33 >= args.Term=22, reject to vote to server=2
server=3, currentTerm=33 >= args.Term=12, reject to vote to server=2
server=1, currentTerm=33 >= args.Term=26, reject to vote to server=2
heart beat handle success, leader=1, me=3, term=33, myCommit=101, time=1705031365094
follower=2 will handle count=8, curIndex=101
follower=2 will handle count=9, curIndex=101
follower=2 will handle count=10, curIndex=101
follower=2 will handle count=11, curIndex=101
follower=2 will handle count=12, curIndex=101
follower=2 will handle count=13, curIndex=101
follower=2 will handle count=14, curIndex=101
follower=2 will handle count=15, curIndex=101
follower=2 will handle count=16, curIndex=101
follower=2 will handle count=17, curIndex=101
follower=2 will handle count=18, curIndex=101
follower=2 will handle count=19, curIndex=101
follower=2 will handle count=20, curIndex=101
follower=2 will handle count=21, curIndex=101
follower=2 will handle count=22, curIndex=101
server=3, currentTerm=33 >= args.Term=14, reject to vote to server=0
server=0, currentTerm=33 >= args.Term=27, reject to vote to server=2
对于index=102日志, 有0个节点已经达成共识, 一共有5个节点
server=2, currentTerm=33 >= args.Term=25, reject to vote to server=1
id=1 change to follower from leader
server=1, currentTerm=33 >= args.Term=28, reject to vote to server=2
server=2, currentTerm=33 >= args.Term=20, reject to vote to server=0
heart beat handle success, leader=1, me=0, term=33, myCommit=101, time=1705031365214
heart beat handle success, leader=1, me=4, term=33, myCommit=101, time=1705031365214
follower=2 will handle count=23, curIndex=101
server=1, currentTerm=33 >= args.Term=30, reject to vote to server=2
对于index=102日志, 有0个节点已经达成共识, 一共有5个节点
server=3, currentTerm=33 >= args.Term=19, reject to vote to server=2
leader=1 refresh commit success, put logIndex=[102], rf.matchIndex=[102 102 78 102 102]
server=4, currentTerm=33 >= args.Term=9, reject to vote to server=2
server=3, currentTerm=33 >= args.Term=14, reject to vote to server=2
server=3, currentTerm=33 >= args.Term=28, reject to vote to server=2
对于index=102日志, 有1个节点已经达成共识, 一共有5个节点
server=1, currentTerm=33 >= args.Term=7, reject to vote to server=2
server=2, currentTerm=33 >= args.Term=18, reject to vote to server=0
server=3, currentTerm=33 >= args.Term=8, reject to vote to server=0
server=3, currentTerm=33 >= args.Term=10, reject to vote to server=0
server=3, currentTerm=33 >= args.Term=12, reject to vote to server=0
server=4, currentTerm=33 >= args.Term=29, reject to vote to server=2
对于index=102日志, 有1个节点已经达成共识, 一共有5个节点
server=0, currentTerm=33 >= args.Term=10, reject to vote to server=2
server=2, currentTerm=33 >= args.Term=15, reject to vote to server=0
server=2, currentTerm=33 >= args.Term=26, reject to vote to server=0
server=3, currentTerm=33 >= args.Term=24, reject to vote to server=0
server=3, currentTerm=33 >= args.Term=31, reject to vote to server=1
对于index=102日志, 有1个节点已经达成共识, 一共有5个节点
server=4, currentTerm=33 >= args.Term=30, reject to vote to server=2
心跳超时, id=3, time=1705031365605
id=3 vote to itself, term=34, time=1705031365620
id=3 send to id=4
id=3 send to id=0
server=2, currentTerm=33 >= args.Term=3, reject to vote to server=0
server=2, currentTerm=33 >= args.Term=9, reject to vote to server=0
id=3 send to id=2
id=3 become leader, lastLogIdx=102, leaderCommit=101
server=3, currentTerm=34 >= args.Term=6, reject to vote to server=0
follower=2's logs are diff from leader, need to sync
follower=2 will handle count=1, curIndex=101
heart beat handle success, leader=3, me=4, term=34, myCommit=101, time=1705031365656
follower=2 will handle count=2, curIndex=101
follower=2 will handle count=3, curIndex=101
follower=2 will handle count=4, curIndex=101
heart beat handle success, leader=3, me=0, term=34, myCommit=101, time=1705031365655
follower=2 will handle count=5, curIndex=101
follower=2 will handle count=6, curIndex=101
follower=2 will handle count=7, curIndex=101
对于index=102日志, 有1个节点已经达成共识, 一共有5个节点
server=0, currentTerm=34 >= args.Term=13, reject to vote to server=2
server=1, currentTerm=33 >= args.Term=21, reject to vote to server=2
id=3 send to id=1
heart beat handle success, leader=3, me=1, term=34, myCommit=101, time=1705031365720
follower=2 will handle count=8, curIndex=101
heart beat handle success, leader=3, me=4, term=34, myCommit=101, time=1705031365759
server=0, currentTerm=33 >= args.Term=31, reject to vote to server=2
heart beat handle success, leader=3, me=0, term=34, myCommit=101, time=1705031365810
heart beat handle success, leader=3, me=1, term=34, myCommit=101, time=1705031365821
server=4, currentTerm=34 >= args.Term=26, reject to vote to server=2
server=4, currentTerm=34 >= args.Term=19, reject to vote to server=2
对于index=102日志, 有1个节点已经达成共识, 一共有5个节点
server=0, currentTerm=34 >= args.Term=17, reject to vote to server=2
follower=2 will handle count=8, curIndex=101
follower=2 will handle count=9, curIndex=101
heart beat handle success, leader=3, me=0, term=34, myCommit=101, time=1705031365911
follower=2 will handle count=10, curIndex=101
follower=2 will handle count=11, curIndex=101
follower=2 will handle count=12, curIndex=101
follower=2 will handle count=13, curIndex=101
follower=2 will handle count=14, curIndex=101
follower=2 will handle count=15, curIndex=101
server=3, currentTerm=34 >= args.Term=19, reject to vote to server=0
server=0, currentTerm=34 >= args.Term=5, reject to vote to server=2
leader=3 refresh commit success, put logIndex=[102], rf.matchIndex=[102 102 86 102 102]
heart beat handle success, leader=3, me=4, term=34, myCommit=101, time=1705031365959
server=3, currentTerm=34 >= args.Term=8, reject to vote to server=2
server=1, currentTerm=34 >= args.Term=20, reject to vote to server=2
follower=2 will handle count=16, curIndex=101
follower=2 will handle count=17, curIndex=101
follower=2 will handle count=18, curIndex=101
对于index=102日志, 有2个节点已经达成共识, 一共有5个节点
follower=2 will handle count=19, curIndex=101
follower=2 will handle count=20, curIndex=101
follower=2 will handle count=21, curIndex=101
follower=2 will handle count=22, curIndex=101
follower=2 will handle count=23, curIndex=101
follower=2 will handle count=24, curIndex=101
follower=2 will handle count=25, curIndex=101
follower=2 will handle count=26, curIndex=101
follower=2 will handle count=27, curIndex=101
follower=2 will handle count=28, curIndex=101
follower=1 refresh commit success, put logIndex=[102]
heart beat handle success, leader=3, me=1, term=34, myCommit=102, time=1705031366003
server=3, currentTerm=34 >= args.Term=17, reject to vote to server=0
follower=0 refresh commit success, put logIndex=[102]
heart beat handle success, leader=3, me=0, term=34, myCommit=102, time=1705031366012
server=0, currentTerm=34 >= args.Term=16, reject to vote to server=2
server=3, currentTerm=34 >= args.Term=28, reject to vote to server=0
leader=3 receive one log, logIndex=103
send cmd to 3, index=103
对于index=103日志, 有0个节点已经达成共识, 一共有5个节点
server=1, currentTerm=34 >= args.Term=32, reject to vote to server=2
server=3, currentTerm=34 >= args.Term=21, reject to vote to server=0
server=3, currentTerm=34 >= args.Term=30, reject to vote to server=2
follower=2 will handle count=29, curIndex=101
server=3, currentTerm=34 >= args.Term=11, reject to vote to server=0
follower=1 will handle count=1, curIndex=102
follower=1 receive log, firstTerm=34, firstIndex=103, lastTerm=34, lastIndex=103
follower=0 will handle count=1, curIndex=102
follower=0 receive log, firstTerm=34, firstIndex=103, lastTerm=34, lastIndex=103
server=3, currentTerm=34 >= args.Term=18, reject to vote to server=0
leader=3 refresh commit success, put logIndex=[103], rf.matchIndex=[103 103 73 103 102]
对于index=103日志, 有1个节点已经达成共识, 一共有5个节点
server=2, currentTerm=34 >= args.Term=13, reject to vote to server=0
server=3, currentTerm=34 >= args.Term=26, reject to vote to server=0
server=3, currentTerm=34 >= args.Term=25, reject to vote to server=0
follower=0 refresh commit success, put logIndex=[103]
heart beat handle success, leader=3, me=0, term=34, myCommit=103, time=1705031366219
follower=2 will handle count=30, curIndex=101
server=2, currentTerm=34 >= args.Term=4, reject to vote to server=0
对于index=103日志, 有2个节点已经达成共识, 一共有5个节点
follower=1 refresh commit success, put logIndex=[103]
heart beat handle success, leader=3, me=1, term=34, myCommit=103, time=1705031366302
heart beat handle success, leader=3, me=0, term=34, myCommit=103, time=1705031366350
follower=4 will handle count=1, curIndex=102
follower=4 refresh commit success, put logIndex=[102 103]
follower=4 receive log, firstTerm=34, firstIndex=103, lastTerm=34, lastIndex=103
server=3, currentTerm=34 >= args.Term=16, reject to vote to server=2
follower=4 will handle count=1, curIndex=103
follower=4 receive log, firstTerm=34, firstIndex=103, lastTerm=34, lastIndex=103
server=0, currentTerm=34 >= args.Term=3, reject to vote to server=2
对于index=103日志, 有4个节点已经达成共识, 一共有5个节点
follower=2 will handle count=30, curIndex=101
follower=2 will handle count=31, curIndex=101
follower=2 will handle count=32, curIndex=101
follower=2 will handle count=33, curIndex=101
follower=2 will handle count=34, curIndex=101
server=4, currentTerm=34 >= args.Term=10, reject to vote to server=2
heart beat handle success, leader=3, me=1, term=34, myCommit=103, time=1705031366444
heart beat handle success, leader=3, me=0, term=34, myCommit=103, time=1705031366451
follower=2 will handle count=35, curIndex=101
follower=2 will handle count=36, curIndex=101
follower=2 will handle count=37, curIndex=101
follower=2 will handle count=38, curIndex=101
follower=2 will handle count=39, curIndex=101
对于index=103日志, 有4个节点已经达成共识, 一共有5个节点
server=4, currentTerm=34 >= args.Term=15, reject to vote to server=2
follower=4 refresh commit success, put logIndex=[103]
heart beat handle success, leader=3, me=4, term=34, myCommit=103, time=1705031366540
server=3, currentTerm=34 >= args.Term=23, reject to vote to server=0
server=4, currentTerm=34 >= args.Term=28, reject to vote to server=2
follower=2 will handle count=40, curIndex=101
heart beat handle success, leader=3, me=1, term=34, myCommit=103, time=1705031366588
server=1, currentTerm=34 >= args.Term=24, reject to vote to server=2
server=0, currentTerm=34 >= args.Term=19, reject to vote to server=2
对于index=103日志, 有4个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=3, me=0, term=34, myCommit=103, time=1705031366633
server=4, currentTerm=34 >= args.Term=18, reject to vote to server=2
heart beat handle success, leader=3, me=4, term=34, myCommit=103, time=1705031366666
server=3, currentTerm=34 >= args.Term=3, reject to vote to server=2
follower=2 will handle count=40, curIndex=101
follower=2 will handle count=41, curIndex=101
follower=2 will handle count=42, curIndex=101
follower=2 will handle count=43, curIndex=101
server=3, currentTerm=34 >= args.Term=16, reject to vote to server=0
对于index=103日志, 有4个节点已经达成共识, 一共有5个节点
follower=2 will handle count=44, curIndex=101
follower=2 will handle count=45, curIndex=101
follower=2 will handle count=46, curIndex=101
follower=2 will handle count=47, curIndex=101
follower=2 will handle count=48, curIndex=101
follower=2 will handle count=49, curIndex=101
follower=2 will handle count=50, curIndex=101
对于index=103日志, 有4个节点已经达成共识, 一共有5个节点
heart beat handle success, leader=3, me=4, term=34, myCommit=103, time=1705031366827
server=1, currentTerm=34 >= args.Term=14, reject to vote to server=2
server=4, currentTerm=34 >= args.Term=8, reject to vote to server=2
follower=2 will handle count=51, curIndex=101
follower=2 will handle count=52, curIndex=101
follower=2 refresh commit success, put logIndex=[52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103]
follower=2 receive log, firstTerm=31, firstIndex=52, lastTerm=34, lastIndex=103
heart beat handle success, leader=3, me=0, term=34, myCommit=103, time=1705031366897
server=4, currentTerm=34 >= args.Term=31, reject to vote to server=2
对于index=103日志, 有5个节点已经达成共识, 一共有5个节点
  ... Passed --  53.2  5 4079 2647239  103
heart beat handle success, leader=3, me=1, term=34, myCommit=103, time=1705031366904
disconnect(0)
make an entry id=0
disconnect(1)
make an entry id=1
disconnect(2)
make an entry id=2
connect(0)
connect(1)
connect(2)
Test (2B): RPC counts aren't too high ...
选举超时, id=1, time=1705031367262
id=1 vote to itself, term=1, time=1705031367290
id=1 send to id=0
id=1 send to id=2
选举超时, id=0, time=1705031367302
id=0 vote to itself, term=1, time=1705031367306
id=0 send to id=2
id=0 send to id=1
选举超时, id=2, time=1705031367323
id=2 vote to itself, term=1, time=1705031367323
id=2 send to id=1
id=2 send to id=0
心跳超时, id=4, time=1705031367347
id=4 vote to itself, term=35, time=1705031367347
id=4 send to id=3
id=4 send to id=0
id=4 send to id=1
id=4 send to id=2
心跳超时, id=0, time=1705031367456
id=0 vote to itself, term=35, time=1705031367456
id=0 send to id=4
id=0 send to id=1
id=0 send to id=2
心跳超时, id=1, time=1705031367415
id=1 vote to itself, term=35, time=1705031367467
id=1 send to id=4
id=1 send to id=0
id=1 send to id=2
心跳超时, id=2, time=1705031367454
id=2 vote to itself, term=35, time=1705031367485
id=2 send to id=4
id=2 send to id=1
id=0 send to id=3
id=1 send to id=3
id=2 become leader, lastLogIdx=0, leaderCommit=0
id=2 change to follower from leader
id=0 become leader, lastLogIdx=0, leaderCommit=0
id=0 change to follower from leader
id=2 send to id=3
id=2 send to id=0
心跳超时, id=1, time=1705031368034
id=1 vote to itself, term=2, time=1705031368034
id=1 send to id=2
id=1 send to id=0
id=1 become leader, lastLogIdx=0, leaderCommit=0
heart beat handle success, leader=1, me=0, term=2, myCommit=0, time=1705031368037
heart beat handle success, leader=1, me=2, term=2, myCommit=0, time=1705031368037
heart beat handle success, leader=1, me=0, term=2, myCommit=0, time=1705031368037
heart beat handle success, leader=1, me=2, term=2, myCommit=0, time=1705031368043
heart beat handle success, leader=1, me=0, term=2, myCommit=0, time=1705031368140
heart beat handle success, leader=1, me=0, term=2, myCommit=0, time=1705031368242
heart beat handle success, leader=1, me=2, term=2, myCommit=0, time=1705031368309
heart beat handle success, leader=1, me=2, term=2, myCommit=0, time=1705031368326
heart beat handle success, leader=1, me=0, term=2, myCommit=0, time=1705031368363
heart beat handle success, leader=1, me=2, term=2, myCommit=0, time=1705031368426
heart beat handle success, leader=1, me=0, term=2, myCommit=0, time=1705031368470
heart beat handle success, leader=1, me=2, term=2, myCommit=0, time=1705031368527
heart beat handle success, leader=1, me=0, term=2, myCommit=0, time=1705031368635
heart beat handle success, leader=1, me=0, term=2, myCommit=0, time=1705031368753
heart beat handle success, leader=1, me=2, term=2, myCommit=0, time=1705031368833
heart beat handle success, leader=1, me=2, term=2, myCommit=0, time=1705031368935
heart beat handle success, leader=1, me=0, term=2, myCommit=0, time=1705031368994
leader=1 receive one log, logIndex=1
leader=1 receive one log, logIndex=2
leader=1 receive one log, logIndex=3
leader=1 receive one log, logIndex=4
leader=1 receive one log, logIndex=5
leader=1 receive one log, logIndex=6
leader=1 receive one log, logIndex=7
leader=1 receive one log, logIndex=8
leader=1 receive one log, logIndex=9
leader=1 receive one log, logIndex=10
leader=1 receive one log, logIndex=11
leader=1 receive one log, logIndex=12
follower=2 will handle count=12, curIndex=0
follower=0 will handle count=12, curIndex=0
leader=1 refresh commit success, put logIndex=[1 2 3 4 5 6 7 8 9 10 11 12], rf.matchIndex=[12 12 12]
follower=2 refresh commit success, put logIndex=[1 2 3 4 5 6 7 8 9 10 11 12]
heart beat handle success, leader=1, me=2, term=2, myCommit=12, time=1705031369171
follower=0 refresh commit success, put logIndex=[1 2 3 4 5 6 7 8 9 10 11 12]
heart beat handle success, leader=1, me=0, term=2, myCommit=12, time=1705031369173
heart beat handle success, leader=1, me=0, term=2, myCommit=12, time=1705031369360
heart beat handle success, leader=1, me=2, term=2, myCommit=12, time=1705031369456
heart beat handle success, leader=1, me=2, term=2, myCommit=12, time=1705031369566
heart beat handle success, leader=1, me=0, term=2, myCommit=12, time=1705031369667
heart beat handle success, leader=1, me=0, term=2, myCommit=12, time=1705031369706
heart beat handle success, leader=1, me=2, term=2, myCommit=12, time=1705031369741
heart beat handle success, leader=1, me=2, term=2, myCommit=12, time=1705031369763
  ... Passed --   2.8  3   37   12514   12
FAIL
exit status 1
FAIL	6.5840/raft	83.351s
